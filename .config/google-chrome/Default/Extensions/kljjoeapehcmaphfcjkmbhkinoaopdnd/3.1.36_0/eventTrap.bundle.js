(()=>{"use strict";let e;function t(e){if(e instanceof PointerEvent)return new PointerEvent(e.type,function(e){return Object.assign(Object.assign({},n(e)),{pointerId:e.pointerId,width:e.width,height:e.height,pressure:e.pressure,tangentialPressure:e.tangentialPressure,tiltX:e.tiltX,tiltY:e.tiltY,twist:e.twist,pointerType:e.pointerType,isPrimary:e.isPrimary})}(e));if(e instanceof DragEvent)return new DragEvent(e.type,function(e){return Object.assign(Object.assign({},n(e)),{dataTransfer:e.dataTransfer})}(e));if(e instanceof MouseEvent)return new MouseEvent(e.type,n(e));if(e instanceof KeyboardEvent)return new KeyboardEvent(e.type,function(e){return Object.assign(Object.assign({},o(e)),{key:e.key,code:e.code,location:e.location,repeat:e.repeat,isComposing:e.isComposing,charCode:e.charCode,keyCode:e.keyCode,which:e.which,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey})}(e));if(e instanceof FocusEvent)return new FocusEvent(e.type,function(e){return Object.assign(Object.assign({},o(e)),{relatedTarget:e.relatedTarget})}(e));if(e instanceof Event)return new Event(e.type,{bubbles:!0,cancelable:!1,composed:!1});throw new Error("cloning this event type is not implemented")}function n(e){return Object.assign(Object.assign({},o(e)),{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey})}function o(e){return Object.assign(Object.assign({},{bubbles:!0,cancelable:!1,composed:!1}),{view:e.view,detail:e.detail})}function r(n){window.addEventListener(n,(n=>{if(!(n.target instanceof Node))return;const o=e||(e=document.querySelector("#otherside-root"));if(o)if(n instanceof PointerEvent){if(o.contains(n.target)){const e=new CustomEvent("hw-ferry-event",{detail:t(n),composed:!0,bubbles:!0});n.stopImmediatePropagation(),n.composedPath()[0].dispatchEvent(e)}}else if(n instanceof DragEvent){if(o.contains(n.target)){const e=new CustomEvent("hw-ferry-event",{detail:t(n),composed:!0,bubbles:!0});n.stopImmediatePropagation(),n.composedPath()[0].dispatchEvent(e)}}else if(n instanceof MouseEvent){if(o.contains(n.target)){const e=new CustomEvent("hw-ferry-event",{detail:t(n),composed:!0,bubbles:!0});n.stopImmediatePropagation(),n.composedPath()[0].dispatchEvent(e)}}else if(n instanceof KeyboardEvent){if(o.contains(n.target)){const e=new CustomEvent("hw-ferry-event",{detail:t(n),composed:!0,bubbles:!0});n.stopImmediatePropagation(),n.composedPath()[0].dispatchEvent(e)}}else if(n instanceof FocusEvent)if(o.contains(n.target)){const e=new CustomEvent("hw-ferry-event",{detail:t(n),composed:!0,bubbles:!0});n.stopImmediatePropagation(),n.preventDefault(),n.composedPath()[0].dispatchEvent(e)}else("blur"===n.type||"focusout"===n.type)&&n.relatedTarget instanceof Node&&o.contains(n.relatedTarget)&&(n.stopImmediatePropagation(),n.preventDefault());else if(n instanceof Event&&o.contains(n.target)){const e=new CustomEvent("hw-ferry-event",{detail:t(n),composed:!0,bubbles:!0});n.stopImmediatePropagation(),n.composedPath()[0].dispatchEvent(e)}}),!0)}["keydown","keyup","keypress"].forEach((e=>r(e))),["click","pointerdown","pointerup"].forEach((e=>r(e))),["mousedown","mouseup","contextmenu"].forEach((e=>r(e))),["focus","focusout","focusin","blur"].forEach((e=>r(e))),["drag","dragend","dragenter","dragleave","dragover","dragstart","drop"].forEach((e=>r(e))),["paste"].forEach((e=>r(e)))})();