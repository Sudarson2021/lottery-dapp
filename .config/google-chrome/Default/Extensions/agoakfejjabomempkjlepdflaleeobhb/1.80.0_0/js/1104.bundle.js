
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="22b97be9-090d-577a-b1c6-bce37bba79cc")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[1104],{99187:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var s=r(48637);const n=1024,i=1024;async function o(t,e,r){const s=t.slice(0,n),i=t.slice(n),d=await a(e,{...r,addresses:s});if(i.length){const s=await o(i,e,{...r,addresses:t});return d.merge(s)}return d}async function a(t,e){if(e.addresses.length>n)throw new Error(`Can not get UTXOs for more than ${n} addresses.`);const{endIndex:r,utxos:o}=await t.getUTXOs(e),d=new s.P6.UtxoSet(o);if(o.length>=i){const s=await a(t,{...e,startIndex:r});return d.merge(s)}return d}},1960:(t,e,r)=>{"use strict";r.d(e,{f:()=>n});const s=256;async function n(t,e){const r=t.slice(0,s),i=t.slice(s),o=await e.getStake({addresses:r});if(i.length){const t=await n(i,e);return{staked:o.staked+t.staked,stakedOutputs:[...o.stakedOutputs,...t.stakedOutputs]}}return o}},19849:(t,e,r)=>{"use strict";r.d(e,{Mu:()=>a,OT:()=>o,OX:()=>d,fR:()=>g});var s=r(48637);const{isStakeableLockOut:n,isTransferOut:i}=s.P6;function o(t){return t.sort(((t,e)=>{const r=t.output,s=e.output,o=n(r),a=n(s);if(o&&!a)return-1;if(a&&!o)return 1;if(n(r)&&n(s)){const t=r.getStakeableLocktime(),e=s.getStakeableLocktime();if(t<e)return 1;if(t>e)return-1}else if(i(r)&&i(s)){if(r.amount()>s.amount())return-1;if(r.amount()<s.amount())return 1}return 0}))}function a(t,e){return t.sort(((t,r)=>{const s=t.output,o=r.output;let a=BigInt(0);(i(s)||n(s))&&(a=s.amount());let d=BigInt(0);(i(o)||n(o))&&(d=o.amount());const g=e?d-a:a-d;return g>0?1:g<0?-1:0}))}const d=t=>a(t,!0),g=t=>a(t,!1)},21104:(t,e,r)=>{"use strict";r.d(e,{$:()=>u});var s=r(48637),n=r(2996),i=(r(23482),r(37786),r(99187)),o=r(1960),a=(r(2153),r(45538),r(19849)),d=(r(30246),r(23085).lW);const{parse:g,hexToBuffer:c}=s.P6;class u{constructor(t){this.provider=t}setProvider(t){this.provider=t}getProvider(){return this.provider}async getUTXOs(t){const e=this.provider.getApi(t);return(0,i.Z)(this.getAddresses(t),e)}async getStake(){const t=this.provider.getApiP();return(0,o.f)(this.getAddresses("P"),t)}async getAtomicUTXOs(t,e){if(t===e)throw new Error("Chain can not be the same as source chain.");const r=this.provider.getApi(t),s=this.provider.getChainID(e);return(0,i.Z)(this.getAddresses(t),r,{sourceChain:s,addresses:[]})}exportX(t,e,r,n){n=n||this.getCurrentAddress(r);const i=g(n)[2],o=this.provider.getAvaxID(),d=s.eO.fromNative(o,t,[i]),c=(0,a.Mu)(e.getUTXOs(),!0),u=this.provider.getChainID(r),l=this.getAddresses("X").map((t=>g(t)[2])),h=g(this.getChangeAddress("X"))[2];return s.DS.newExportTx(this.provider.getContext(),u,l,c,[d],{threshold:1,changeAddresses:[h]})}importP(t,e,r){const n=this.provider.getChainID(e),i=this.getAddresses("P").map((t=>g(t)[2])),o=g(this.getChangeAddress("P"))[2];r=r||this.getCurrentAddress("P");const a=g(r)[2];return s.CQ.newImportTx(this.provider.getContext(),n,t.getUTXOs(),[a],i,{changeAddresses:[o]})}importX(t,e,r){const n=this.provider.getChainID(e),i=this.getAddresses("X").map((t=>g(t)[2])),o=g(this.getChangeAddress("X"))[2];r=r||this.getCurrentAddress("X");const a=g(r)[2];return s.DS.newImportTx(this.provider.getContext(),n,t.getUTXOs(),[a],i,{changeAddresses:[o]})}importC(t,e,r,i,o){const a=this.provider.getChainID(e),c=this.getAddresses("C").map((t=>g(t)[2]));o=o||this.getAddressEVM();const u=d.from((0,n.I)(o),"hex");return s.oN.newImportTxFromBaseFee(this.provider.getContext(),u,c,t.getUTXOs(),a,r,i)}exportC(t,e,r,n,i){const o=c(this.getAddressEVM()),a=this.provider.getChainID(e);i=i||this.getCurrentAddress(e);const d=g(i)[2],u=n/BigInt(1e9);return s.oN.newExportTxFromBaseFee(this.provider.getContext(),u,t,a,o,[d],r)}async getNonce(){const t=this.getAddressEVM();return await this.provider.evmRpc.getTransactionCount(t)}exportP(t,e,r,n){n=n||this.getCurrentAddress(r);const i=g(n)[2],o=this.provider.getAvaxID(),d=s.eO.fromNative(o,t,[i]),c=(0,a.Mu)(e.getUTXOs(),!0),u=this.provider.getChainID(r),l=this.getAddresses("P").map((t=>g(t)[2])),h=g(this.getChangeAddress("P"))[2];return s.CQ.newExportTx(this.provider.getContext(),u,l,c,[d],{changeAddresses:[h]})}addValidator(t,e,r,n,i,o,d){const c=(0,a.OT)(t.getUTXOs()),u=this.getAddresses("P").map((t=>g(t)[2])),l=d?.rewardAddress||this.getCurrentAddress("P"),h=g(l)[2],p=g(this.getChangeAddress("P"))[2];return s.CQ.newAddValidatorTx(this.provider.getContext(),c,u,e,n,i,r,[h],o,{changeAddresses:[p]})}addDelegator(t,e,r,n,i,o){const d=(0,a.OT)(t.getUTXOs()),c=this.getAddresses("P").map((t=>g(t)[2])),u=o?.rewardAddress||this.getCurrentAddress("P"),l=g(u)[2],h=g(this.getChangeAddress("P"))[2];return s.CQ.newAddDelegatorTx(this.provider.getContext(),d,c,e,n,i,r,[l],{changeAddresses:[h]})}consolidateP(t,e,r,n){const i=(0,a.fR)(t.getUTXOs());r=r??this.getCurrentAddress("P");const o=g(r)[2],d=this.provider.getContext(),c=[s.eO.fromNative(d.avaxAssetID,e,[o])],u=this.getAddresses("P").map((t=>g(t)[2]));return s.CQ.newBaseTx(this.provider.getContext(),u,i,c,n)}baseTX(t,e,r,n,i,o){const[d,c,u]=g(r);if(d!==e||c!==this.provider.getHrp())throw new Error(`Invalid recipient address "${r}"`);const l=Object.entries(n).map((([t,e])=>s.eO.fromNative(t,e,[u]))),h=(0,a.Mu)(t.getUTXOs(),!0),p=(o??this.getAddresses(e)).map((t=>g(t)[2]));return"X"===e?s.DS.newBaseTx(this.provider.getContext(),p,h,l,i):s.CQ.newBaseTx(this.provider.getContext(),p,h,l,i)}createBlockchain(t,e,r,n,i,o,d,c,u){const l=(0,a.Mu)(t.getUTXOs(),!0),h=(u??this.getAddresses("P")).map((t=>g(t)[2]));return s.CQ.newCreateBlockchainTx(this.provider.getContext(),l,h,e,r,n,i,o,d,c)}createSubnet(t,e,r,n,i,o){const d=(0,a.Mu)(t.getUTXOs(),!0),c=(r??this.getAddresses("P")).map((t=>g(t)[2])),u=e.map((t=>g(t)[2]));return s.CQ.newCreateSubnetTx(this.provider.getContext(),d,c,u,n,i??1,o??BigInt(0))}addSubnetValidator(t,e,r,n,i,o,d,c,u){const l=(0,a.Mu)(t.getUTXOs(),!0),h=(c??this.getAddresses("P")).map((t=>g(t)[2]));return s.CQ.newAddSubnetValidatorTx(this.provider.getContext(),l,h,e,r,n,i,o,d,u)}addPermissionlessValidator(t,e,r,n,i,o,d,c,u,l,h,p,f){const v=(0,a.OT)(t.getUTXOs()),m=(c??this.getAddresses("P")).map((t=>g(t)[2])),A=(u??[this.getCurrentAddress("P")]).map((t=>g(t)[2])),C=(l??[this.getCurrentAddress("P")]).map((t=>g(t)[2]));if(!(o!==s.GV.PrimaryNetworkID.toString()||h&&p))throw new Error("Must provide public key and signature for primary subnet.");const T={changeAddresses:[g(this.getChangeAddress("P"))[2]],...f??{}};return s.CQ.newAddPermissionlessValidatorTx(this.provider.getContext(),v,m,e,o,r,n,i,A,C,d,T,void 0,void 0,h,p)}addPermissionlessDelegator(t,e,r,n,i,o,d,c,u){const l=(0,a.OT)(t.getUTXOs()),h=(d??this.getAddresses("P")).map((t=>g(t)[2])),p=(c??[this.getCurrentAddress("P")]).map((t=>g(t)[2])),f={changeAddresses:[g(this.getChangeAddress("P"))[2]],...u??{}};return s.CQ.newAddPermissionlessDelegatorTx(this.provider.getContext(),l,h,e,o,r,n,i,p,f,void 0,void 0)}removeSubnetValidator(t,e,r,n,i,o){const d=(0,a.Mu)(t.getUTXOs(),!0),c=(i??this.getAddresses("P")).map((t=>g(t)[2]));return s.CQ.newRemoveSubnetValidatorTx(this.provider.getContext(),d,c,e,r,n,o)}transferSubnetOwnershipTx(t,e,r,n,i,o,d,c){const u=(0,a.Mu)(t.getUTXOs(),!0),l=(i??this.getAddresses("P")).map((t=>g(t)[2])),h=n.map((t=>g(t)[2]));return s.CQ.newTransferSubnetOwnershipTx(this.provider.getContext(),u,l,e,r,h,o,d??1,c??BigInt(0))}transformSubnetTx(t,e,r,n,i,o,d,c,u,l,h,p,f,v,m,A,C,T){const w=(0,a.Mu)(t.getUTXOs(),!0),x=(C??this.getAddresses("P")).map((t=>g(t)[2]));return s.CQ.newTransformSubnetTx(this.provider.getContext(),w,x,e,r,n,i,o,d,c,u,l,h,p,f,v,m,A,T)}}},10559:(t,e,r)=>{var s=r(29970).FilterCSS,n=r(29970).getDefaultWhiteList,i=r(12291);var o=new s;function a(t){return t.replace(d,"&lt;").replace(g,"&gt;")}var d=/</g,g=/>/g,c=/"/g,u=/&quot;/g,l=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,p=/&newline;?/gim,f=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,v=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,m=/u\s*r\s*l\s*\(.*/gi;function A(t){return t.replace(c,"&quot;")}function C(t){return t.replace(u,'"')}function T(t){return t.replace(l,(function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))}))}function w(t){return t.replace(h,":").replace(p," ")}function x(t){for(var e="",r=0,s=t.length;r<s;r++)e+=t.charCodeAt(r)<32?" ":t.charAt(r);return i.trim(e)}function b(t){return x(t=w(t=T(t=C(t))))}function I(t){return a(t=A(t))}e.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},e.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},e.onTag=function(t,e,r){},e.onIgnoreTag=function(t,e,r){},e.onTagAttr=function(t,e,r){},e.onIgnoreTagAttr=function(t,e,r){},e.safeAttrValue=function(t,e,r,s){if(r=b(r),"href"===e||"src"===e){if("#"===(r=i.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===e){if(f.lastIndex=0,f.test(r))return""}else if("style"===e){if(v.lastIndex=0,v.test(r))return"";if(m.lastIndex=0,m.test(r)&&(f.lastIndex=0,f.test(r)))return"";!1!==s&&(r=(s=s||o).process(r))}return I(r)},e.escapeHtml=a,e.escapeQuote=A,e.unescapeQuote=C,e.escapeHtmlEntities=T,e.escapeDangerHtml5Entities=w,e.clearNonPrintableCharacter=x,e.friendlyAttrValue=b,e.escapeAttrValue=I,e.onIgnoreTagStripAll=function(){return""},e.StripTagBody=function(t,e){"function"!=typeof e&&(e=function(){});var r=!Array.isArray(t),s=[],n=!1;return{onIgnoreTag:function(o,a,d){if(function(e){return!!r||-1!==i.indexOf(t,e)}(o)){if(d.isClosing){var g="[/removed]",c=d.position+g.length;return s.push([!1!==n?n:d.position,c]),n=!1,g}return n||(n=d.position),"[removed]"}return e(o,a,d)},remove:function(t){var e="",r=0;return i.forEach(s,(function(s){e+=t.slice(r,s[0]),r=s[1]})),e+=t.slice(r)}}},e.stripCommentTag=function(t){for(var e="",r=0;r<t.length;){var s=t.indexOf("\x3c!--",r);if(-1===s){e+=t.slice(r);break}e+=t.slice(r,s);var n=t.indexOf("--\x3e",s);if(-1===n)break;r=n+3}return e},e.stripBlankChar=function(t){var e=t.split("");return(e=e.filter((function(t){var e=t.charCodeAt(0);return!(127===e||e<=31&&10!==e&&13!==e)}))).join("")},e.cssFilter=o,e.getDefaultCSSWhiteList=n},45538:(t,e,r)=>{var s=r(10559),n=r(97270),i=r(30336);function o(t,e){return new i(e).process(t)}(e=t.exports=o).filterXSS=o,e.FilterXSS=i,function(){for(var t in s)e[t]=s[t];for(var r in n)e[r]=n[r]}(),"undefined"!=typeof window&&(window.filterXSS=t.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=t.exports)},97270:(t,e,r)=>{var s=r(12291);function n(t){var e,r=s.spaceIndex(t);return e=-1===r?t.slice(1,-1):t.slice(1,r+1),"/"===(e=s.trim(e).toLowerCase()).slice(0,1)&&(e=e.slice(1)),"/"===e.slice(-1)&&(e=e.slice(0,-1)),e}function i(t){return"</"===t.slice(0,2)}var o=/[^a-zA-Z0-9\\_:.-]/gim;function a(t,e){for(;e<t.length;e++){var r=t[e];if(" "!==r)return"="===r?e:-1}}function d(t,e){for(;e<t.length;e++){var r=t[e];if(" "!==r)return"'"===r||'"'===r?e:-1}}function g(t,e){for(;e>0;e--){var r=t[e];if(" "!==r)return"="===r?e:-1}}function c(t){return function(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}(t)?t.substr(1,t.length-2):t}e.parseTag=function(t,e,r){"use strict";var s="",o=0,a=!1,d=!1,g=0,c=t.length,u="",l="";t:for(g=0;g<c;g++){var h=t.charAt(g);if(!1===a){if("<"===h){a=g;continue}}else if(!1===d){if("<"===h){s+=r(t.slice(o,g)),a=g,o=g;continue}if(">"===h||g===c-1){s+=r(t.slice(o,a)),u=n(l=t.slice(a,g+1)),s+=e(a,s.length,u,l,i(l)),o=g+1,a=!1;continue}if('"'===h||"'"===h)for(var p=1,f=t.charAt(g-p);""===f.trim()||"="===f;){if("="===f){d=h;continue t}f=t.charAt(g-++p)}}else if(h===d){d=!1;continue}}return o<c&&(s+=r(t.substr(o))),s},e.parseAttr=function(t,e){"use strict";var r=0,n=0,i=[],u=!1,l=t.length;function h(t,r){if(!((t=(t=s.trim(t)).replace(o,"").toLowerCase()).length<1)){var n=e(t,r||"");n&&i.push(n)}}for(var p=0;p<l;p++){var f,v=t.charAt(p);if(!1!==u||"="!==v)if(!1===u||p!==n){if(/\s|\n|\t/.test(v)){if(t=t.replace(/\s|\n|\t/g," "),!1===u){if(-1===(f=a(t,p))){h(s.trim(t.slice(r,p))),u=!1,r=p+1;continue}p=f-1;continue}if(-1===(f=g(t,p-1))){h(u,c(s.trim(t.slice(r,p)))),u=!1,r=p+1;continue}}}else{if(-1===(f=t.indexOf(v,p+1)))break;h(u,s.trim(t.slice(n+1,f))),u=!1,r=(p=f)+1}else u=t.slice(r,p),r=p+1,n='"'===t.charAt(r)||"'"===t.charAt(r)?r:d(t,p+1)}return r<t.length&&(!1===u?h(t.slice(r)):h(u,c(s.trim(t.slice(r))))),s.trim(i.join(" "))}},12291:t=>{t.exports={indexOf:function(t,e){var r,s;if(Array.prototype.indexOf)return t.indexOf(e);for(r=0,s=t.length;r<s;r++)if(t[r]===e)return r;return-1},forEach:function(t,e,r){var s,n;if(Array.prototype.forEach)return t.forEach(e,r);for(s=0,n=t.length;s<n;s++)e.call(r,t[s],s,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/.exec(t);return e?e.index:-1}}},30336:(t,e,r)=>{var s=r(25108),n=r(29970).FilterCSS,i=r(10559),o=r(97270),a=o.parseTag,d=o.parseAttr,g=r(12291);function c(t){return null==t}function u(t){(t=function(t){var e={};for(var r in t)e[r]=t[r];return e}(t||{})).stripIgnoreTag&&(t.onIgnoreTag&&s.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=i.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=function(t){var e={};for(var r in t)Array.isArray(t[r])?e[r.toLowerCase()]=t[r].map((function(t){return t.toLowerCase()})):e[r.toLowerCase()]=t[r];return e}(t.whiteList||t.allowList):t.whiteList=i.whiteList,t.onTag=t.onTag||i.onTag,t.onTagAttr=t.onTagAttr||i.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||i.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||i.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||i.safeAttrValue,t.escapeHtml=t.escapeHtml||i.escapeHtml,this.options=t,!1===t.css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new n(t.css))}u.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,r=e.whiteList,s=e.onTag,n=e.onIgnoreTag,o=e.onTagAttr,u=e.onIgnoreTagAttr,l=e.safeAttrValue,h=e.escapeHtml,p=this.cssFilter;e.stripBlankChar&&(t=i.stripBlankChar(t)),e.allowCommentTag||(t=i.stripCommentTag(t));var f=!1;e.stripIgnoreTagBody&&(f=i.StripTagBody(e.stripIgnoreTagBody,n),n=f.onIgnoreTag);var v=a(t,(function(t,e,i,a,f){var v={sourcePosition:t,position:e,isClosing:f,isWhite:Object.prototype.hasOwnProperty.call(r,i)},m=s(i,a,v);if(!c(m))return m;if(v.isWhite){if(v.isClosing)return"</"+i+">";var A=function(t){var e=g.spaceIndex(t);if(-1===e)return{html:"",closing:"/"===t[t.length-2]};var r="/"===(t=g.trim(t.slice(e+1,-1)))[t.length-1];return r&&(t=g.trim(t.slice(0,-1))),{html:t,closing:r}}(a),C=r[i],T=d(A.html,(function(t,e){var r=-1!==g.indexOf(C,t),s=o(i,t,e,r);return c(s)?r?(e=l(i,t,e,p))?t+'="'+e+'"':t:c(s=u(i,t,e,r))?void 0:s:s}));return a="<"+i,T&&(a+=" "+T),A.closing&&(a+=" /"),a+">"}return c(m=n(i,a,v))?h(a):m}),h);return f&&(v=f.remove(v)),v},t.exports=u}}]);
//# debugId=22b97be9-090d-577a-b1c6-bce37bba79cc
