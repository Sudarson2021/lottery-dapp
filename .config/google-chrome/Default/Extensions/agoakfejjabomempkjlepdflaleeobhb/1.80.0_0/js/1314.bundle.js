"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="225aca6d-bf5e-56f0-b2de-e0661a276d9a")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[1314],{30825:(e,t,n)=>{n.d(t,{H:()=>i});var a=n(90948),r=n(68483);const i=(0,a.ZP)(r.Kqy)`
  width: 80px;
  height: 80px;
  background-color: ${({theme:e})=>e.palette.background.paper};
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  margin: ${({margin:e})=>e??"8px 0"};
`},32672:(e,t,n)=>{n.d(t,{T:()=>u});var a=n(87462),r=n(68483),i=n(57832),s=n(67294),o=n(67294);const c="50%",d="32px",l=e=>{const t=(e||"").split(" "),n=t[0],a=t[t.length-1];return n&&a?n.substring(0,1)+a.substring(0,1):n?n.substring(0,1):""};function u({src:e,children:t,width:n,height:u,name:h,...m}){const[p,g]=(0,s.useState)();if((0,s.useEffect)((()=>{let t=!1;return new Promise(((t,n)=>{if(!e)return void n("no source value");const a=document.createElement("img");a.onerror=e=>{n(e)},a.onload=()=>{t(a)},a.src=(0,i.w)(e)})).then((()=>{!t&&g({success:!0})})).catch((()=>{!t&&g({error:!0})})),()=>{t=!0}}),[h,e]),!p)return o.createElement(r.Kqy,(0,a.Z)({direction:"row",justifyContent:"center",alignItems:"center",sx:{borderRadius:c,backgroundColor:"grey.600",width:n||d,height:u||d,flexShrink:0}},m),o.createElement(r.D8x,{size:5}));if(p.success)return o.createElement(r.Kqy,(0,a.Z)({direction:"row",sx:{borderRadius:c,width:n||d,height:u||d,flexShrink:0}},m,{as:"img",src:(0,i.w)(e)}));if(p.error){const e=l(h);return t??o.createElement(r.Kqy,(0,a.Z)({direction:"row",justifyContent:"center",alignItems:"center",sx:{borderRadius:c,backgroundColor:"grey.600",width:n||d,height:u||d,flexShrink:0}},m),o.createElement(r.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibolds"}},e))}}},24479:(e,t,n)=>{n.d(t,{v:()=>l});var a=n(46935),r=n(5453),i=n(69518),s=n(95034),o=n(67294),c=n(23900),d=n(2606);function l(e){const{request:t}=(0,i.K)(),n=(0,c.h)(c.A.CONFIRM),{approval:l}=(0,d.t$)(),[u,h]=(0,o.useState)(),[m]=(0,o.useState)(""),p=(0,o.useCallback)((async(e,i)=>{h((t=>{if(t)return{...t,status:e.status,displayData:{...t.displayData,...e.displayData}}}));const s=n&&e.status!==r.M4.PENDING;return t({method:a.a.ACTION_UPDATE,params:[e,i]}).finally((()=>{s&&globalThis.close()}))}),[t,n]),g=(0,o.useCallback)((async()=>p({status:r.M4.ERROR_USER_CANCELED,id:e})),[e,p]);return(0,o.useEffect)((()=>{n?t({method:a.a.ACTION_GET,params:[e]}).then(h):l?.action.actionId===e&&h(l.action)}),[e,t,l,n]),(0,s.W)(g),{action:u,updateAction:p,error:m,cancelHandler:g}}},70460:(e,t,n)=>{n.d(t,{$:()=>i});var a=n(67294),r=n(47886);function i(){const e=(0,r.TH)();return(0,a.useMemo)((()=>new URLSearchParams(e.search??"").get("actionId")??""),[e.search])}},68424:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(93e3),r=n(9830),i=n(85759);function s(e){const{accounts:{active:t}}=(0,r.a)(),n=t?.type===a.Qm.FIREBLOCKS;return Boolean((0,i.P)()&&e&&n)}},51314:(e,t,n)=>{n.r(t),n.d(t,{SetDeveloperMode:()=>m});var a=n(70460),r=n(5453),i=n(32672),s=n(24479),o=n(26793),c=n(62440),d=n(68483),l=n(30825),u=n(68424),h=n(67294);function m(){const{t:e}=(0,o.$)(),t=(0,a.$)(),{action:n,updateAction:m,cancelHandler:p}=(0,s.v)(t),g=(0,u.Z)(n?.displayData.isTestmode);if(!n)return h.createElement(d.Kqy,{sx:{width:1,height:1,justifyContent:"center",alignItems:"center"}},h.createElement(d.D8x,null));const w=n.displayData;return h.createElement(d.Kqy,{sx:{py:1,px:2,width:1,height:1}},h.createElement(d.Kqy,{sx:{height:1,width:1,flexGrow:1,alignItems:"center",justifyContent:"center",px:2}},h.createElement(l.H,{sx:{mb:3}},h.createElement(i.T,{height:"48px",width:"48px",src:w?.logoUri},h.createElement(d.n9J,{size:48}))),h.createElement(d.ZT$,{sx:{pb:2},variant:"h4"},n.displayData?.isTestmode?e("Activate"):e("Deactivate")," ",e("Testnet Mode?")),h.createElement(d.ZT$,{sx:{textAlign:"center",maxWidth:1,wordWrap:"break-word"},variant:"body1"},h.createElement(c.c,{i18nKey:"{{domain}} is requesting to turn Testnet Mode {{mode}}",values:{mode:n.displayData?.isTestmode?e("ON"):e("OFF"),domain:n.site?.domain||e("This website")}})),g&&h.createElement(d.ZT$,{variant:"caption",sx:{mt:3,color:"warning.main"}},e("Approving will also switch to your primary account, as Fireblocks-imported accounts are not supported in testnet mode at the moment."))),h.createElement(d.Kqy,{sx:{width:"100%",flexDirection:"row",alignItems:"flex-end",flexGrow:1,gap:1}},h.createElement(d.zxk,{color:"secondary","data-testid":"transaction-reject-btn",size:"large",fullWidth:!0,disabled:n.status===r.M4.SUBMITTING,onClick:()=>{p(),window.close()}},e("Reject")),h.createElement(d.zxk,{"data-testid":"transaction-approve-btn",size:"large",fullWidth:!0,disabled:n.status===r.M4.SUBMITTING,onClick:()=>{m({status:r.M4.SUBMITTING,id:t}),window.close()},width:"168px"},e("Approve"))))}},95034:(e,t,n)=>{n.d(t,{W:()=>c});var a=n(67294),r=n(83),i=n(45399),s=n(94975),o=n(73335);function c(e){(0,a.useEffect)((()=>{const t=(0,r.T)((0,i.R)((e=>{window.addEventListener("unload",e)}),(e=>{window.removeEventListener("unload",e)})),(0,i.R)((e=>{window.addEventListener("visibilitychange",e)}),(e=>{window.removeEventListener("visibilitychange",e)})).pipe((0,s.h)((()=>"hidden"===document.visibilityState)))).pipe((0,o.P)()).subscribe((()=>{e()}));return()=>{t.unsubscribe()}}),[e])}}}]);
//# debugId=225aca6d-bf5e-56f0-b2de-e0661a276d9a
