"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="56b67c55-e194-5eb1-b177-5f42c1580d8c")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[9482],{51418:(e,t,n)=>{n.d(t,{r:()=>E});var a=n(87462),r=n(67294),o=n(13550),i=n.n(o),l=n(93302),s=n.n(l),c=n(90948),u=n(68483),d=n(5099),m=n(7248);s().PE=99,s().NE=-18;const p=(0,c.ZP)(u.nvn)`
  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  padding: 0;
`;function E({value:e,denomination:t,onChange:n,min:o=new(i())(0),max:l,isValueLoading:c,error:E,disabled:g,fullWidth:y,withMaxButton:h=!0,...x}){const[b,f]=(0,r.useState)("");(0,r.useEffect)((()=>{if(void 0!==e){if((!e.eq(new(i())(0))||0!==Number(b))&&e){const n=new(s())(e.toString()).div(Math.pow(10,t));b&&n.eq(b)||f(n.toString())}}else 0!==Number(b)&&f("")}),[t,b,e]);const S=e=>{const[,a]=(r=e).includes(".")?r.split("."):[r,null];var r;if(!a||a.length<=t){const a=(0,d.A)(e||0,t);if(a.lt(o))return;const r=(0,d.A)(b||0,t);a.eq(r)||n?.({amount:e?(0,m.X)(a,t):"0",bn:a}),f(e)}};return r.createElement(u.Kqy,{sx:{position:"relative"}},r.createElement(p,(0,a.Z)({fullWidth:y,value:b,onChange:e=>S(e.target.value),type:"number",onKeyDown:e=>{"KeyE"!==e.code&&"-"!==e.key&&"+"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault()},onClick:e=>{e.stopPropagation()},onWheel:e=>{e.target===document.activeElement&&document.activeElement.blur()},error:E,placeholder:"0.0",sx:{width:y?"auto":"180px"},InputProps:{disabled:g,endAdornment:h?c?r.createElement(u.D8x,{size:16,sx:{height:"auto !important"}}):l?r.createElement(u.oGm,{position:"end"},r.createElement(u.zxk,{variant:"text",size:"small",onClick:e=>{if(e.stopPropagation(),!l)return;const n=new(s())(l.toString()).div(Math.pow(10,t));S(n.toString())},sx:{p:0,justifyContent:"flex-end"}},"Max")):null:null,inputMode:"text",sx:{py:1,px:2}}},x)))}},37690:(e,t,n)=>{n.d(t,{W:()=>o});var a=n(90948),r=n(68483);const o=(0,a.ZP)(r.Kqy)`
  align-items: end;
  padding-left: 8px;
  line-height: 14px;
`},7325:(e,t,n)=>{n.d(t,{U:()=>c});var a=n(87462),r=n(68483),o=n(2734),i=n(67294),l=n(67294);const s=(0,i.forwardRef)((({sx:e={},...t},n)=>l.createElement(r.Kqy,(0,a.Z)({ref:n,sx:{position:"absolute",overflowY:"hidden",backgroundColor:"common.black",zIndex:2,transition:"height 0.15s ease, opacity 0.15s ease",right:0,...e}},t))));s.displayName="Dropdown";const c=({anchorEl:e,children:t,isOpen:n=!1,width:a,height:r,margin:c,borderRadius:u,setIsOpen:d,containerRef:m})=>{const p=((e,t)=>{if(!e.current||!window.visualViewport)return 0;const n=e.current.getBoundingClientRect().top-e.current.offsetHeight;return t?.current?t.current.getBoundingClientRect().bottom-n:window.visualViewport.height-n-16})(e,m),E=(e=>e?.current?e?.current?.offsetTop+e?.current?.offsetHeight:0)(e),g=(0,i.useRef)(null),{spacing:y}=(0,o.Z)();return(0,i.useEffect)((()=>{const t=t=>{const n=e.current?.contains(t.target),a=g.current?.contains(t.target);n||a||d(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}}),[e,d]),l.createElement(s,{sx:{width:a??"100%",borderRadius:u??y(0,0,1,1),margin:c??"0",height:n?`${r||p}px`:0,top:E,opacity:n?1:0},ref:g},t)}},37113:(e,t,n)=>{n.d(t,{L:()=>s,h:()=>c});var a=n(87462),r=n(2734),o=n(68483),i=n(67294);const l=({...e})=>{const t=(0,r.Z)();return i.createElement(o.v4q,(0,a.Z)({size:20,sx:{".MuiSelect-icon":{transition:"transform 150ms ease-in-out",right:t.spacing(2),top:"calc(50% - 10px)"},".MuiSelect-iconOpen":{transform:"rotateX(180deg)"}}},e))},s=({children:e,...t})=>{const n=(0,r.Z)(),{SelectProps:s,InputProps:c,...u}=(({InputProps:{sx:e={},...t}={},SelectProps:{MenuProps:{PaperProps:{sx:n={},...a}={},...o}={},...i}={},...s})=>{const c=(0,r.Z)();return{InputProps:{sx:{padding:0,height:c.spacing(6),border:`1px solid ${c.palette.grey[800]}`,backgroundColor:c.palette.grey[850],fontSize:c.typography.body1.fontSize,"&.Mui-focused":{backgroundColor:c.palette.grey[850]},".MuiOutlinedInput-notchedOutline, &:hover .MuiOutlinedInput-notchedOutline":{border:"none"},".MuiOutlinedInput-input":{padding:c.spacing(1.5,2)},...e},...t},SelectProps:{IconComponent:l,MenuProps:{PaperProps:{sx:{border:`1px solid ${c.palette.grey[850]}`,maxWidth:343,maxHeight:144,mt:2,...n},...a},...o},...i},...s}})(t);return i.createElement(o.PhF,(0,a.Z)({variant:"outlined",InputProps:c,SelectProps:s,inputLabelProps:{sx:{transform:"none",fontSize:n.typography.body2.fontSize}}},u),e)},c=({sx:e,children:t,...n})=>{const l=(0,r.Z)();return i.createElement(o.sNh,(0,a.Z)({sx:{minHeight:"auto",height:l.spacing(5),fontSize:l.typography.body2.fontSize,gap:1,...e}},n),t)}},2409:(e,t,n)=>{n.d(t,{F:()=>u,e:()=>c});var a=n(1336),r=n(36609),o=n(68483),i=n(26793),l=n(13673),s=n(67294);function c(e){return{[l.o.BRIDGE]:(0,r.t)("Bridge"),[l.o.SWAP]:(0,r.t)("Swap"),[l.o.SEND]:(0,r.t)("Send"),[l.o.BUY]:(0,r.t)("Buy"),[l.o.DEFI]:(0,r.t)("DeFi"),[l.o.KEYSTONE]:(0,r.t)("Keystone"),[l.o.TOKEN_DETAILS]:(0,r.t)("Token Details")}[e]}function u({functionName:e,hidePageTitle:t,children:n}){const{t:r}=(0,i.$)();return s.createElement(o.Kqy,{sx:{height:"100%",width:"100%"}},!t&&s.createElement(a.V,{variant:a.D.PRIMARY},r("Sorry")),s.createElement(o.Kqy,{sx:{alignItems:"center",justifyContent:"center",flexGrow:1}},s.createElement(o.go2,{size:72,sx:{mb:3,mt:-9}}),s.createElement(o.ZT$,{variant:"h5",sx:{mb:1}},r("Feature Disabled")),s.createElement(o.ZT$,{size:16,align:"center",height:"24px",sx:{color:"text.secondary"}},r("{{functionName}} is currently unavailable.",{functionName:c(e)??r("This Feature")})),s.createElement(o.ZT$,{sx:{color:"text.secondary"}},r("Please check back later and try again.")),n))}},97725:(e,t,n)=>{n.d(t,{H:()=>l});var a=n(68483),r=n(45246),o=n(67294);function i(e,t){return t.length>e}function l({maxLength:e,text:t,className:n}){const l=t.length<=e?t:(0,r.F)(t,e/2);return o.createElement("span",{className:n},o.createElement(a.ua7,{placement:"bottom",title:t,disableHoverListener:!i(e,t),disableFocusListener:!i(e,t),sx:{cursor:"pointer"}},o.createElement(o.Fragment,null,l)))}},71446:(e,t,n)=>{n.d(t,{H:()=>D});var a=n(67294),r=n(96505),o=n(7325),i=n(62035),l=n(45691),s=n(7248),c=n(5099),u=n(26793),d=n(37690),m=n(35951),p=n(641),E=n(90948),g=n(68483),y=n(51418),h=n(97725),x=n(67294);function b({token:e,onClick:t,isOpen:n,hideCaretIcon:a,label:r}){const{t:o}=(0,u.$)();return x.createElement(g.Kqy,{onClick:t,sx:{alignItems:"center",width:"100%",flexDirection:"row",cursor:"pointer",pr:2}},!e&&x.createElement(x.Fragment,null,x.createElement(g.ZT$,{variant:"body2",sx:{mr:1},fontWeight:600},r||o("Select")),n?x.createElement(g.g8U,null):x.createElement(g.v4q,null)),e&&x.createElement(x.Fragment,null,e.icon,x.createElement(g.ZT$,{variant:"body2",sx:{mx:1},fontWeight:600},x.createElement(h.H,{maxLength:7,text:e.name||""})),a?null:n?x.createElement(g.g8U,null):x.createElement(g.v4q,null)))}var f=n(37113),S=n(87796);const w=({tokensList:e,bridgeTokensList:t,searchQuery:n})=>(0,a.useMemo)((()=>[...e?e.filter((e=>!n.length||e.name.toLowerCase().includes(n.toLowerCase())||e.symbol.toLowerCase().includes(n.toLowerCase()))).map((e=>({name:e.name,symbol:e.symbol,displayValue:e.balanceDisplayValue??"",token:e}))):[],...t?t.filter((e=>!n.length||e.symbol.toLowerCase().includes(n.toLowerCase())||e.symbolOnNetwork?.toLowerCase().includes(n.toLocaleLowerCase()))).map((e=>{return{name:e.symbolOnNetwork||e.symbol,symbol:e.asset.symbol,displayValue:(t=e.balance,t?(0,S.L)(t,6):"-"),token:e};var t})):[]]),[e,t,n]);var k=n(32672),A=n(67294);const T=(0,E.ZP)(g.Zbd)`
  justify-content: space-between;
  align-items: center;
  padding: 8px 16px;
  background: ${({theme:e})=>e.palette.grey[850]};
  cursor: pointer;
  display: flex;
`,v=(0,E.ZP)(g.Kqy)`
  position: relative;
`,C=(0,E.ZP)(g.Kqy)`
  flex-grow: 1;
  background: ${({theme:e})=>e.palette.grey[850]};
  border-radius: 0 0 8px 8px;
  z-index: 2;
`,I=(0,E.ZP)(g.Kqy)`
  padding-left: 16px;
  padding-right: 16px;
`,N=(0,E.ZP)(f.h)`
  padding: 8px 16px;
`;function D({selectedToken:e,onTokenChange:t,tokensList:n,maxAmount:E,inputAmount:x,onInputAmountChange:f,onSelectToggle:S,isOpen:D,error:_,padding:L,label:P,selectorLabel:M,isValueLoading:B,hideErrorMessage:V,skipHandleMaxAmount:Z,bridgeTokensList:$,setIsOpen:O,containerRef:K,withMaxButton:F=!0}){const{t:H}=(0,u.$)(),{currencyFormatter:R,currency:q}=(0,r.K)(),U=(0,a.useRef)(null),[z,W]=(0,a.useState)(""),[G,Y]=(0,a.useState)(),X=e?.decimals||18,j=E?(0,s.X)(E,X):null,[Q,J]=(0,a.useState)(!1),ee=(0,a.useCallback)((({amount:e,bn:t})=>{j?(J(j===e),f&&f({amount:e,bn:t})):f&&f({amount:e,bn:t})}),[f,j]),te=$&&$.length<2||n&&n.length<2,ne=w({tokensList:n,bridgeTokensList:$,searchQuery:z}),ae=(0,a.useMemo)((()=>x&&!x.isZero()&&e?.priceUSD?R(parseFloat((0,s.X)(x,X).replace(/,/g,""))*e.priceUSD):void 0),[R,X,x,e]);(0,a.useEffect)((()=>{Y(ae)}),[ae]),(0,a.useEffect)((()=>{Q&&j&&!Z&&ee({amount:j,bn:(0,c.A)(j,X)})}),[j,ee,Q,Z,X]),(0,a.useEffect)((()=>{const a=$??n,r=1===a?.length?a[0]:void 0;if(r&&r?.symbol!==e?.symbol)return void t(r);const o=a?.flatMap((e=>[e.symbol,e.symbolOnNetwork]))??[];e&&a?.[0]&&!o.includes(e.symbol)&&t(a[0])}),[$,n,t,e]);const re=(0,a.useCallback)((({key:e,index:n,style:a})=>{const r=ne[n];return r?A.createElement(N,{style:a,"data-testid":`token-search-menu-item-${n}`,key:e,onClick:()=>{t(r.token),S&&S()}},A.createElement(g.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexGrow:1}},A.createElement(g.Kqy,{sx:{flexDirection:"row",alignItems:"center"}},A.createElement(k.T,{width:"32px",height:"32px",src:"ETH"===r.symbol?i.Z:r.token.logoUri,name:r.symbol}),A.createElement(g.ZT$,{variant:"h6",sx:{ml:2}},A.createElement(h.H,{text:r.name,maxLength:14}))),A.createElement(d.W,null,A.createElement(g.ZT$,{variant:"body1"},r.displayValue," ",A.createElement(h.H,{text:r.symbol,maxLength:8}))))):A.createElement("div",{style:a,key:e})}),[ne,S,t]),oe=(0,a.useCallback)((()=>e&&((0,l.zi)(e)||(0,l.Ov)(e))?(0,l.zi)(e)?A.createElement(g.Kqy,{sx:{flexDirection:"row",alignItems:"center"}},!!e?.unconfirmedBalance?.toNumber()&&A.createElement(g.ua7,{placement:"top",title:`${H("Unavailable")}: ${e?.unconfirmedBalanceDisplayValue} ${e?.symbol}`},A.createElement(g.uMt,{sx:{mr:.5,cursor:"pointer"}})),H("Available Balance"),": ",e?.balanceDisplayValue??"0"):(0,l.Ov)(e)?A.createElement(g.Kqy,{sx:{flexDirection:"row",alignItems:"center"}},!!e?.balance.toNumber()&&A.createElement(g.ua7,{placement:"top",title:`${H("Total Balance")}: ${e?.balanceDisplayValue} ${e?.symbol}`},A.createElement(g.uMt,{sx:{mr:.5,cursor:"pointer"}})),H("Spendable Balance"),":"," ",e?.availableDisplayValue??"0"):void 0:`${H("Balance")}: ${e?.balanceDisplayValue??"0"}`),[e,H]);return A.createElement(g.Kqy,{sx:{width:"100%"}},A.createElement(g.Kqy,{sx:{alignItems:"flex-end",justifyContent:"space-between",flexDirection:"row",padding:L,m:()=>L?"0":"0 0 8px"}},A.createElement(g.ZT$,{variant:"body2",fontWeight:"fontWeightSemibold"},P??H("Token")),A.createElement(g.ZT$,{variant:"caption",sx:{color:"text.secondary"}},oe())),A.createElement(v,null,A.createElement(T,{"data-testid":"token-selector-dropdown",ref:U,sx:{flexDirection:"row",padding:L,borderRadius:D?"8px 8px 0 0":"8px"}},A.createElement(b,{onClick:S,isOpen:D,token:e?{name:e?.symbol,icon:A.createElement(k.T,{width:"32px",height:"32px",src:e?.logoUri,name:e?.name})}:null,hideCaretIcon:te,label:M??H("Select Token")}),A.createElement(y.r,{value:Q&&!Z&&E||x,denomination:X,onChange:ee,isValueLoading:B,"data-testid":"token-amount-input",max:B?void 0:E||e?.balance,withMaxButton:F})),A.createElement(g.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between",padding:L,m:()=>L?"0":"4px 0 0 0"}},A.createElement(g.ZT$,{variant:"caption",sx:{color:e=>e.palette.error.main}},V?"":_),A.createElement(g.Kqy,{sx:{minHeight:"14px"}},A.createElement(g.ZT$,{variant:"caption",sx:{color:"text.secondary"}},void 0!==e?.priceUSD&&(G?`${G.replace(q,"")} ${q}`:`${R(0).replace(q,"")} ${q}`)))),!te&&A.createElement(o.U,{anchorEl:U,isOpen:D,setIsOpen:O,containerRef:K},A.createElement(C,null,A.createElement(g.izJ,{sx:{mx:2,mt:1}}),A.createElement(I,null,A.createElement(g.E1j,{onChange:e=>W(e.currentTarget.value),placeholder:H("Search"),sx:{my:2},"data-testid":"search-input"})),A.createElement(g.Kqy,{sx:{flexDirection:"column",flexGrow:1}},A.createElement(m.qj,null,(({height:e,width:t})=>A.createElement(p.Z,{height:e,rowCount:ne.length,rowHeight:48,rowRenderer:re,width:t}))))))))}},641:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(90948),r=n(35951);const o=(0,a.ZP)(r.aV)`
  &::-webkit-scrollbar {
    width: 6px;
  }
  &::-webkit-scrollbar-thumb {
    background: ${({theme:e})=>e.palette.divider};
    border-radius: 3px;
  }
`},13673:(e,t,n)=>{n.d(t,{o:()=>g,a:()=>w});var a=n(49530),r=n(32738),o=n(4563),i=n(19108),l=n(9830),s=n(43023),c=n(93e3),u=n(36553),d=n(64631);var m=n(26821),p=n(62334),E=n(23246);let g=function(e){return e.BRIDGE="Bridge",e.BUY="Buy",e.COLLECTIBLES="COLLECTIBLES",e.DEFI="DeFi",e.FEATURE="Feature",e.KEYSTONE="Keystone",e.MANAGE_TOKEN="ManageTokens",e.RECEIVE="Receive",e.SEND="Send",e.SWAP="Swap",e.SIGN="Sign",e.TOKEN_DETAILS="TokenDetails",e}({});const y={[g.BRIDGE]:o.yy.BRIDGE,[g.BUY]:o.yy.BUY,[g.DEFI]:o.yy.DEFI,[g.KEYSTONE]:o.yy.KEYSTONE,[g.SEND]:o.yy.SEND,[g.SWAP]:o.yy.SWAP},h=[g.BRIDGE,g.SEND,g.SWAP,g.SIGN],x=(e,t)=>!![a.a_.BITCOIN,a.a_.BITCOIN_TESTNET].includes(e)&&(!Boolean(t.addressBTC)||(0,r.VI)(t)||(0,r.Uc)(t)&&!(0,i.Z)(t)),b=(e,t)=>{const n=(0,p.p)(e),a=(0,E.v)(e);if(!n&&!a)return!1;const o=Boolean(t.addressPVM),i=Boolean(t.addressAVM);return n&&!o||a&&!i||(0,r.VI)(t)||(0,r.Uc)(t)},f={ManageTokens:{networks:[a.a_.BITCOIN,a.a_.AVALANCHE_P,a.a_.AVALANCHE_TEST_P,a.a_.AVALANCHE_X,a.a_.AVALANCHE_TEST_X],complexChecks:[]},Receive:{networks:[],complexChecks:[x,b]},Send:{networks:[],complexChecks:[x,b]},Bridge:{networks:[a.a_.AVALANCHE_P,a.a_.AVALANCHE_TEST_P,a.a_.AVALANCHE_X,a.a_.AVALANCHE_TEST_X,a.a_.DFK,a.a_.DFK_TESTNET,a.a_.SWIMMER,a.a_.SWIMMER_TESTNET],complexChecks:[x]}},S={COLLECTIBLES:[a.a_.AVALANCHE_MAINNET_ID,a.a_.AVALANCHE_TESTNET_ID,a.a_.ETHEREUM_HOMESTEAD],Swap:[a.a_.AVALANCHE_MAINNET_ID],Buy:[a.a_.AVALANCHE_MAINNET_ID,a.a_.AVALANCHE_TESTNET_ID]},w=e=>{const{network:t}=(0,s.g)(),n=(()=>{const{walletDetails:e}=(0,d.t)(),{accounts:{active:t}}=(0,l.a)();return e?.type===u.Y.Seedless&&t?.type===c.Qm.PRIMARY})(),{featureFlags:a}=(0,m.d)(),{accounts:{active:r}}=(0,l.a)(),i=Boolean(t&&r),x=e=>{if(n&&h.includes(e)&&!a[o.yy.SEEDLESS_SIGNING])return!1;if(e===g.SEND){if((0,p.B)(t))return Boolean(!!r?.addressPVM&&a[o.yy.SEND]&&a[o.yy.SEND_P_CHAIN]);if((0,E.n)(t))return Boolean(!!r?.addressAVM&&a[o.yy.SEND]&&a[o.yy.SEND_X_CHAIN])}const i=y[e];return!i||a[i]},b=e=>{if(!t||!r)return!1;const n=(0,p.B)(t)&&!r.addressPVM,a=(0,E.n)(t)&&!r.addressAVM;if(e===g.SEND&&(n||a))return!1;if(S[e]&&!S[e].includes(t.chainId))return!1;const o=f[e];if(o){const e=o.networks.includes(t.chainId),n=o.complexChecks.some((e=>e(t.chainId,r)));return!e&&!n}return!0};return t&&r&&e?{isReady:i,isFunctionAvailable:x(e??g.FEATURE),isFunctionSupported:b(e),checkIsFunctionSupported:b,checkIsFunctionAvailable:x}:{isReady:i,isFunctionAvailable:!1,isFunctionSupported:!1,checkIsFunctionSupported:b,checkIsFunctionAvailable:x}}},61359:(e,t,n)=>{n.d(t,{t:()=>o});var a=n(27641),r=n(67294);function o(){const{capture:e}=(0,a.O)();return{sendTokenSelectedAnalytics:(0,r.useCallback)((t=>{e(`${t}_TokenSelected`)}),[e]),sendAmountEnteredAnalytics:(0,r.useCallback)((t=>{e(`${t}_AmountEntered`)}),[e])}}},62035:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/ded72d1ea95e9c1cff1193ff74d59bf3.png"}}]);
//# debugId=56b67c55-e194-5eb1-b177-5f42c1580d8c
