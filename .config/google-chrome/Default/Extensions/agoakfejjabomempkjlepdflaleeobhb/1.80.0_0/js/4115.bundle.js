"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="18398cd6-e2ca-5c49-b914-4bf3ed38ec3b")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[4115],{84115:(e,t,a)=>{a.r(t),a.d(t,{ExportPrivateKey:()=>C});var r=a(67294),n=a(90948),l=a(68483),i=a(1336),o=a(27641),c=a(26793),s=a(47886),p=a(67294);const d=(0,n.ZP)(l.Kqy)`
  background: ${({theme:e})=>e.palette.grey[850]};
  border-radius: 50%;
  border: 1px solid white;
  justify-content: center;
  align-items: center;
  width: 64px;
  height: 64px;
  margin-top: 24px;
`;function u({setPassword:e,errorMessage:t,isLoading:a,onSubmit:r,password:n}){const u=(0,s.k6)(),{t:m}=(0,c.$)(),{capture:y}=(0,o.O)();return p.createElement(p.Fragment,null,p.createElement(l.Kqy,null,p.createElement(i.V,{margin:"22px 0 4px 0",onBackClick:()=>{y("ExportPrivateKeyCancelled"),u.length<=2?u.replace("/accounts"):u.goBack()}},m("Enter Password")),p.createElement(l.Kqy,{sx:{alignItems:"center"}},p.createElement(d,null,p.createElement(l._m8,{size:32}))),p.createElement(l.Kqy,{sx:{px:2,mt:3}},p.createElement(l.nvn,{"data-testid":"password-input",type:"password",label:m("Password"),onChange:t=>e(t.currentTarget.value.trim()),placeholder:m("Enter Password"),error:!!t,helperText:t,size:"medium",fullWidth:!0,autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&r()}}))),p.createElement(l.Kqy,{sx:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",p:2}},p.createElement(l.Kqy,{sx:{width:"100%",flexDirection:"row",flexGrow:1,gap:1}},p.createElement(l.zxk,{size:"large","data-testid":"export-private-key-enter-password-cancel",fullWidth:!0,variant:"contained",color:"secondary",onClick:()=>{y("ExportPrivateKeyCancelled"),u.replace("/accounts")}},m("Cancel")),p.createElement(l.zxk,{color:"primary",size:"large",onClick:()=>{r()},"data-testid":"export-private-key-enter-password-next",type:"primary",fullWidth:!0,variant:"contained",disabled:!n,isLoading:a},m("Next")))))}var m=a(2734),y=a(70582),x=a(67294);function E({privateKey:e}){const t=(0,s.k6)(),{t:a}=(0,c.$)(),n=(0,m.Z)(),{capture:p}=(0,o.O)(),u=(0,r.useCallback)((()=>{navigator.clipboard.writeText(e||""),p("ExportPrivateKeyCopied"),y.ZP.success(a("Copied!"),{duration:2e3})}),[p,e,a]);return x.createElement(x.Fragment,null,x.createElement(l.Kqy,null,x.createElement(i.V,{margin:"22px 0 4px 0",onBackClick:()=>t.length<=2?t.replace("/accounts"):t.goBack()},a("Your Private Key")),x.createElement(l.Kqy,{sx:{px:2,rowGap:3}},x.createElement(l.Kqy,{sx:{alignItems:"center"}},x.createElement(d,null,x.createElement(l._m8,{size:32}))),x.createElement(l.bZj,{severity:"warning"},x.createElement(l.CdC,null,a("Protect your Private Key")),x.createElement(l.BZi,null,a("Do not share your Private Key with anyone including Core Support"))),x.createElement(l.Kqy,{onClick:u,sx:{backgroundColor:n.palette.grey[850],flexDirection:"row",columnGap:2,p:2,width:"100%",cursor:"pointer",borderRadius:1,alignItems:"center"},"data-testid":"copy-private-key"},x.createElement(l.Kqy,{sx:{wordBreak:"break-all"}},x.createElement(l.ZT$,{variant:"body1"},e)),x.createElement(l.Kqy,{sx:{rowGap:1}},x.createElement(l.TIy,{size:24}))))),x.createElement(l.Kqy,{sx:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",p:2}},x.createElement(l.Kqy,{sx:{width:"100%",flexDirection:"row",flexGrow:1,gap:1}},x.createElement(l.zxk,{size:"large",onClick:()=>t.replace("/accounts"),"data-testid":"export-private-key-cancel",fullWidth:!0,variant:"contained",color:"secondary"},a("Cancel")),x.createElement(l.zxk,{color:"primary",size:"large","data-testid":"export-private-key-done",type:"primary",fullWidth:!0,variant:"contained",onClick:()=>t.replace("/accounts")},a("Done")))))}var g=a(46935),w=a(69518),v=a(9830),h=a(93e3),k=a(64631),f=a(36553),K=a(67294);function C(){const e=(0,m.Z)(),{request:t}=(0,w.K)(),{search:a}=(0,s.TH)(),{accounts:n}=(0,v.a)(),{walletDetails:i}=(0,k.t)(),{t:p}=(0,c.$)(),{capture:d}=(0,o.O)(),[y,x]=(0,r.useState)(),[C,P]=(0,r.useState)(0),[b,q]=(0,r.useState)(""),[I,S]=(0,r.useState)(null),[z,T]=(0,r.useState)(""),[D,B]=(0,r.useState)(""),[Z,j]=(0,r.useState)(!1),G=(0,r.useCallback)((()=>{if(!y)throw d("ExportPrivateKeyErrorInvalidType"),new Error("Invalid type!");j(!0),t({method:g.a.ACCOUNT_GET_PRIVATEKEY,params:[{type:y,index:C,id:b,password:D}]}).then((e=>{S(e),d("ExportPrivateKeySuccessful")})).catch((e=>{if(e.type===h.LB.Password)return T(p("Invalid Password")),void d("ExportPrivateKeyErrorInvalidPassword");T(p("Something bad happened please try again later!")),d("ExportPrivateKeyFailed")})).finally((()=>{j(!1)}))}),[d,b,C,D,t,p,y]);return(0,r.useEffect)((()=>{const e=new URLSearchParams(a).get("accountId");q(e||"");const t=!(!e||!n.imported[e])||!1,r=i?.type===f.Y.Mnemonic;if(t&&x(h.Qm.IMPORTED),!t&&r){x(f.Y.Mnemonic);const t=Object.values(n.primary).flat().find((t=>t.id===e));t&&P(t?.index)}}),[n,C,a,i,i?.type]),K.createElement(K.Fragment,null,K.createElement(l.Kqy,{sx:{width:"100%",height:"100%",background:e.palette.background.paper,justifyContent:"space-between"}},!I&&K.createElement(u,{errorMessage:z,setPassword:B,isLoading:Z,onSubmit:G,password:D}),I&&K.createElement(E,{privateKey:I})))}}}]);
//# debugId=18398cd6-e2ca-5c49-b914-4bf3ed38ec3b
