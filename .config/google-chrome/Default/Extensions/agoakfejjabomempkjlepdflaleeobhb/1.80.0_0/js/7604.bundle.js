"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="54380f60-19ab-55f8-aecb-32be042f85b7")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[7604],{43242:(e,t,n)=>{n.d(t,{m:()=>o});var r=n(739),a=n(27822);function o(e,t){const n=(0,r.N)(e,t);if(n.gte(1e3))return(0,a.v)(n,2);if(n.gte(1e-4))return(0,a.v)(n,4);const o=t-e.toString().length+1;return(0,a.v)(n,o)}},27822:(e,t,n)=>{function r(e,t=9){const n=e.toFixed(t).split("."),r=parseInt(n[0]).toLocaleString("en-US");if(1===n.length)return r;{let e=n[1],a=e.charAt(e.length-1);for(;"0"===a;)e=e.substring(0,e.length-1),a=e.charAt(e.length-1);const o=e.substring(0,t);return o?`${r}.${o}`:r}}n.d(t,{v:()=>r})},739:(e,t,n)=>{n.d(t,{N:()=>o});var r=n(93302),a=n.n(r);function o(e,t=0){const n=a()(10).pow(t);return new(a())(e.toString()).div(n)}},45246:(e,t,n)=>{n.d(t,{F:()=>r});const r=(e,t=6)=>`${e.substring(0,t)}â€¦${e.slice(-t/2)}`},4863:(e,t,n)=>{n.d(t,{U:()=>l});var r=n(67294),a=n(68483),o=n(67294);const l=({children:e,size:t,isFlipped:n})=>{if(2!==e.length)throw new Error("Flipper expects 2 icons as children");return o.createElement(a.xuv,{sx:{position:"relative",width:t,height:t,backgroundColor:"inherit",transform:n?"rotateX(0)":"rotateX(180deg)",transition:"transform .2s ease-in-out",transformStyle:"preserve-3d"}},(0,r.cloneElement)(e[0],{size:t,sx:{backgroundColor:"inherit",transform:"rotateX(180deg)",position:"absolute",backfaceVisibility:"hidden",zIndex:-1}}),(0,r.cloneElement)(e[1],{size:t,sx:{background:"inherit",position:"absolute",backfaceVisibility:"hidden",zIndex:1}}))}},2409:(e,t,n)=>{n.d(t,{F:()=>u,e:()=>c});var r=n(1336),a=n(36609),o=n(68483),l=n(26793),i=n(13673),s=n(67294);function c(e){return{[i.o.BRIDGE]:(0,a.t)("Bridge"),[i.o.SWAP]:(0,a.t)("Swap"),[i.o.SEND]:(0,a.t)("Send"),[i.o.BUY]:(0,a.t)("Buy"),[i.o.DEFI]:(0,a.t)("DeFi"),[i.o.KEYSTONE]:(0,a.t)("Keystone"),[i.o.TOKEN_DETAILS]:(0,a.t)("Token Details")}[e]}function u({functionName:e,hidePageTitle:t,children:n}){const{t:a}=(0,l.$)();return s.createElement(o.Kqy,{sx:{height:"100%",width:"100%"}},!t&&s.createElement(r.V,{variant:r.D.PRIMARY},a("Sorry")),s.createElement(o.Kqy,{sx:{alignItems:"center",justifyContent:"center",flexGrow:1}},s.createElement(o.go2,{size:72,sx:{mb:3,mt:-9}}),s.createElement(o.ZT$,{variant:"h5",sx:{mb:1}},a("Feature Disabled")),s.createElement(o.ZT$,{size:16,align:"center",height:"24px",sx:{color:"text.secondary"}},a("{{functionName}} is currently unavailable.",{functionName:c(e)??a("This Feature")})),s.createElement(o.ZT$,{sx:{color:"text.secondary"}},a("Please check back later and try again.")),n))}},37411:(e,t,n)=>{n.d(t,{t:()=>o});var r=n(99295),a=n(67294);function o(e){const{getTotalBalance:t}=(0,r.j)();return(0,a.useMemo)((()=>e?.addressC?t(e.addressC):null),[e?.addressC,t])}},70739:(e,t,n)=>{n.d(t,{$:()=>o});var r=n(67294),a=n(99295);const o=()=>{const{registerSubscriber:e,unregisterSubscriber:t}=(0,a.j)();(0,r.useEffect)((()=>(e(),()=>{t()})),[e,t])}},68044:(e,t,n)=>{n.d(t,{v:()=>a});var r=n(47886);function a(){const{pathname:e}=(0,r.TH)(),t=(0,r.k6)();return({nft:n,address:r,options:a})=>{(a?.replace?t.replace:t.push)({pathname:a?.path??e,search:`?${new URLSearchParams({nft:n?.address??"",tokenId:n?.tokenId??"",address:r??""}).toString()}`})}}},72473:(e,t,n)=>{n.d(t,{f:()=>i});var r=n(87462),a=n(26793),o=n(68483),l=n(67294);const i=e=>{const{t}=(0,a.$)();return l.createElement(o.Kqy,(0,r.Z)({sx:{mt:9,gap:1,alignItems:"center"}},e),l.createElement(o.go2,{size:60,sx:{mb:2}}),l.createElement(o.ZT$,{variant:"h5"},t("Error!")),l.createElement(o.ZT$,{variant:"body2",color:"text.secondary"},t("Data currently unavailable, check back later.")))}},43101:(e,t,n)=>{n.d(t,{N:()=>i});var r=n(67294),a=n(71526),o=n(96505),l=n(23170);const i=(e="USD")=>{const{convert:t,hasExchangeRate:n}=(0,a.T)(),{currency:i,currencyFormatter:s}=(0,o.K)(),c=(0,r.useMemo)((()=>(0,l.k)(e)),[e]),u=(0,r.useMemo)((()=>n(e,i)),[e,i,n])&&i!==e;return(0,r.useMemo)((()=>u?n=>{const r=t({amount:n,from:e,to:i});return s(r)}:c),[t,s,c,u,e,i])}},37127:(e,t,n)=>{n.d(t,{RH:()=>Ce,_Y:()=>ke,RP:()=>ye});var r=n(27641),a=n(26821),o=n(68483),l=n(59466),i=n(2409),s=n(87462),c=n(47886),u=n(2734),m=n(40652),d=n(43101),p=n(67294);const h=({protocol:e,...t})=>{const n=(0,u.Z)(),r=(0,c.k6)(),a=(0,d.N)();return 0===e.groups.length?null:p.createElement(o.Zbd,(0,s.Z)({sx:{width:"100%"}},t),p.createElement(o.MUK,{onClick:()=>r.push(`/defi/${e.id}`),"data-testid":`defi-protocol-${e.id}`},p.createElement(o.Kqy,{direction:"row",sx:{height:60,py:1.5,px:2,alignItems:"center",gap:2}},p.createElement(o.qEK,{src:e.logoUrl,alt:e.name,secondarySrc:e.chainLogoUrl,secondaryAvatarProps:{sx:{width:14,height:14,border:`1px solid ${n.palette.grey[900]}`}},badgeProps:{"data-testid":`defi-protocol-chain-${e.chainId}`,anchorOrigin:{vertical:"bottom",horizontal:"right"}}}),p.createElement(o.ZT$,{variant:"h6",sx:{flexGrow:1},"data-testid":"defi-protocol-name"},e.name),p.createElement(o.Kqy,{sx:{alignItems:"flex-end"}},p.createElement(o.ZT$,{variant:"button",sx:{fontSize:14},"data-testid":"defi-protocol-value"},a(e.totalUsdValue)),p.createElement(o.hU,{component:"a",size:"small",sx:{mr:-.5},onClick:()=>{return t=e.siteUrl,(0,m.RB)({url:t});var t},"data-testid":"defi-protocol-link"},p.createElement(o.h0n,{size:16}))))))};var E=n(67294),g=n(26793),x=n(67294);const f=e=>{const{t}=(0,g.$)(),n=(0,E.useCallback)((()=>(0,m.RB)({url:"https://core.app/discover/"})),[]);return x.createElement(o.Kqy,(0,s.Z)({sx:{mt:9,gap:1,alignItems:"center"}},e),x.createElement(o.ZT$,{variant:"h5"},t("No DeFi Transactions")),x.createElement(o.ZT$,{variant:"body2",color:"text.secondary"},t("Discover top dApps on Avalanche now.")),x.createElement(o.zxk,{color:"primary",size:"large",onClick:n,sx:{mt:1}},t("Explore Ecosystem")))};var b=n(72473),y=n(4563),C=n(13673),v=n(67294);function w(){const{portfolio:e,hasError:t,isLoading:n}=(0,l.M)(),{featureFlags:r}=(0,a.d)();if(!r[y.yy.DEFI])return v.createElement(i.F,{hidePageTitle:!0,functionName:C.o.DEFI});const s=e.protocols.length>0,c=!n&&!t&&!s;return v.createElement(o.Kqy,{sx:{pt:2,pb:2,px:2,flexGrow:1,width:"100%",alignItems:"center"}},n&&!s&&v.createElement(o.D8x,{sx:{mt:9},size:100}),c&&v.createElement(f,null),t&&v.createElement(b.f,null),!t&&s&&v.createElement(o.Kqy,{sx:{gap:1,width:"100%"}},e.protocols.map((e=>v.createElement(h,{key:e.id,protocol:e})))))}var k=n(45691),S=n(99295),I=n(28542),T=n(25108);function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class z extends E.Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((()=>{this.reCalculateColumnCount()}))):this.reCalculateColumnCount()}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;"object"!=typeof t&&(t={default:parseInt(t)||2});let n=1/0,r=t.default||2;for(let a in t){const o=parseInt(a);o>0&&e<=o&&o<n&&(n=o,r=t[a])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),n=E.Children.toArray(this.props.children);for(let r=0;r<n.length;r++){const a=r%e;t[a]||(t[a]=[]),t[a].push(n[r])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:n}=this.props,r=this.itemsInColumns(),a=100/r.length+"%";let o=n;o&&"string"!=typeof o&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===o&&(o="my-masonry-grid_column"));const l=O(O(O({},e),t),{},{style:O(O({},t.style),{},{width:a}),className:o});return r.map(((e,t)=>E.createElement("div",$({},l,{key:t}),e)))}logDeprecated(e){T.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:n,columnClassName:r,columnAttrs:a,column:o,className:l}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let s=l;return"string"!=typeof l&&(this.logDeprecated('The property "className" requires a string'),void 0===l&&(s="my-masonry-grid")),E.createElement("div",$({},i,{className:s}),this.renderColumns())}}z.defaultProps={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0};const L=z;var P=n(90948),A=n(67294);const K=(0,P.ZP)(L)`
  display: flex;
  padding-bottom: 32px;

  .masonryColumn {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    padding: 0 0 0 16px;

    &:last-of-type {
      align-items: flex-end;
      padding: 0 16px 0 0;
    }
  }
`;function N({children:e}){return A.createElement(K,{className:"masonry",breakpointCols:2,columnClassName:"masonryColumn","data-testid":"collectibles-grid"},e)}var q=n(67294);function Z({onClick:e}){const{nfts:t}=(0,S.j)();return q.createElement(N,null,t.items?.map((t=>q.createElement(o.zxk,{sx:{display:"flex",padding:0},variant:"text",key:`${t.address}-${t.tokenId}`,onClick:()=>e(t),"data-testid":`${t.name}-${t.tokenId}`},q.createElement(I.V,{width:"164px",height:"auto",url:t?.logoUri,hover:!1,margin:"0 0 16px",showBalance:k.iv.ERC1155===t.type,balance:t.balance})))))}var j=n(67294);function B({name:e,onClick:t,balanceUSD:n,children:r}){return j.createElement(o.Zbd,{sx:{py:1,px:2,borderRadius:1,mb:1,cursor:`${()=>t?"pointer":"default"}`},onClick:()=>t&&t(),style:{cursor:t?"pointer":"default"}},j.createElement(o.Kqy,{sx:{width:"100%",flexDirection:"row"},"data-testid":`${e}-${n}`},j.createElement(o.Kqy,{sx:{flexDirection:"row"}},r),j.createElement(o.Kqy,{sx:{justifyContent:"space-between",width:"100%",alignItems:"center",flexDirection:"row",ml:2}},j.createElement(o.ZT$,{varian:"body2"},e),n&&j.createElement(o.ZT$,{varian:"body2"},n))))}var R=n(67294);function M({onClick:e}){const{nfts:t}=(0,S.j)();return R.createElement(o.Kqy,{sx:{px:2},"data-testid":"collectibles-list"},t.items?.map((t=>R.createElement(B,{name:t.name,balanceUSD:`#${t.tokenId}`,key:`${t.address}-${t.tokenId}`,onClick:()=>e(t)},R.createElement(I.V,{height:"32px",width:"auto",maxWidth:"32px",url:t?.logoSmall,hover:!1,margin:"8px 0",showPlayIcon:!1})))))}var U=n(67294);function G(){const{t:e}=(0,g.$)();return U.createElement(o.Kqy,{sx:{alignItems:"center",flexGrow:"1",rowGap:1,mt:7}},U.createElement(o.ZT$,{variant:"h5"},e("No Collectibles")),U.createElement(o.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("You donâ€™t have any NFTs yet!")))}var W=n(68044),_=n(68622),H=n(67294);function V(){return H.createElement(N,null,Array.from({length:4},((e,t)=>H.createElement(o.OdW,{variant:"rectangular",sx:{width:"164px",height:"164px",mb:2},key:t})))," ")}var Y=n(67294);function Q({loadMore:e,hasMore:t,loading:n,error:r,children:a}){const l=(0,E.useRef)(null),{t:i}=(0,g.$)(),s=(0,E.useCallback)((r=>{r[0].isIntersecting&&!n&&t&&e()}),[n,t,e]);return(0,E.useEffect)((()=>{const e=l.current,t=new IntersectionObserver(s,{root:null,rootMargin:"0px",threshold:0});return e&&t&&t.observe(e),()=>{e&&t&&t.unobserve(e)}}),[s]),Y.createElement(Y.Fragment,null,a,n&&Y.createElement(o.Kqy,{sx:{pb:2,width:1,alignItems:"center"}},Y.createElement(o.D8x,null)),r&&Y.createElement(o.ZT$,{variant:"body1"},i("Error!")),Y.createElement(o.Kqy,{sx:{pb:9},ref:l}))}var X=n(43023),J=n(67294);function ee({listType:e,setListType:t}){const{t:n}=(0,g.$)(),{nfts:a,updateNftBalances:l}=(0,S.j)(),{capture:i}=(0,r.O)(),{network:s}=(0,X.g)(),c=(0,W.v)(),{setNavigationHistoryData:u,isHistoryLoading:m}=(0,_.K)(),[d,p]=(0,E.useState)(!1),h=(0,E.useCallback)((()=>{!d&&l&&(p(!0),a.pageTokens&&(a.pageTokens[k.iv.ERC1155]||a.pageTokens[k.iv.ERC721])&&l(a.pageTokens,(()=>p(!1))))}),[d,l,a.pageTokens]),x=(0,E.useCallback)((e=>{c({nft:e,options:{path:"/collectible"}}),i("CollectibleItemClicked",{chainId:s?.chainId})}),[i,s,c]);return J.createElement(o.Kqy,{style:{flexGrow:1,maxHeight:"unset",height:"100%"}},J.createElement(o.thy,{sx:{my:1,ml:2},exclusive:!0,size:"small",color:"primary",disabled:m&&!e,value:e,onChange:(e,n)=>{return t(r=n),void u({listType:r});var r}},J.createElement(o.COr,{value:Ce.GRID},J.createElement(o.pso,{size:16})),J.createElement(o.COr,{value:Ce.LIST},J.createElement(o.DE2,{size:16}))),!a.loading&&!!a.items?.length&&J.createElement(Q,{loadMore:h,hasMore:!!a.pageTokens?.[k.iv.ERC721]||!!a.pageTokens?.[k.iv.ERC1155],loading:d,error:a.error?.toString()},e===Ce.LIST?J.createElement(M,{onClick:x}):J.createElement(Z,{onClick:x})),!a.loading&&0===a.items?.length&&J.createElement(o.Kqy,{sx:{flexGrow:1,pb:9,width:"100%",alignItems:"center",justifyContent:"center"}},J.createElement(G,null)),a.loading&&J.createElement(V,null),a.error&&J.createElement(o.Kqy,{sx:{flexGrow:1,pb:9,width:"100%",alignItems:"center",justifyContent:"center"}},J.createElement(o.ZT$,{sx:{fontSize:"18px",height:"22px",fontWeight:"fontWeightSemibold"}},n("Error")),J.createElement(o.ZT$,{variant:"body2",sx:{align:"center",height:"17px",my:1}},n("Failed to load collectibles"))))}var te=n(35754),ne=n(18520),re=n(9830),ae=n(96505),oe=n(37411),le=n(70739),ie=n(75058),se=n(67294);function ce(){const{currency:e,currencyFormatter:t}=(0,ae.K)(),{accounts:{active:n}}=(0,re.a)(),{isTokensCached:r,totalBalance:a}=(0,S.j)(),{t:l}=(0,g.$)(),{favoriteNetworksMissingPrice:i,activeNetworkMissingPrice:s}=(0,ie.d)(),c=(0,oe.t)(n),u=c?.sum,m=a?.sum||null,d=a?.priceChange,p=a?{value:d?.value,percentage:u?a?.priceChange.value/u*100:void 0}:{},h=null!=u?u:m??null;return(0,le.$)(),se.createElement(o.Kqy,{direction:"row",sx:{justifyContent:"center",alignItems:"flex-end",minHeight:5.5,width:"100%",mt:1,gap:1.25}},null===h?se.createElement(o.OdW,{variant:"rounded",sx:{height:37,width:215}}):se.createElement(o.Kqy,null,se.createElement(o.Kqy,{sx:{flexDirection:"row",alignItems:"baseline",gap:1.25}},r&&se.createElement(o.ua7,{title:l("Balances loading..."),placement:"bottom"},se.createElement(o.lMq,{size:19,sx:{color:"warning.main",mr:1}})),!r&&(i||s)&&se.createElement(o.ua7,{title:l("The prices of some tokens are missing. The balance might not be accurate currently."),placement:"bottom"},se.createElement(o.lMq,{size:19,sx:{color:"warning.main",mr:1}})),se.createElement(o.ZT$,{"data-testid":"wallet-balance",variant:"h3",sx:{fontWeight:"fontWeightBold"}},t(h).replace(e,"")),se.createElement(o.ZT$,{variant:"body1",sx:{opacity:"60%"}},e)),se.createElement(o.Kqy,{sx:{alignItems:"center"}},se.createElement(ne.U,{value:p.value,percentage:p.percentage,size:"big",showPercentage:!0}))))}var ue=n(25617),me=n(85590),de=n(4863),pe=n(67294);const he=(0,P.ZP)(o.Kqy)`
  padding: 0 8px;
  margin: 8px 0;
  border-radius: 0;
  cursor: pointer;
  align-items: center;
  display: flex;
  gap: 4px;
  width: 100%;

  .button::after {
    content: '';
    position: absolute;
    bottom: -18px;
    height: 18px;
    width: 100%;
  }

  &:last-of-type {
    border-bottom: none;
  }
`,Ee=(0,P.ZP)(o.Kqy,{shouldForwardProp:e=>"isOpen"!==e})`
  border-radius: 40px;
  width: ${({isOpen:e})=>e?"80px":"40px"};
  position: absolute;
  bottom: 100%;
  right: ${({isOpen:e})=>e?0:"20px"};
  margin: 0 0 16px;
  background: ${({theme:e,isOpen:t})=>t?e.palette.background.paper:"transparent"};
  flex-direction: column;
  align-items: center;
  transition: background-color 0.3s ease-out;
  transform-origin: bottom;
  padding: 8px 0 12px;
  z-index: ${({theme:e})=>e.zIndex.fab};
`,ge=(0,P.ZP)("span",{shouldForwardProp:e=>"isExpanded"!==e})`
  color: ${({isExpanded:e})=>e?"inherit":"#fff"};
  transition: color 0.2s ease-in-out;
  padding-left: ${({theme:e})=>e.spacing(1)};
`,xe=({icon:e,text:t,...n})=>pe.createElement(he,(0,s.Z)({"data-testid":`${t.toLowerCase()}-action-button`},n),pe.createElement(o.hU,{color:"primary",variant:"contained",size:"large",className:"button"},e),pe.createElement(o.ZT$,{variant:"caption"},t));function fe({isContentScrolling:e}){const[t,n]=(0,E.useState)(!1),a=(0,c.k6)(),{checkIsFunctionSupported:l}=(0,C.a)(),{capture:i}=(0,r.O)(),{t:m}=(0,g.$)(),d=(0,u.Z)(),p=(0,E.useRef)(null),h=(0,E.useRef)(),[x,f]=(0,E.useState)(!0),b=[{text:m("Send"),route:"/send",name:C.o.SEND,icon:pe.createElement(o.fC7,{size:24,sx:{color:d.palette.common.black}})},{text:m("Receive"),route:"/receive",name:C.o.RECEIVE,icon:pe.createElement(o.Cge,{size:24,sx:{color:d.palette.common.black}})},{text:m("Swap"),route:"/swap",name:C.o.SWAP,icon:pe.createElement(o.TdZ,{size:24,sx:{color:d.palette.common.black}})},{text:m("Buy"),name:C.o.BUY,icon:pe.createElement(o.Vwp,{size:24,sx:{color:d.palette.common.black}}),onclick:()=>window.open(`${(0,me.p)()}/buy`,"_blank","noreferrer")},{text:m("Bridge"),route:"/bridge",name:C.o.BRIDGE,icon:pe.createElement(o.Nj_,{size:24,sx:{color:d.palette.common.black}})}].filter((({name:e})=>l(e))),y=m(t?"Close":"Actions");return(0,E.useEffect)((()=>(h.current=e?setTimeout((()=>{f(!1)}),400):setTimeout((()=>{f(!0)}),200),()=>{void 0!==h.current&&clearTimeout(h.current)})),[e]),b.length?pe.createElement(pe.Fragment,null,pe.createElement(o.YMn,{open:t,onClick:()=>{i("FABClosed"),n(!1)},sx:{zIndex:d.zIndex.fab}}),pe.createElement(o.Q5I,{in:x},pe.createElement(o.zxk,{ref:p,size:"xlarge","data-testid":"action-menu-button",onClick:()=>{i(t?"FABClosed":"FABOpened"),n(!t)},sx:{p:2,height:56,position:"fixed",zIndex:d.zIndex.fab,bottom:d.spacing(2),right:d.spacing(2),":active":{backgroundColor:"#a0a0a0"}}},pe.createElement(de.U,{size:24,isFlipped:!t},pe.createElement(o.b0D,null),pe.createElement(o.BkP,null)),pe.createElement(o.UO1,{orientation:"horizontal",in:x,unmountOnExit:!0},pe.createElement(ge,{isExpanded:x},y)),pe.createElement(o.rDy,{open:t,anchorEl:p.current,placement:"top-end",transition:!0,sx:{zIndex:d.zIndex.fab}},(({TransitionProps:e})=>pe.createElement(o.Q5I,(0,s.Z)({},e,{timeout:250}),pe.createElement(Ee,{isOpen:t},t&&b.map((({text:e,route:t,icon:n,name:r,onclick:o})=>l(r)?pe.createElement(xe,{key:e,text:e,icon:n,onClick:()=>{i(`FABItemSelected_${r}`),o&&o(),t&&a.push(t)}}):null))))))))):null}var be=n(67294);let ye=function(e){return e[e.ASSETS=0]="ASSETS",e[e.COLLECTIBLES=1]="COLLECTIBLES",e[e.DEFI=2]="DEFI",e}({}),Ce=function(e){return e.GRID="GRID",e.LIST="LIST",e}({});const ve={[ye.ASSETS]:"ASSETS",[ye.COLLECTIBLES]:"COLLECTIBLES",[ye.DEFI]:"DEFI"},we=(0,P.ZP)(o.$B7)`
  flex-grow: 1;
  max-height: unset;
  height: 100%;
  width: 100%;

  & > div {
    display: flex;
    flex-direction: column;
  }
`;function ke(){const{t:e}=(0,g.$)(),{capture:t}=(0,r.O)(),{featureFlags:n}=(0,a.d)(),{activeTab:l,setActiveTab:i}=(0,ue.w)(ye.ASSETS),{isReady:s,checkIsFunctionSupported:u}=(0,C.a)(),[m,d]=(0,E.useState)(Ce.GRID),[p,h]=(0,E.useState)(!1),{getPageHistoryData:x,isHistoryLoading:f}=(0,_.K)(),{listType:b}=x(),[v,k]=(0,E.useState)(!1);(0,E.useEffect)((()=>{n[y.yy.DEFI]&&h(!0)}),[n]),(0,E.useEffect)((()=>{f||d(b||Ce.GRID)}),[b,f,d]);const S=(0,E.useCallback)((e=>{if(e===ye.DEFI&&!p)return!1;const t=ve[e];return!!t&&u(t)}),[u,p]),I=(0,E.useCallback)(((e,n)=>{i(n),n===ye.ASSETS?t("PortfolioAssetsClicked"):n===ye.COLLECTIBLES?t("PortfolioCollectiblesClicked"):n===ye.DEFI&&t("PortfolioDefiClicked")}),[t,i]),T=(0,E.useMemo)((()=>{const t=Object.values(ye).filter((e=>S(e))).map((t=>({label:t===ye.ASSETS?e("Assets"):t===ye.COLLECTIBLES?e("Collectibles"):t===ye.DEFI?e("DeFi"):null,tab:t})));return be.createElement(o.mQc,{onChange:I,value:l,size:"medium",variant:"fullWidth"},t.map((({label:e,tab:t})=>e?be.createElement(o.OK9,{label:e,value:t,key:`portfolio-tab-${t}`}):null)))}),[l,I,S,e]);return be.createElement(o.Kqy,{sx:{flexGrow:1}},be.createElement(ce,null),be.createElement(fe,{isContentScrolling:v}),be.createElement(o.Kqy,{sx:{flexGrow:1}},be.createElement(o.xuv,{sx:{mx:2,mt:1,borderBottom:1,borderColor:"divider"}},T),be.createElement(o.Kqy,{sx:{flexGrow:1}},be.createElement(we,{onScrollStart:()=>k(!0),onScrollStop:()=>k(!1)},be.createElement(o.x45,{value:l,index:ye.ASSETS,sx:{height:"100%",pb:3}},be.createElement(te.NG,null)),be.createElement(o.x45,{value:l,index:ye.COLLECTIBLES,sx:{height:"100%"}},S(ye.COLLECTIBLES)?be.createElement(ee,{listType:m,setListType:d}):s&&be.createElement(c.l_,{to:"/"})),be.createElement(o.x45,{value:l,index:ye.DEFI,sx:{height:"100%",pb:3}},be.createElement(w,null))))))}}}]);
//# debugId=54380f60-19ab-55f8-aecb-32be042f85b7
