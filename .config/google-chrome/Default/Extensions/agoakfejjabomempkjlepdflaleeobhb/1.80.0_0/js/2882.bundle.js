
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8501b34c-c6b0-5fa1-844f-a4e641350220")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[2882],{8280:(e,t,n)=>{"use strict";n.d(t,{Nj:()=>s,PD:()=>a,hB:()=>i});var r=n(81254);r.TransactionStatus.BLOCKED,r.TransactionStatus.CANCELLED,r.TransactionStatus.CANCELLING,r.TransactionStatus.TIMEOUT,r.TransactionStatus.FAILED,r.TransactionStatus.REJECTED;const s="FireblocksBtcAccessError:";let a=function(e){return e[e.VaultAccountNotFound=0]="VaultAccountNotFound",e[e.BTCAddressNotFound=1]="BTCAddressNotFound",e[e.InvalidSecretKey=2]="InvalidSecretKey",e[e.WrongAccountType=3]="WrongAccountType",e[e.SecretsNotConfigured=4]="SecretsNotConfigured",e}({});class o extends Error{constructor(e){super(`${s}${e}`),this.code=e}}let i=function(e){return e.Failed="fireblocks-tx-failed",e.Blocked="fireblocks-tx-blocked",e.Cancelled="fireblocks-tx-cancelled",e.Rejected="fireblocks-tx-rejected",e.Timeout="fireblocks-tx-timeout",e.Unknown="fireblocks-tx-unknown-error",e}({})},55045:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});let r=function(e){return e.ExistingSeedphrase="existing-seedphrase",e}({})},42019:(e,t,n)=>{"use strict";n.d(t,{f:()=>u});var r=n(67294),s=n(26793),a=n(79826),o=n(8280),i=n(66589),c=n(52721),l=n(32173),d=n(55045);const u=()=>{const{t:e}=(0,s.$)(),t=(0,r.useMemo)((()=>{const t=e("Please refer to Active Transfers list in your Fireblocks Console for a detailed explanation.");return{[o.hB.Blocked]:{title:e("Transaction has been blocked"),hint:t},[o.hB.Failed]:{title:e("Transaction has failed"),hint:t},[o.hB.Rejected]:{title:e("Transaction has been rejected"),hint:t},[o.hB.Cancelled]:{title:e("Transaction has been cancelled"),hint:t},[o.hB.Timeout]:{title:e("Transaction timed out"),hint:t},[o.hB.Unknown]:{title:e("Unknown transaction error"),hint:e("Please try again later or contact support.")}}}),[e]),n=(0,r.useMemo)((()=>({[a.errorCodes.rpc.internal]:{title:e("Internal error")},[a.errorCodes.rpc.transactionRejected]:{title:e("Transaction rejected")},[a.errorCodes.rpc.invalidRequest]:{title:e("Invalid request")},[a.errorCodes.rpc.invalidParams]:{title:e("Invalid params")},[a.errorCodes.rpc.limitExceeded]:{title:e("Limit exceeded")},[a.errorCodes.rpc.resourceUnavailable]:{title:e("Resource unavailable")},[a.errorCodes.provider.disconnected]:{title:e("Disconnected")},[a.errorCodes.provider.unauthorized]:{title:e("Unauthorized")},[a.errorCodes.provider.userRejectedRequest]:{title:e("User rejected the request")}})),[e]),u=(0,r.useMemo)((()=>({[c.fY.AmountLessThanFee]:{title:e("Amount is too low"),hint:e("The amount cannot be lower than the bridging fee")},[c.fY.InvalidFee]:{title:e("The bridging fee is unknown")},[c.fY.UnknownAsset]:{title:e("This asset cannot be bridged")},[c.fY.UnsupportedNetwork]:{title:e("Unsupported network")}})),[e]),h=(0,r.useMemo)((()=>({[i.w8.Unknown]:{title:e("Unknown error")},[i.w8.UserRejected]:{title:e("User declined the transaction")},[i.w8.NetworkError]:{title:e("Network error"),hint:e("Please try again")},[i.w8.NoActiveAccount]:{title:e("No account is active"),hint:e("Please try again")},[i.w8.NoActiveNetwork]:{title:e("No active network"),hint:e("Please try again")},[i.w8.UnknownNetwork]:{title:e("Unknown network")},[i.w8.UnknownNetworkFee]:{title:e("Unknown network fee")},[i.w8.RequestTimeout]:{title:e("Request timed out"),hint:e("This is taking longer than expected. Please try again later.")}})),[e]),p=(0,r.useMemo)((()=>({[i.v3.InsufficientFunds]:{title:e("Insufficient funds"),hint:e("You do not have enough funds to cover the network fees.")}})),[e]),y=(0,r.useMemo)((()=>({[l.z.InvalidPassword]:{title:e("Invalid password. Please try again.")},[l.z.InvalidVersion]:{title:e("Unsupported Version"),hint:e("Only keystore files exported from the Avalanche Wallet are supported.")},[l.z.NoNewWallets]:{title:e("No New Wallets Found"),hint:e("All keys contained in this file are already imported.")},[l.z.Unknown]:{title:e("File Upload Failed"),hint:e("Please contact our support team to resolve this issue.")}})),[e]),f=(0,r.useMemo)((()=>({[d.j.ExistingSeedphrase]:{title:e("This seed phrase is already imported.")}})),[e]),m=(0,r.useMemo)((()=>({...t,...u,...h,...n,...y,...f,...p})),[t,u,h,n,y,f,p]);return(0,r.useCallback)((e=>{if("string"==typeof e)return m[e]??{title:e};let t=m[i.w8.Unknown];return(0,i.$A)(e)?t=m[e.data.reason]??m[i.w8.Unknown]:"object"!=typeof e||null===e||!("code"in e)||"number"!=typeof e.code&&"string"!=typeof e.code||(t=m[e.code]),t??m[i.w8.Unknown]}),[m])}},1627:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var r=n(67294);const s=e=>({onKeyDown:(0,r.useCallback)((async t=>{const n=e[t.key];"function"==typeof n&&(t.preventDefault(),await n())}),[e])})},66830:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AddWalletWithKeystoreFile:()=>_});var r=n(87462),s=n(67294),a=n(2734),o=n(70582),i=n(68483),c=n(47886),l=n(26793),d=n(1336),u=n(32173),h=n(42019),p=n(27641),y=n(1627),f=n(67294);const m=({error:e,onTryAgain:t})=>{const{t:n}=(0,l.$)(),r=(0,h.f)(),{title:s,hint:a}=r(e);return f.createElement(i.Kqy,{sx:{px:2,pt:1,flexGrow:1,gap:1}},f.createElement(i.ZT$,{variant:"body2",sx:{fontWeight:"semibold"}},n("Upload Keystore File")),f.createElement(i.Zbd,{sx:{backgroundColor:"grey.800",px:4,py:8}},f.createElement(i.Kqy,{sx:{justifyContent:"center",alignItems:"center",textAlign:"center",gap:3}},f.createElement(i.go2,{size:64}),f.createElement(i.Kqy,{sx:{gap:1}},f.createElement(i.ZT$,{variant:"h6"},s),f.createElement(i.ZT$,{variant:"body2",color:"text.secondary"},a)),f.createElement(i.zxk,{size:"medium",fullWidth:!0,onClick:t,"data-testid":"try-again-button"},n("Try Again")))))};var w=n(67294);const k=({inputRef:e,onDrop:t,onFileSelected:n})=>{const r=(0,a.Z)(),{t:o}=(0,l.$)(),[c,d]=(0,s.useState)(!1);return w.createElement(i.Kqy,{sx:{px:2,pt:1,flexGrow:1,gap:1}},w.createElement(i.ZT$,{variant:"body2",sx:{fontWeight:"semibold"}},o("Upload Keystore File")),w.createElement(i.Zbd,{sx:{backgroundColor:"grey.800",p:4,transition:r.transitions.create(["border","color"]),color:c?r.palette.info.light:"initial",border:`2px dotted ${c?r.palette.info.light:"transparent"}`},onDrop:e=>{e.preventDefault(),d(!1),t(e)},onDragOver:e=>e.preventDefault(),onDragEnter:()=>{d(!0)},onDragLeave:()=>{d(!1)}},w.createElement(i.Kqy,{sx:{pointerEvents:c?"none":"all",justifyContent:"center",alignItems:"center",gap:1,textAlign:"center"}},w.createElement(i.rG2,{size:64}),w.createElement(i.ZT$,{variant:"h6",color:"text.primary"},o("Drop your file here to upload")),w.createElement(i.ZT$,{variant:"body2",color:"text.secondary"},o("Only keystore files exported from the Avalanche Wallet are supported.")),w.createElement(i.ZT$,{variant:"h5",color:"text.secondary",sx:{my:2}},o("Or")),w.createElement(i.zxk,{size:"medium",fullWidth:!0,component:"label",htmlFor:"browse-files","data-testid":"browse-files"},o("Browse Files")),w.createElement("input",{ref:e,type:"file",hidden:!0,id:"browse-files",onChange:n}))))};var v=n(42705),b=n.n(v),g=n(48637),E=n(2153),C=n(53465),x=n(93527);class P extends C.kb{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,C.GL)(this.buffer)}update(e){(0,x.Gg)(this);const{view:t,buffer:n,blockLen:r}=this,s=(e=(0,C.O0)(e)).length;for(let a=0;a<s;){const o=Math.min(r-this.pos,s-a);if(o!==r)n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=(0,C.GL)(e);for(;r<=s-a;a+=r)this.process(t,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,x.Gg)(this),(0,x.J8)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),o=Number(n>>s&a),i=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,i,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const o=(0,C.GL)(e),i=this.outputLen;if(i%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=i/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:a,pos:o}=this;return e.length=r,e.pos=o,e.finished=s,e.destroyed=a,r%t&&e.buffer.set(n),e}}const I=(e,t,n)=>e&t^e&n^t&n,T=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),F=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64);class K extends P{constructor(){super(64,32,8,!1),this.A=0|F[0],this.B=0|F[1],this.C=0|F[2],this.D=0|F[3],this.E=0|F[4],this.F=0|F[5],this.G=0|F[6],this.H=0|F[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:a,G:o,H:i}=this;return[e,t,n,r,s,a,o,i]}set(e,t,n,r,s,a,o,i){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|a,this.G=0|o,this.H=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)A[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=A[e-15],n=A[e-2],r=(0,C.np)(t,7)^(0,C.np)(t,18)^t>>>3,s=(0,C.np)(n,17)^(0,C.np)(n,19)^n>>>10;A[e]=s+A[e-7]+r+A[e-16]|0}let{A:n,B:r,C:s,D:a,E:o,F:i,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+((0,C.np)(o,6)^(0,C.np)(o,11)^(0,C.np)(o,25))+((d=o)&i^~d&c)+T[e]+A[e]|0,u=((0,C.np)(n,2)^(0,C.np)(n,13)^(0,C.np)(n,22))+I(n,r,s)|0;l=c,c=i,i=o,o=a+t|0,a=s,s=r,r=n,n=t+u|0}var d;n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,i=i+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,s,a,o,i,c,l)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const S=(0,C.hE)((()=>new K)),U=(e,t)=>S((0,C.eV)((0,C.iY)(e),t)),z=(e,t)=>{let n;return n=t instanceof Uint8Array?t:(0,C.O6)(16),{salt:n,hash:U(e,U(e,n))}},N=async(e,t,n,r,s)=>{const a=U(e,n),o=await(async e=>crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveKey"]))(a),i=await(async(e,t,n=2e5)=>crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:n,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]))(o,n,s),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:r,additionalData:n,tagLength:128},i,t);return new Uint8Array(c)};var D=n(23085).lW;var L=n(55045),B=n(66589),W=n(13820),R=n(71373);var q=n(23085).lW;const $=()=>{const{capture:e}=(0,p.O)(),{isReading:t,read:n}=(()=>{const[e,t]=(0,s.useState)(!1);return{read:(0,s.useCallback)((async e=>{t(!0);try{return await(async e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{try{t(JSON.parse(r.result))}catch(e){n(e.toString())}},r.onerror=()=>{n(r.error)},r.readAsText(e)})))(e)}finally{t(!1)}}),[]),isReading:e}})(),{isImporting:r,importSeedphrase:a}=(0,W.N)(),{isImporting:o,importPrivateKey:i}=(0,R.S)(),c=(0,s.useCallback)((async(t,r)=>{const s=await n(t);e("KeystoreFileProvided",{version:s.version});const a=function(e){switch(e.version){case"6.0":return function(e){return e.keys.map((e=>({type:e.type,key:e.key})))}(e);case"5.0":return function(e){return e.keys.map((e=>({key:e.key,type:"mnemonic"})))}(e);case"4.0":case"3.0":case"2.0":return function({keys:e}){return e.map((e=>{const t=D.from(g.P6.base58check.decode(e.key)).toString("hex").padStart(64,"0");return{key:E.JJ(t),type:"mnemonic"}}))}(e);default:throw u.z.InvalidVersion}}(await async function(e,t){switch(e.version){case"6.0":return await async function(e,t){const n=e.version,r=e.activeIndex,s=g.P6.base58check.decode(e.salt),a=new TextDecoder;return{version:n,activeIndex:r||0,keys:await Promise.all(e.keys.map((async e=>{const n=g.P6.base58check.decode(e.key),r=g.P6.base58check.decode(e.iv);try{return{key:a.decode(await N(t,n,s,r)),type:e.type}}catch(e){throw u.z.InvalidPassword}})))}}(e,t);case"5.0":return await async function(e,t){const n=e.version,r=g.P6.base58check.decode(e.salt),s=await z(t,r);if(g.P6.base58check.encode(s.hash)!==e.pass_hash)throw u.z.InvalidPassword;const a=new TextDecoder;return{version:n,activeIndex:0,keys:await Promise.all(e.keys.map((async e=>{const n=g.P6.base58check.decode(e.key),s=g.P6.base58check.decode(e.iv);return{key:a.decode(await N(t,n,r,s))}})))}}(e,t);case"4.0":return await async function(e,t){const n=e.version,r=g.P6.base58check.decode(e.salt),s=await z(t,r);if(g.P6.base58check.encode(s.hash)!==e.pass_hash)throw u.z.InvalidPassword;return{version:n,activeIndex:0,keys:await Promise.all(e.keys.map((async e=>{const n=g.P6.base58check.decode(e.key),s=g.P6.base58check.decode(e.iv),a=await N(t,n,r,s);return{key:g.P6.base58check.encode(a)}})))}}(e,t);case"3.0":return await async function(e,t){const n=e.version,r=g.P6.base58check.decode(e.salt),s=await z(t,r);if(g.P6.base58check.encode(s.hash)!==e.pass_hash)throw u.z.InvalidPassword;return{version:n,activeIndex:0,keys:await Promise.all(e.keys.map((async e=>{const n=g.P6.base58check.decode(e.key),s=g.P6.base58check.decode(e.iv),a=await N(t,n,r,s);return{key:g.P6.base58check.encode(a)}})))}}(e,t);case"2.0":return await async function(e,t){const n=e.version,r=g.P6.base58check.decode(e.salt),s=U(t,r);if(g.P6.base58check.encode((0,C.O0)(s))!==e.pass_hash)throw u.z.InvalidPassword;return{version:n,activeIndex:0,keys:await Promise.all(e.keys.map((async e=>{const n=g.P6.base58check.decode(e.key),s=g.P6.base58check.decode(e.iv),a=await N(t,n,r,s,1e5);return{key:g.P6.base58check.encode(a)}})))}}(e,t);default:throw u.z.InvalidVersion}}(s,r));return a}),[e,n]),l=(0,s.useCallback)((async(e,t)=>{const n=await c(e,t);for(let e=0;e<n.length;e++){const t=n[e];if(!t)continue;const{key:r,type:s}=t;if("singleton"===s){const e=q.from(g.P6.base58check.decode(r.replace("PrivateKey-",""))).toString("hex");await i(e)}else if("mnemonic"===s)try{await a({mnemonic:r})}catch(e){if((0,B.$A)(e)&&e.data.reason===L.j.ExistingSeedphrase)continue;throw e}}}),[c,i,a]);return{getKeyCounts:(0,s.useCallback)((async(e,t)=>(await c(e,t)).reduce(((e,t)=>("mnemonic"===t.type?e.seedPhrasesCount+=1:"singleton"===t.type&&(e.privateKeysCount+=1),e)),{seedPhrasesCount:0,privateKeysCount:0})),[c]),importKeystoreFile:l,isImporting:r||o,isReading:t,isValidKeystoreFile:(0,s.useCallback)((async e=>{try{const t=await n(e);return!Z.validate(t).error}catch{return!1}}),[n])}},Z=b().object({version:b().string().required(),salt:b().string().required(),keys:b().array().items(b().object({key:b().string().required(),iv:b().string().required()}).unknown())}).unknown();var j=n(67294);const G=({fileName:e,fileInfo:t,isLoading:n,onConfirm:r,onCancel:s})=>{const{t:a}=(0,l.$)();return j.createElement(i.Kqy,{sx:{px:2,pt:1,flexGrow:1,gap:1}},j.createElement(i.ZT$,{variant:"body2",sx:{fontWeight:"semibold"}},a("Import Details")),j.createElement(i.Zbd,{sx:{backgroundColor:"grey.800",p:2,flexGrow:1}},j.createElement(i.Kqy,{sx:{justifyContent:"center",alignItems:"center",gap:1}},j.createElement(i.Kqy,{direction:"row",sx:{width:1,mb:2,gap:2,alignItems:"center",justifyContent:"space-between"}},j.createElement(i.ZT$,{variant:"caption",fontWeight:"semibold",whiteSpace:"nowrap",sx:{flexShrink:0}},a("File Name")),j.createElement(i.ua7,{title:e,wrapWithSpan:!1},j.createElement(i.ZT$,{variant:"body2",sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},e))),j.createElement(i.Kqy,{sx:{width:1,px:2,py:1,backgroundColor:"grey.850",borderRadius:1}},j.createElement(i.ZT$,{variant:"body2"},a("Seed Phrases")),j.createElement(i.ZT$,{variant:"h5","data-testid":"seed-phrase-count"},t.seedPhrasesCount)),j.createElement(i.Kqy,{sx:{width:1,px:2,py:1,backgroundColor:"grey.850",borderRadius:1}},j.createElement(i.ZT$,{variant:"body2"},a("Private Keys")),j.createElement(i.ZT$,{variant:"h5","data-testid":"private-key-count"},t.privateKeysCount)))),j.createElement(i.Kqy,{sx:{my:3,gap:1,width:1}},j.createElement(i.zxk,{size:"large",fullWidth:!0,onClick:r,disabled:n,isLoading:n,"data-testid":"import-keystore-file"},a("Import Keystore File")),j.createElement(i.zxk,{size:"large",color:"secondary",fullWidth:!0,disabled:n,onClick:s,"data-testid":"cancel-button"},a("Cancel"))))};var O=n(67294),V=function(e){return e[e.ChooseFile=0]="ChooseFile",e[e.ProvidePassword=1]="ProvidePassword",e[e.ConfirmData=2]="ConfirmData",e[e.Error=3]="Error",e}(V||{});const M={seedPhrasesCount:0,privateKeysCount:0};function _(){const e=(0,a.Z)(),t=(0,c.k6)(),{t:n}=(0,l.$)(),{capture:f}=(0,p.O)(),w=(0,h.f)(),[v,b]=(0,s.useState)(V.ChooseFile),[g,E]=(0,s.useState)(null),[C,x]=(0,s.useState)(""),[P,I]=(0,s.useState)(M),[T,F]=(0,s.useState)(),A=(0,s.useRef)(null),{getKeyCounts:K,importKeystoreFile:S,isImporting:U,isReading:z,isValidKeystoreFile:N}=$(),{title:D}=w(T),L=(0,s.useCallback)((()=>{F(null),E(null),I(M),x(""),b(V.ChooseFile),A.current&&(A.current.value="")}),[]),B=(0,s.useCallback)((async e=>{if(!e)return F(u.z.InvalidVersion),void b(V.Error);E(e),await N(e)?b(V.ProvidePassword):(f("KeystoreFileUnsupported"),F(u.z.InvalidVersion),b(V.Error))}),[f,N]),W=(0,s.useCallback)((async e=>{const t=e.dataTransfer.items[0];if(!t)return;const n=t.getAsFile();await B(n)}),[B]),R=(0,s.useCallback)((async()=>{if(g&&!z&&!U)try{f("KeystoreFileImportStarted"),await S(g,C),f("KeystoreFileImportSuccess"),o.ZP.success(n("Successfully imported the keystore file.")),t.replace("/accounts")}catch(e){f("KeystoreFileImportFailure"),F(e),b(V.Error)}}),[f,g,C,t,S,U,z,n]),q=(0,s.useCallback)((async()=>{if(g&&!z&&!U)try{const e=await K(g,C);I(e),b(V.ConfirmData)}catch(e){e!==u.z.InvalidPassword&&b(V.Error),F(e),I(M)}}),[g,C,K,U,z]),Z=(0,y.a)({Enter:q,Esc:L});return O.createElement(O.Fragment,null,O.createElement(i.Kqy,{sx:{width:"100%",height:"100%",background:e.palette.background.paper}},O.createElement(i.Kqy,{direction:"row",sx:{mt:2.5,mb:.5,pr:1}},O.createElement(d.V,{onBackClick:()=>t.replace("/accounts")},n("Add Wallet with Keystore File"))),(v===V.ChooseFile||v===V.ProvidePassword)&&O.createElement(k,{inputRef:A,onDrop:W,onFileSelected:async e=>{e.target.files?.[0]&&await B(e.target.files[0])}}),g&&v===V.ConfirmData&&O.createElement(G,{fileName:g.name,fileInfo:P,isLoading:z||U,onConfirm:R,onCancel:L}),T&&v===V.Error&&O.createElement(m,{error:T,onTryAgain:L}),O.createElement(i.VqE,{open:v===V.ProvidePassword,fullWidth:!0,onClose:L,PaperProps:{sx:{m:2,width:"100%",maxWidth:"none"}}},O.createElement(i.$N8,null,n("Password Required")),O.createElement(i.cZJ,null,O.createElement(i.ZT$,{variant:"body2"},n("Please enter the keystore file password to continue.")),O.createElement(i.nvn,(0,r.Z)({autoFocus:!0,"data-testid":"keystore-file-password",fullWidth:!0,label:n("Password"),inputLabelProps:{sx:{transform:"none",fontSize:"body2.fontSize",mb:1,mt:4}},helperText:T===u.z.InvalidPassword?D:n("This password was set when you created the keystore file."),error:T===u.z.InvalidPassword,placeholder:n("Input Password"),value:C,type:"password",onChange:e=>x(e.target.value)},Z))),O.createElement(i.kXR,null,O.createElement(i.zxk,{key:"continue-upload",size:"large",disabled:!C||!g||z,isLoading:z,fullWidth:!0,onClick:q,"data-testid":"continue-upload"},n("Continue Upload")),O.createElement(i.zxk,{key:"cancel-upload",variant:"text",size:"large",fullWidth:!0,onClick:L,"data-testid":"back-button"},n("Back"))))))}},13820:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(67294),s=n(46935),a=n(69518);const o=()=>{const{request:e}=(0,a.K)(),[t,n]=(0,r.useState)(!1);return{isImporting:t,importSeedphrase:(0,r.useCallback)((async t=>{n(!0);try{return await e({method:s.a.WALLET_IMPORT_SEED_PHRASE,params:[t]})}finally{n(!1)}}),[e])}}},71373:(e,t,n)=>{"use strict";n.d(t,{S:()=>c});var r=n(67294),s=n(48637),a=n(48740),o=n(93e3),i=n(9830);const c=()=>{const[e,t]=(0,r.useState)(!1),{addAccount:n}=(0,i.a)();return{isImporting:e,importPrivateKey:(0,r.useCallback)((async e=>{t(!0);try{return await n("",{importType:o.xc.PRIVATE_KEY,data:s.P6.strip0x(e)})}catch(e){throw(0,a.Z)(e,a.p.WALLET_IMPORT),e}finally{t(!1)}}),[n])}}},32173:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});let r=function(e){return e.InvalidPassword="keystore-invalid-password",e.InvalidVersion="keystore-invalid-version",e.NoNewWallets="keystore-no-new-wallets",e.Unknown="keystore-unknown-error",e}({})},35883:()=>{}}]);
//# debugId=8501b34c-c6b0-5fa1-844f-a4e641350220
