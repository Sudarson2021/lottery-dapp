"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="04d72f6b-9e83-5586-a566-b204ed2eab94")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[8024],{24479:(e,t,a)=>{a.d(t,{v:()=>d});var n=a(46935),i=a(5453),c=a(69518),r=a(95034),s=a(67294),o=a(23900),l=a(2606);function d(e){const{request:t}=(0,c.K)(),a=(0,o.h)(o.A.CONFIRM),{approval:d}=(0,l.t$)(),[u,p]=(0,s.useState)(),[m]=(0,s.useState)(""),h=(0,s.useCallback)((async(e,c)=>{p((t=>{if(t)return{...t,status:e.status,displayData:{...t.displayData,...e.displayData}}}));const r=a&&e.status!==i.M4.PENDING;return t({method:n.a.ACTION_UPDATE,params:[e,c]}).finally((()=>{r&&globalThis.close()}))}),[t,a]),w=(0,s.useCallback)((async()=>h({status:i.M4.ERROR_USER_CANCELED,id:e})),[e,h]);return(0,s.useEffect)((()=>{a?t({method:n.a.ACTION_GET,params:[e]}).then(p):d?.action.actionId===e&&p(d.action)}),[e,t,d,a]),(0,r.W)(w),{action:u,updateAction:h,error:m,cancelHandler:w}}},70460:(e,t,a)=>{a.d(t,{$:()=>c});var n=a(67294),i=a(47886);function c(){const e=(0,i.TH)();return(0,n.useMemo)((()=>new URLSearchParams(e.search??"").get("actionId")??""),[e.search])}},98024:(e,t,a)=>{a.r(t),a.d(t,{SwitchAccount:()=>p});var n=a(26793),i=a(2734),c=a(68483),r=a(70582),s=a(24479),o=a(5453),l=a(70460),d=a(56693),u=a(67294);function p(){const e=(0,i.Z)(),{t}=(0,n.$)(),a=(0,l.$)(),{action:p,updateAction:m,cancelHandler:h}=(0,s.v)(a);return p?u.createElement(c.Kqy,{sx:{width:1,px:2}},u.createElement(c.Kqy,{sx:{flexGrow:1,alignItems:"center",justifyContent:"center",textAlign:"center",gap:2,maxWidth:1}},u.createElement(c.qEK,{sx:{width:80,height:80,backgroundColor:e.palette.grey[850]}},u.createElement(c.oaN,{size:48})),u.createElement(c.ZT$,{variant:"h4"},t("Switch to {{name}}?",{name:p.displayData.selectedAccount?.name})),u.createElement(c.ZT$,{variant:"body2",sx:{textAlign:"center",maxWidth:1,wordWrap:"break-word",color:"text.secondary"}},t("{{domain}} is requesting to switch your active account.",{domain:p.site?.domain||"This website"})),u.createElement(c.Kqy,{direction:"row",sx:{gap:1,py:1,pl:2,pr:1,alignItems:"center",background:e.palette.grey[850],borderRadius:1,height:48,width:1}},u.createElement(c.Kqy,{direction:"row",sx:{flex:1,justifyContent:"space-between",alignItems:"center",width:1,gap:3}},u.createElement(c.ua7,{title:p.displayData.selectedAccount?.name,wrapWithSpan:!1},u.createElement(c.ZT$,{variant:"body1",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},p.displayData.selectedAccount?.name)),u.createElement(c.Kqy,{direction:"row",sx:{alignItems:"center",gap:1}},u.createElement(c.ua7,{title:p.displayData.selectedAccount?.addressC},u.createElement(c.ZT$,{variant:"body2"},(0,d.F)(p.displayData.selectedAccount?.addressC))),u.createElement(c.hU,{onClick:()=>{navigator.clipboard.writeText(p.displayData.selectedAccount.addressC),r.ZP.success(t("Copied!"),{duration:2e3})}},u.createElement(c.TIy,{size:16})))))),u.createElement(c.Kqy,{sx:{width:1,justifyContent:"space-between"}},u.createElement(c.Kqy,{direction:"row",sx:{gap:1}},u.createElement(c.zxk,{color:"secondary",size:"large","data-testid":"switch-account-reject-btn",onClick:()=>{h(),window.close()},fullWidth:!0},t("Reject")),u.createElement(c.zxk,{"data-testid":"switch-account-approve-btn",size:"large",color:"primary",onClick:()=>{m({status:o.M4.SUBMITTING,id:a}),window.close()},fullWidth:!0},t("Approve"))))):u.createElement(c.Kqy,{sx:{width:1,height:1,justifyContent:"center",alignItems:"center"}},u.createElement(c.D8x,{size:60}))}},95034:(e,t,a)=>{a.d(t,{W:()=>o});var n=a(67294),i=a(83),c=a(45399),r=a(94975),s=a(73335);function o(e){(0,n.useEffect)((()=>{const t=(0,i.T)((0,c.R)((e=>{window.addEventListener("unload",e)}),(e=>{window.removeEventListener("unload",e)})),(0,c.R)((e=>{window.addEventListener("visibilitychange",e)}),(e=>{window.removeEventListener("visibilitychange",e)})).pipe((0,r.h)((()=>"hidden"===document.visibilityState)))).pipe((0,s.P)()).subscribe((()=>{e()}));return()=>{t.unsubscribe()}}),[e])}}}]);
//# debugId=04d72f6b-9e83-5586-a566-b204ed2eab94
