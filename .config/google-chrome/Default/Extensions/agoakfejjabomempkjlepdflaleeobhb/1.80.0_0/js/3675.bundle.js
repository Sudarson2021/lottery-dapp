"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9efeaa51-59db-51e9-98fd-7d454069e10b")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[3675],{30825:(e,t,a)=>{a.d(t,{H:()=>r});var n=a(90948),i=a(68483);const r=(0,n.ZP)(i.Kqy)`
  width: 80px;
  height: 80px;
  background-color: ${({theme:e})=>e.palette.background.paper};
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  margin: ${({margin:e})=>e??"8px 0"};
`},24479:(e,t,a)=>{a.d(t,{v:()=>d});var n=a(46935),i=a(5453),r=a(69518),s=a(95034),c=a(67294),o=a(23900),l=a(2606);function d(e){const{request:t}=(0,r.K)(),a=(0,o.h)(o.A.CONFIRM),{approval:d}=(0,l.t$)(),[u,m]=(0,c.useState)(),[p]=(0,c.useState)(""),h=(0,c.useCallback)((async(e,r)=>{m((t=>{if(t)return{...t,status:e.status,displayData:{...t.displayData,...e.displayData}}}));const s=a&&e.status!==i.M4.PENDING;return t({method:n.a.ACTION_UPDATE,params:[e,r]}).finally((()=>{s&&globalThis.close()}))}),[t,a]),E=(0,c.useCallback)((async()=>h({status:i.M4.ERROR_USER_CANCELED,id:e})),[e,h]);return(0,c.useEffect)((()=>{a?t({method:n.a.ACTION_GET,params:[e]}).then(m):d?.action.actionId===e&&m(d.action)}),[e,t,d,a]),(0,s.W)(E),{action:u,updateAction:h,error:p,cancelHandler:E}}},70460:(e,t,a)=>{a.d(t,{$:()=>r});var n=a(67294),i=a(47886);function r(){const e=(0,i.TH)();return(0,n.useMemo)((()=>new URLSearchParams(e.search??"").get("actionId")??""),[e.search])}},83675:(e,t,a)=>{a.r(t),a.d(t,{UpdateContacts:()=>m});var n=a(24479),i=a(5453),r=a(70460),s=a(35551),c=a(26793),o=a(62440),l=a(68483),d=a(30825),u=a(67294);function m({method:e}){const{t}=(0,c.$)(),a=(0,r.$)(),{action:m,updateAction:p,cancelHandler:h}=(0,n.v)(a);if(!m)return u.createElement(l.Kqy,{sx:{width:1,height:1,justifyContent:"center",alignItems:"center"}},u.createElement(l.D8x,null));const E={create:t("Create"),update:t("Update"),remove:t("Remove")};return u.createElement(l.Kqy,{sx:{py:1,px:2,width:1,height:1}},u.createElement(l.Kqy,{sx:{height:1,width:1,flexGrow:1,alignItems:"center",justifyContent:"center"}},u.createElement(d.H,{sx:{mb:3}},u.createElement(l.xCu,{size:48})),u.createElement(l.ZT$,{sx:{pb:2},variant:"h4"},E[e]," ",t("Contact?")),u.createElement(l.ZT$,{sx:{textAlign:"center",maxWidth:1,wordWrap:"break-word"},variant:"body1"},u.createElement(o.c,{i18nKey:"{{domain}} is requesting to {{method}} a contact:",values:{domain:m.site?.domain||t("This website"),method:E[e].toLowerCase()}})),u.createElement(l.Kqy,{sx:{alignItems:"flex-start",justifyContent:"space-between",width:1,mt:3}},"update"===e&&m.displayData?.existing?u.createElement(u.Fragment,null,u.createElement(l.ZT$,{variant:"body1"},t("From:")),u.createElement(l.Zbd,{sx:{width:1,p:2}},u.createElement(s.X,{contact:m.displayData?.existing})),u.createElement(l.ZT$,{variant:"body1",sx:{mt:2}},t("To:")),u.createElement(l.Zbd,{sx:{width:1,p:2}},u.createElement(s.X,{contact:m.displayData?.contact}))):u.createElement(s.X,{contact:m.displayData?.contact}))),u.createElement(l.Kqy,{sx:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",pt:3,pb:1,gap:1}},u.createElement(l.zxk,{color:"secondary","data-testid":"transaction-reject-btn",size:"large",fullWidth:!0,disabled:m.status===i.M4.SUBMITTING,onClick:()=>{h(),window.close()}},t("Reject")),u.createElement(l.zxk,{"data-testid":"transaction-approve-btn",size:"large",fullWidth:!0,disabled:m.status===i.M4.SUBMITTING||!!m.error,onClick:()=>{p({status:i.M4.SUBMITTING,id:a})}},t("Approve"))))}},95034:(e,t,a)=>{a.d(t,{W:()=>o});var n=a(67294),i=a(83),r=a(45399),s=a(94975),c=a(73335);function o(e){(0,n.useEffect)((()=>{const t=(0,i.T)((0,r.R)((e=>{window.addEventListener("unload",e)}),(e=>{window.removeEventListener("unload",e)})),(0,r.R)((e=>{window.addEventListener("visibilitychange",e)}),(e=>{window.removeEventListener("visibilitychange",e)})).pipe((0,s.h)((()=>"hidden"===document.visibilityState)))).pipe((0,c.P)()).subscribe((()=>{e()}));return()=>{t.unsubscribe()}}),[e])}}}]);
//# debugId=9efeaa51-59db-51e9-98fd-7d454069e10b
