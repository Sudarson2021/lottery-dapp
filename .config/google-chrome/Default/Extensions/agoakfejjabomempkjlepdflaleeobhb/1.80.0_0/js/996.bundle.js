"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ee6eef44-7ce6-516a-8a4f-a316ecabf641")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[996],{30825:(e,t,n)=>{n.d(t,{H:()=>s});var r=n(90948),a=n(68483);const s=(0,r.ZP)(a.Kqy)`
  width: 80px;
  height: 80px;
  background-color: ${({theme:e})=>e.palette.background.paper};
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  margin: ${({margin:e})=>e??"8px 0"};
`},32672:(e,t,n)=>{n.d(t,{T:()=>m});var r=n(87462),a=n(68483),s=n(57832),i=n(67294),c=n(67294);const o="50%",l="32px",d=e=>{const t=(e||"").split(" "),n=t[0],r=t[t.length-1];return n&&r?n.substring(0,1)+r.substring(0,1):n?n.substring(0,1):""};function m({src:e,children:t,width:n,height:m,name:u,...h}){const[b,y]=(0,i.useState)();if((0,i.useEffect)((()=>{let t=!1;return new Promise(((t,n)=>{if(!e)return void n("no source value");const r=document.createElement("img");r.onerror=e=>{n(e)},r.onload=()=>{t(r)},r.src=(0,s.w)(e)})).then((()=>{!t&&y({success:!0})})).catch((()=>{!t&&y({error:!0})})),()=>{t=!0}}),[u,e]),!b)return c.createElement(a.Kqy,(0,r.Z)({direction:"row",justifyContent:"center",alignItems:"center",sx:{borderRadius:o,backgroundColor:"grey.600",width:n||l,height:m||l,flexShrink:0}},h),c.createElement(a.D8x,{size:5}));if(b.success)return c.createElement(a.Kqy,(0,r.Z)({direction:"row",sx:{borderRadius:o,width:n||l,height:m||l,flexShrink:0}},h,{as:"img",src:(0,s.w)(e)}));if(b.error){const e=d(u);return t??c.createElement(a.Kqy,(0,r.Z)({direction:"row",justifyContent:"center",alignItems:"center",sx:{borderRadius:o,backgroundColor:"grey.600",width:n||l,height:m||l,flexShrink:0}},h),c.createElement(a.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibolds"}},e))}}},53855:(e,t,n)=>{n.d(t,{$:()=>o});var r=n(87462),a=n(86658),s=n(67294),i=n(2734),c=n(67294);const o=(0,s.forwardRef)((function(e,t){const n=(0,i.Z)();return c.createElement(a.$B,(0,r.Z)({renderThumbVertical:({style:e,...t})=>{const a={backgroundColor:n.palette.grey[800],borderRadius:9999};return c.createElement("div",(0,r.Z)({style:{...e,...a}},t))},ref:t},e))}))},24479:(e,t,n)=>{n.d(t,{v:()=>d});var r=n(46935),a=n(5453),s=n(69518),i=n(95034),c=n(67294),o=n(23900),l=n(2606);function d(e){const{request:t}=(0,s.K)(),n=(0,o.h)(o.A.CONFIRM),{approval:d}=(0,l.t$)(),[m,u]=(0,c.useState)(),[h]=(0,c.useState)(""),b=(0,c.useCallback)((async(e,s)=>{u((t=>{if(t)return{...t,status:e.status,displayData:{...t.displayData,...e.displayData}}}));const i=n&&e.status!==a.M4.PENDING;return t({method:r.a.ACTION_UPDATE,params:[e,s]}).finally((()=>{i&&globalThis.close()}))}),[t,n]),y=(0,c.useCallback)((async()=>b({status:a.M4.ERROR_USER_CANCELED,id:e})),[e,b]);return(0,c.useEffect)((()=>{n?t({method:r.a.ACTION_GET,params:[e]}).then(u):d?.action.actionId===e&&u(d.action)}),[e,t,d,n]),(0,i.W)(y),{action:m,updateAction:b,error:h,cancelHandler:y}}},70460:(e,t,n)=>{n.d(t,{$:()=>s});var r=n(67294),a=n(47886);function s(){const e=(0,a.TH)();return(0,r.useMemo)((()=>new URLSearchParams(e.search??"").get("actionId")??""),[e.search])}},996:(e,t,n)=>{n.r(t),n.d(t,{AddTokenApproval:()=>u});var r=n(5453),a=n(30825),s=n(32672),i=n(24479),c=n(70460),o=n(26793),l=n(68483),d=n(53855),m=n(67294);function u(){const{t:e}=(0,o.$)(),t=(0,c.$)(),{action:n,updateAction:u,cancelHandler:h}=(0,i.v)(t);if(!n||!n.displayData)return m.createElement(l.Kqy,{sx:{width:1,height:1,justifyContent:"center",alignItems:"center"}},m.createElement(l.D8x,null));const b=n.displayData;return m.createElement(m.Fragment,null,m.createElement(l.Kqy,{sx:{flexGrow:1,width:1,px:2,py:1}},m.createElement(l.ZT$,{component:"h1",sx:{mt:1,mb:3,fontSize:24,fontWeight:"bold"}},e("Add New Asset?")),m.createElement(l.Kqy,{sx:{alignItems:"center",justifyContent:"center",mb:3}},m.createElement(a.H,{sx:{mb:2}},m.createElement(s.T,{height:"48px",width:"48px",src:b.logoUri},m.createElement(l.n9J,{size:48}))),m.createElement(l.ZT$,{variant:"h5"},b.name),m.createElement(l.ZT$,{sx:{textAlign:"center",maxWidth:1,wordWrap:"break-word",color:"text.secondary"},variant:"caption"},n?.site?.domain)),m.createElement(l.Zbd,{sx:{flexGrow:1}},m.createElement(d.$,null,m.createElement(l.Kqy,{sx:{p:2,width:1}},m.createElement(l.Kqy,{sx:{mb:2}},m.createElement(l.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Name")),m.createElement(l.ZT$,{variant:"subtitle2"},b.name)),m.createElement(l.Kqy,{sx:{mb:2}},m.createElement(l.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Symbol")),m.createElement(l.ZT$,{variant:"subtitle2"},b.symbol)),m.createElement(l.Kqy,{sx:{mb:2}},m.createElement(l.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Address")),m.createElement(l.ZT$,{variant:"subtitle2",sx:{wordBreak:"break-all"}},b.address)),m.createElement(l.Kqy,{sx:{mb:2}},m.createElement(l.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Decimals")),m.createElement(l.ZT$,{variant:"subtitle2"},b.decimals)),m.createElement(l.Kqy,{sx:{mb:2}},m.createElement(l.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Contract Type")),m.createElement(l.ZT$,{variant:"subtitle2"},b.contractType))))),m.createElement(l.Kqy,{sx:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",pt:3,gap:1}},m.createElement(l.zxk,{color:"secondary","data-testid":"transaction-reject-btn",size:"large",fullWidth:!0,disabled:n.status===r.M4.SUBMITTING,onClick:()=>{h(),window.close()}},e("Reject")),m.createElement(l.zxk,{"data-testid":"transaction-approve-btn",size:"large",fullWidth:!0,disabled:n.status===r.M4.SUBMITTING||!!n.error,onClick:()=>{u({status:r.M4.SUBMITTING,id:t})}},e("Approve")))))}},95034:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(67294),a=n(83),s=n(45399),i=n(94975),c=n(73335);function o(e){(0,r.useEffect)((()=>{const t=(0,a.T)((0,s.R)((e=>{window.addEventListener("unload",e)}),(e=>{window.removeEventListener("unload",e)})),(0,s.R)((e=>{window.addEventListener("visibilitychange",e)}),(e=>{window.removeEventListener("visibilitychange",e)})).pipe((0,i.h)((()=>"hidden"===document.visibilityState)))).pipe((0,c.P)()).subscribe((()=>{e()}));return()=>{t.unsubscribe()}}),[e])}}}]);
//# debugId=ee6eef44-7ce6-516a-8a4f-a316ecabf641
