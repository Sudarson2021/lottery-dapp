"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c92445eb-5b2d-5bfe-bf61-1a09b2a4e6a9")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[121],{14005:(e,t,a)=>{a.d(t,{p:()=>l});var r=a(68483),n=a(67294);const l=({label:e,tooltip:t})=>n.createElement(r.Kqy,{sx:{flexDirection:"row",alignItems:"center",gap:1}},n.createElement(r.ZT$,{variant:"body2",sx:{fontWeight:"semibold"}},e),t&&n.createElement(r.ua7,{title:t},n.createElement(r.uMt,{size:16})))},25617:(e,t,a)=>{a.d(t,{w:()=>l});var r=a(67294),n=a(47886);const l=(e,t="activeTab")=>{const{search:a,pathname:l}=(0,n.TH)(),o=(0,n.k6)(),i=(0,r.useMemo)((()=>{const e=new URLSearchParams(a).get(t);return null!==e?Number(e):null}),[a,t]),s=(0,r.useCallback)((e=>{e!==i&&o.replace({pathname:l,search:`?${new URLSearchParams({[t]:String(e)}).toString()}`})}),[o,i,t,l]);return{activeTab:i??e,setActiveTab:s}}},20121:(e,t,a)=>{a.r(t),a.d(t,{AddNetwork:()=>v});var r=a(67294),n=a(47886),l=a(26793),o=a(90948),i=a(68483),s=a(2734),c=a(70582),m=a(49530),d=a(1336),u=a(68622),p=a(43023),h=a(27641),E=a(68604),k=a(68611),g=a(67294);const w=(0,o.ZP)(i.$B7)`
  flex-grow: 1;
  max-height: unset;
  height: 100%;
  width: 100%;

  & > div {
    display: flex;
    flex-direction: column;
  }
`,v=()=>{const{t:e}=(0,l.$)(),{saveCustomNetwork:t,isDeveloperMode:a}=(0,p.g)(),{getPageHistoryData:o,setNavigationHistoryData:v}=(0,u.K)(),x=(0,n.k6)(),y=(0,s.Z)(),N=(0,r.useMemo)((()=>({chainName:"",chainId:0,vmName:m.mK.EVM,rpcUrl:"",networkToken:{name:"",symbol:"",description:"",decimals:18,logoUri:""},logoUri:"",explorerUrl:""})),[]),[f,C]=(0,r.useState)(N),R=(0,r.useMemo)((()=>({...o()})),[o]);(0,r.useEffect)((()=>{C({...N,...R})}),[N,R]);const[b,I]=(0,r.useState)(!1),[T,O]=(0,r.useState)(!1),[A,P]=(0,r.useState)(""),_=(0,r.useRef)(null),{capture:S}=(0,h.O)(),[U,K]=(0,r.useState)(!1),H=()=>{S("CustomNetworkAdded"),c.ZP.success(e("Custom network added!"),{duration:2e3}),x.push(`/networks?activeTab=${k.L.Custom}`)},$=e=>{P(e),_?.current?.scrollToTop()};return g.createElement(i.Kqy,{sx:{width:1,px:2}},g.createElement(d.V,{margin:"8 0 12px"},e("Add Network")),g.createElement(w,{ref:_},g.createElement(i.Kqy,{sx:{gap:1}},A&&g.createElement(i.ZT$,{variant:"body2",color:y.palette.error.main,sx:{py:1,mb:2}},A),g.createElement(E.I,{customNetwork:f,handleChange:(e,t)=>{C({...e,isTestnet:a}),v({...e}),I(t)},showErrors:T,action:E.p.Add}))),g.createElement(i.Kqy,{direction:"row",sx:{flexGrow:1,justifyContent:"flex-end",alignItems:"center",py:3,gap:1}},g.createElement(i.zxk,{color:"secondary","data-testid":"cancel-network-save",size:"large",fullWidth:!0,onClick:x.goBack},e("Cancel")),g.createElement(i.zxk,{color:"primary","data-testid":"add-network-save",size:"large",fullWidth:!0,disabled:U,isLoading:U,onClick:()=>{O(!0),b&&(K(!0),t(f).then(H).catch($).finally((()=>{K(!1)})))}},e("Save"))))}},68604:(e,t,a)=>{a.d(t,{I:()=>x,p:()=>w});var r=a(67294),n=a(26793),l=a(90948),o=a(68483),i=a(43023),s=a(14005),c=a(30186),m=a(62440),d=a(96486);const u=(e,t)=>{try{return new Headers({[e]:t}),!0}catch{return!1}};var p=a(67294);const h=({isReadOnly:e,rpcHeaders:t,setRpcHeaders:a})=>{const{t:l}=(0,n.$)(),i=(0,r.useCallback)(((e,{newName:t,newValue:r})=>{a?.((a=>Object.fromEntries(Object.entries(a).map((([a,n],l)=>l===e?[t??a,r??n]:[a,n])))))}),[a]);return p.createElement(o.Kqy,{sx:{width:1}},Object.entries(t).map((([t,r],n)=>p.createElement(o.Q5I,{in:!0,key:`rpc-header-${n}`},p.createElement(o.Kqy,{direction:"row",sx:{gap:.5,mb:1}},p.createElement(o.nvn,{size:"small",value:t,InputProps:{readOnly:e},placeholder:l("Header Name"),onChange:e=>{e.target.value&&!u(e.target.value,r)||i(n,{newName:e.target.value})}}),p.createElement(o.nvn,{size:"small",value:r,InputProps:{readOnly:e},placeholder:l("Value"),onChange:e=>{u(t,e.target.value)&&i(n,{newValue:e.target.value})}}),!e&&p.createElement(o.hU,{disabled:""===t,onClick:()=>a?.((e=>1===Object.keys(e).length?c.F1:(0,d.omit)(e,t)))},p.createElement(o.XHJ,null)))))))};var E=a(67294);const k=({isReadOnly:e,network:t,onChange:a})=>{const{t:l}=(0,n.$)(),[i,s]=(0,r.useState)(t.customRpcHeaders??c.F1),[u,p]=(0,r.useState)(!1),k=Object.keys(t.customRpcHeaders??{}).length>0,g=""in i,w=JSON.stringify(t.customRpcHeaders??c.F1)!==JSON.stringify(i);return E.createElement(E.Fragment,null,k&&E.createElement(E.Fragment,null,E.createElement(h,{rpcHeaders:i,isReadOnly:!0}),!e&&E.createElement(o.zxk,{variant:"text",onClick:()=>p(!0)},l("Edit Custom RPC Headers"))),!k&&(e?E.createElement(o.ZT$,{variant:"body2",color:"text.secondary",sx:{display:"flex"}},l("No custom headers are configured.")):E.createElement(o.ZT$,{variant:"body2",color:"text.secondary",sx:{display:"flex"}},E.createElement(m.c,{i18nKey:"No custom headers are configured. <button>Edit</button>",components:{button:E.createElement(o.zxk,{variant:"text",onClick:()=>p(!0),sx:{p:0}})}}))),!e&&u&&E.createElement(o.VqE,{open:u,PaperProps:{sx:{mx:2}}},E.createElement(o.$N8,{sx:{px:2}},l("Custom RPC Headers")),E.createElement(o.cZJ,{sx:{pl:2,pr:1}},E.createElement(h,{isReadOnly:!1,rpcHeaders:i,setRpcHeaders:s}),E.createElement(o.Kqy,{sx:{pr:5,width:1}},E.createElement(o.zxk,{variant:"text",fullWidth:!0,size:"small",onClick:()=>s((e=>({...e,"":""}))),disabled:g},l("Add Next")))),E.createElement(o.Kqy,{direction:"row",sx:{flexDirection:"row",gap:1,px:2,pb:3,pt:4,alignItems:"center"}},E.createElement(o.zxk,{key:"cancel",color:"secondary",onClick:()=>{s(t.customRpcHeaders??c.F1),p(!1)},fullWidth:!0},l("Cancel")),E.createElement(o.zxk,{key:"save",disabled:!w,onClick:()=>{a?.((0,d.omit)(i,"")),p(!1)},fullWidth:!0},l("Save")))))};var g=a(67294);let w=function(e){return e.Add="add",e.Edit="edit",e}({});const v=(0,l.ZP)(o.Kqy)`
  position: relative;
  overflow: hidden;
  width: 100%;
  gap: 4px;
  min-height: 92px;
`,x=(0,r.forwardRef)((({customNetwork:e,handleChange:t,handleRpcHeadersChange:a,readOnly:l=!1,showErrors:c=!1,action:m,isCustomNetwork:d=!1,handleResetUrl:u},p)=>{const{t:h}=(0,n.$)(),{isChainIdExist:E}=(0,i.g)(),[x,y]=(0,r.useState)(),[N,f]=(0,r.useState)(),[C,R]=(0,r.useState)(),[b,I]=(0,r.useState)(),[T,O]=(0,r.useState)(),[A,P]=(0,r.useState)();(0,r.useImperativeHandle)(p,(()=>({resetFormErrors:U})),[]);const _={RPC_ERROR:h("RPC required"),CHAIN_NAME_ERROR:h("Network Name is required"),CHAIN_ID_ERROR:h("Chain ID is required"),TOKEN_SYMBOL_ERROR:h("Network Token Symbol is required"),CHAIN_ID_EXISTS:h("This Chain ID has been added already"),INVALID_URL:h("This URL is invalid"),TOKEN_NAME_ERROR:h("Network Token Name is required")},S=(0,r.useCallback)((e=>{let t=!0;return e.rpcUrl||(y(_.RPC_ERROR),t=!1),e.rpcUrl&&!(e=>{let t;try{t=new URL(e)}catch(e){return!1}if("https:"===t.protocol||"ipfs:"===t.protocol||"http:"===t.protocol)return!0})(e.rpcUrl)&&(y(_.INVALID_URL),t=!1),e.chainName||(f(_.CHAIN_NAME_ERROR),t=!1),e.chainId&&0!==e.chainId||(R(_.CHAIN_ID_ERROR),t=!1),m===w.Add&&E(e.chainId)&&(R(_.CHAIN_ID_EXISTS),t=!1),e.networkToken.symbol||(I(_.TOKEN_SYMBOL_ERROR),t=!1),e.networkToken.name||(P(_.TOKEN_NAME_ERROR),t=!1),t}),[_.CHAIN_ID_ERROR,_.CHAIN_ID_EXISTS,_.CHAIN_NAME_ERROR,_.INVALID_URL,_.RPC_ERROR,_.TOKEN_NAME_ERROR,_.TOKEN_SYMBOL_ERROR,m,E]);(0,r.useEffect)((()=>{c&&S(e)}),[c,e,S]);const U=()=>{y(""),f(""),R(""),I(""),O(""),P("")},K=e=>{U(),t?.(e,S(e))},H=u&&!d;return g.createElement(o.Kqy,{sx:{width:1}},g.createElement(v,null,g.createElement(s.p,{label:h("Network RPC URL")}),g.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),K({...e,rpcUrl:t.target.value})},"data-testid":"network-rpc-url",value:e.rpcUrl,placeholder:"http(s)://URL",InputProps:{readOnly:l,fullWidth:!0,endAdornment:H?g.createElement(o.oGm,{position:"end"},g.createElement(o.zxk,{variant:"text",size:"small",onClick:u},h("Reset"))):null},error:!!x,helperText:x})),g.createElement(v,null,g.createElement(s.p,{label:h("Network Name")}),g.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),K({...e,chainName:t.target.value})},"data-testid":"network-name",value:e.chainName,placeholder:h("Enter Name"),fullWidth:!0,InputProps:{readOnly:l||!d&&m===w.Edit},error:!!N,helperText:N})),g.createElement(v,null,g.createElement(s.p,{label:h("Chain ID")}),g.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),K({...e,chainId:parseInt(t.target.value)})},disabled:m===w.Edit,"data-testid":"chain-id",value:isNaN(e.chainId)?"":e.chainId,placeholder:h("Enter Chain ID"),fullWidth:!0,InputProps:{readOnly:l||!d&&m===w.Edit},type:"number",error:!!C,helperText:C})),g.createElement(v,null,g.createElement(s.p,{label:h("Network Token Symbol")}),g.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),K({...e,networkToken:{...e.networkToken,symbol:t.target.value}})},"data-testid":"network-token-symbol",value:e.networkToken.symbol,placeholder:h("Enter Token Symbol"),fullWidth:!0,InputProps:{readOnly:l||!d&&m===w.Edit},error:!!b,helperText:b})),g.createElement(v,null,g.createElement(s.p,{label:h("Network Token Name")}),g.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),K({...e,networkToken:{...e.networkToken,name:t.target.value}})},"data-testid":"network-token-name",value:e.networkToken.name,placeholder:h("Enter Token"),fullWidth:!0,InputProps:{readOnly:l||!d&&m===w.Edit},error:!!A,helperText:A})),g.createElement(v,null,g.createElement(s.p,{label:h("Explorer URL (Optional)")}),g.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),K({...e,explorerUrl:t.target.value})},"data-testid":"explorer-url",value:e.explorerUrl,placeholder:h("Enter URL"),fullWidth:!0,InputProps:{readOnly:l||!d&&m===w.Edit},error:!!T,helperText:T})),g.createElement(v,null,g.createElement(s.p,{label:h("Logo URL (Optional)")}),g.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),K({...e,logoUri:t.target.value})},"data-testid":"logo-url",value:e.logoUri,placeholder:h("Enter URL"),fullWidth:!0,InputProps:{readOnly:l||!d&&m===w.Edit}})),g.createElement(v,null,g.createElement(s.p,{label:h("Custom RPC Headers")}),g.createElement(k,{isReadOnly:l,network:e,onChange:a})))}));x.displayName="NetworkForm"},68611:(e,t,a)=>{a.d(t,{L:()=>H,p:()=>z});var r=a(47886),n=a(67294),l=a(26793),o=a(90948),i=a(68483),s=a(27641),c=a(1336),m=a(25617),d=a(43023),u=a(87462),p=a(67294);const h={timeout:500,easing:"ease-in-out",appear:!0};function E({text:e}){return p.createElement(i.Q5I,(0,u.Z)({},h,{in:!0}),p.createElement(i.Kqy,{sx:{alignItems:"center",justifyContent:"center",flexGrow:"1",height:"100%"}},p.createElement(i.ZT$,{"data-testid":"empty-list-text",variant:"body2"},e)))}var k=a(41967),g=a(71315),w=a(49530),v=a(2734),x=a(70582),y=a(26993),N=a(57832);const f=(0,o.ZP)(i.Kqy,{shouldForwardProp:e=>"isActive"!==e})`
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  cursor: pointer;
  width: 100%;
  transition: background-color 0.15s ease-in-out;
  background-color: ${({isActive:e,theme:t})=>e?`${t.palette.grey[900]}80`:"inherit"};

  :hover {
    background-color: ${({theme:e})=>`${e.palette.grey[900]}80`};
  }
`,C=(0,o.ZP)("div")`
  width: 32px;
  height: 32px;
  position: relative;
`,R=(0,o.ZP)("div")`
  width: 32px;
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  &.item-enter {
    opacity: 1;
    transform: scale(1);
    top: 0;
    left: 0;
  }
  &.item-enter-active {
    opacity: 0;
    top: ${({position:e})=>e?`-${65*e}px`:0};
    left: 40px;
    transform: scale(0);
    transition: top 500ms ease-in-out, opacity 750ms ease-in-out,
      left 500ms ease-in-out, transform 550ms ease-in-out;
  }
`,b=(0,o.ZP)("img")`
  width: 32px;
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  &.item-enter {
    opacity: 1;
    transform: scale(1);
    top: 0;
    left: 0;
  }
  &.item-enter-active {
    opacity: 0;
    top: ${({position:e})=>e?`-${65*e}px`:0};
    left: 40px;
    transform: scale(0);
    transition: top 500ms ease-in-out, opacity 750ms ease-in-out,
      left 500ms ease-in-out, transform 550ms ease-in-out;
  }
`;var I=a(67294);function T({networkList:e}){const{t}=(0,l.$)(),{network:a,setNetwork:o,removeFavoriteNetwork:c,isFavoriteNetwork:m,addFavoriteNetwork:u}=(0,d.g)(),p=(0,r.k6)(),h=(0,v.Z)(),{capture:E}=(0,s.O)(),[T,O]=(0,n.useState)(null);return e.length?I.createElement(i.$B7,{style:{flexGrow:1,maxHeight:"unset",height:"100%"}},I.createElement(k.Z,{component:null},e.map(((e,r)=>{const n=m(e.chainId);return I.createElement(i.UO1,{key:e.chainId,className:"item"},r>0&&I.createElement(i.izJ,{sx:{mx:2}}),I.createElement(f,{onClick:()=>{o(e),x.ZP.success(t("Active Network has changed!"),{duration:2e3}),p.push("/home")},"data-testid":`network-li-${r}`,isActive:e.chainId===a?.chainId},I.createElement(i.Kqy,{direction:"row",sx:{alignItems:"center",gap:2}},I.createElement(C,null,I.createElement(g.Z,{key:e.chainId,timeout:500,classNames:"item",appear:!0,in:T===e.chainId},e.logoUri?I.createElement(b,{src:(0,N.w)(e.logoUri),position:r+1,isFavorited:r===T}):I.createElement(R,{position:r+1,isFavorited:r===T},I.createElement(i.n9J,{width:"100%",height:"100%",color:h.palette.common.white,size:32}))),I.createElement(y.A,{src:e.logoUri,width:"32px",height:"32px",position:"absolute",defaultSize:32})),I.createElement(i.ZT$,{variant:"body1",sx:{fontWeight:"fontWeightSemibold"}},e.chainName)),I.createElement(i.Kqy,{direction:"row",sx:{flexShrink:0,alignItems:"center"}},e.chainId!==w.a_.AVALANCHE_MAINNET_ID&&I.createElement(i.hU,{onClick:t=>{t.stopPropagation(),n?(O(null),c(e.chainId)):(O(e.chainId),u(e.chainId))},"data-testid":"favorite-network"},n?I.createElement(i.e0l,{size:24}):I.createElement(i.r7p,{size:24})),I.createElement(i.hU,{onClick:t=>{t.stopPropagation(),E("NetworkDetailsClicked",{chainId:e.chainId}),p.push(`/networks/details/${e.chainId}`)},"data-testid":"network-details"},I.createElement(i.uMt,{size:24})))))})))):null}var O=a(67294);function A({searchTerm:e}){const{t}=(0,l.$)(),{customNetworks:a}=(0,d.g)(),r=a.filter((t=>e&&t.chainName.match(e)));return O.createElement(i.Kqy,{sx:{height:1,pb:1}},!r.length&&O.createElement(E,{text:t("There is no search result.")}),O.createElement(T,{networkList:r}))}var P=a(67294);function _({searchTerm:e}){const{t}=(0,l.$)(),{favoriteNetworks:a}=(0,d.g)(),r=a.filter((t=>e&&t.chainName.match(e))),n=a.length>0,o=r.length>0;return P.createElement(i.Kqy,{sx:{width:1,height:1,pb:1}},!n&&P.createElement(E,{text:t("You don't have any favorite item yet.")}),n&&!o&&P.createElement(E,{text:t("There is no search result.")}),P.createElement(T,{networkList:r}))}var S=a(67294);function U({searchTerm:e}){const{t}=(0,l.$)(),{networks:a}=(0,d.g)(),r=a.filter((t=>e&&t.chainName.match(e))),n=r.length>0;return S.createElement(i.Kqy,{sx:{width:1,height:1,pb:1}},n?S.createElement(T,{networkList:r}):S.createElement(E,{text:t("There is no search result.")}))}var K=a(67294);let H=function(e){return e[e.Favorites=0]="Favorites",e[e.All=1]="All",e[e.Custom=2]="Custom",e}({});const $=(0,o.ZP)(i.x45)`
  flex-grow: 1;
`;function z(){const{t:e}=(0,l.$)(),[t,a]=(0,n.useState)(""),{capture:o}=(0,s.O)(),d=(0,r.k6)(),{activeTab:u,setActiveTab:p}=(0,m.w)(H.Favorites),h=new RegExp(t,"gi");return K.createElement(i.Kqy,{sx:{width:1,flexGrow:1}},K.createElement(c.V,{margin:"12px 0"},K.createElement(i.Kqy,{direction:"row",sx:{alignItems:"center",justifyContent:"space-between",pr:1}},e("Networks"),K.createElement(i.hU,{"data-testid":"add-network-button",onClick:()=>d.push("/networks/add")},K.createElement(i.pOD,{size:24})))),K.createElement(i.Kqy,{sx:{py:1,px:2}},K.createElement(i.E1j,{sx:{width:1},onChange:e=>a(e.target.value),"data-testid":"network-search"})),K.createElement(i.mQc,{size:"medium",variant:"fullWidth",indicatorColor:"secondary",value:u,onChange:(e,t)=>{t===H.Custom?o("NetworkCustomTabClicked"):t===H.Favorites?o("NetworkFavoritesTabClicked"):o("NetworkNetworksTabClicked"),p(t)}},K.createElement(i.OK9,{label:e("Favorites"),value:H.Favorites}),K.createElement(i.OK9,{label:e("Networks"),value:H.All}),K.createElement(i.OK9,{label:e("Custom"),value:H.Custom})),K.createElement(i.Kqy,{sx:{flexGrow:1,mt:-.25,pt:1,borderTop:1,borderColor:"divider"}},K.createElement($,{value:u,index:H.Favorites},K.createElement(_,{searchTerm:h})),K.createElement($,{value:u,index:H.All},K.createElement(U,{searchTerm:h})),K.createElement($,{value:u,index:H.Custom},K.createElement(A,{searchTerm:h}))))}}}]);
//# debugId=c92445eb-5b2d-5bfe-bf61-1a09b2a4e6a9
