"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e9969e16-f44f-5db2-96a5-feca910c844f")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[3659],{32672:(e,t,n)=>{n.d(t,{T:()=>u});var r=n(87462),a=n(68483),i=n(57832),c=n(67294),o=n(67294);const s="50%",l="32px",d=e=>{const t=(e||"").split(" "),n=t[0],r=t[t.length-1];return n&&r?n.substring(0,1)+r.substring(0,1):n?n.substring(0,1):""};function u({src:e,children:t,width:n,height:u,name:h,...m}){const[p,g]=(0,c.useState)();if((0,c.useEffect)((()=>{let t=!1;return new Promise(((t,n)=>{if(!e)return void n("no source value");const r=document.createElement("img");r.onerror=e=>{n(e)},r.onload=()=>{t(r)},r.src=(0,i.w)(e)})).then((()=>{!t&&g({success:!0})})).catch((()=>{!t&&g({error:!0})})),()=>{t=!0}}),[h,e]),!p)return o.createElement(a.Kqy,(0,r.Z)({direction:"row",justifyContent:"center",alignItems:"center",sx:{borderRadius:s,backgroundColor:"grey.600",width:n||l,height:u||l,flexShrink:0}},m),o.createElement(a.D8x,{size:5}));if(p.success)return o.createElement(a.Kqy,(0,r.Z)({direction:"row",sx:{borderRadius:s,width:n||l,height:u||l,flexShrink:0}},m,{as:"img",src:(0,i.w)(e)}));if(p.error){const e=d(h);return t??o.createElement(a.Kqy,(0,r.Z)({direction:"row",justifyContent:"center",alignItems:"center",sx:{borderRadius:s,backgroundColor:"grey.600",width:n||l,height:u||l,flexShrink:0}},m),o.createElement(a.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibolds"}},e))}}},24479:(e,t,n)=>{n.d(t,{v:()=>d});var r=n(46935),a=n(5453),i=n(69518),c=n(95034),o=n(67294),s=n(23900),l=n(2606);function d(e){const{request:t}=(0,i.K)(),n=(0,s.h)(s.A.CONFIRM),{approval:d}=(0,l.t$)(),[u,h]=(0,o.useState)(),[m]=(0,o.useState)(""),p=(0,o.useCallback)((async(e,i)=>{h((t=>{if(t)return{...t,status:e.status,displayData:{...t.displayData,...e.displayData}}}));const c=n&&e.status!==a.M4.PENDING;return t({method:r.a.ACTION_UPDATE,params:[e,i]}).finally((()=>{c&&globalThis.close()}))}),[t,n]),g=(0,o.useCallback)((async()=>p({status:a.M4.ERROR_USER_CANCELED,id:e})),[e,p]);return(0,o.useEffect)((()=>{n?t({method:r.a.ACTION_GET,params:[e]}).then(h):d?.action.actionId===e&&h(d.action)}),[e,t,d,n]),(0,c.W)(g),{action:u,updateAction:p,error:m,cancelHandler:g}}},70460:(e,t,n)=>{n.d(t,{$:()=>i});var r=n(67294),a=n(47886);function i(){const e=(0,a.TH)();return(0,r.useMemo)((()=>new URLSearchParams(e.search??"").get("actionId")??""),[e.search])}},68424:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(93e3),a=n(9830),i=n(85759);function c(e){const{accounts:{active:t}}=(0,a.a)(),n=t?.type===r.Qm.FIREBLOCKS;return Boolean((0,i.P)()&&e&&n)}},10431:(e,t,n)=>{n.r(t),n.d(t,{SwitchActiveNetwork:()=>m});var r=n(90948),a=n(68483),i=n(26793),c=n(32672),o=n(5453),s=n(70460),l=n(68424),d=n(24479),u=n(67294);const h=(0,r.ZP)(a.Kqy)`
  width: 88px;
  height: 88px;
  background-color: ${({theme:e})=>e.palette.grey[850]};
  justify-content: center;
  align-items: center;
  border-radius: 50%;
`;function m(){const{t:e}=(0,i.$)(),t=(0,s.$)(),{action:n,updateAction:r,cancelHandler:m}=(0,d.v)(t),p=!n||!n.displayData,g=n?.displayData?.network,w=(0,l.Z)(Boolean(g?.isTestnet));return u.createElement(a.Kqy,{sx:{width:1,height:1,px:2,pb:1,alignItems:"center",justifyContent:"center"}},p&&u.createElement(a.D8x,{size:100}),!p&&u.createElement(u.Fragment,null,u.createElement(a.Kqy,{sx:{px:2,pb:3,flex:1,alignItems:"center",justifyContent:"center",textAlign:"center",gap:3,maxWidth:1}},u.createElement(h,null,u.createElement(c.T,{height:"56px",width:"56px",src:g?.logoUri},u.createElement(a.n9J,{size:56}))),u.createElement(a.ZT$,{variant:"h4"},e("Switch to {{chainName}} Network?",{chainName:g?.chainName})),u.createElement(a.ZT$,{variant:"body1",sx:{textAlign:"center",maxWidth:1,wordWrap:"break-word",color:"text.secondary"}},e("{{domain}} is requesting to switch your active network to {{chainName}}",{chainName:g?.chainName,domain:n?.site?.domain||e("This website")})),w&&u.createElement(a.ZT$,{variant:"caption",sx:{mt:3,color:"warning.main"}},e("Approving will also switch to your primary account, as Fireblocks-imported accounts are not supported in testnet mode at the moment."))),u.createElement(a.Kqy,{direction:"row",sx:{width:1,alignItems:"center",justifyContent:"space-between",alignSelf:"flex-end",gap:1}},u.createElement(a.zxk,{fullWidth:!0,color:"secondary",size:"large",onClick:()=>{m(),window.close()}},e("Reject")),u.createElement(a.zxk,{fullWidth:!0,color:"primary",size:"large",onClick:()=>{r({status:o.M4.SUBMITTING,id:t})}},e("Approve")))))}},95034:(e,t,n)=>{n.d(t,{W:()=>s});var r=n(67294),a=n(83),i=n(45399),c=n(94975),o=n(73335);function s(e){(0,r.useEffect)((()=>{const t=(0,a.T)((0,i.R)((e=>{window.addEventListener("unload",e)}),(e=>{window.removeEventListener("unload",e)})),(0,i.R)((e=>{window.addEventListener("visibilitychange",e)}),(e=>{window.removeEventListener("visibilitychange",e)})).pipe((0,c.h)((()=>"hidden"===document.visibilityState)))).pipe((0,o.P)()).subscribe((()=>{e()}));return()=>{t.unsubscribe()}}),[e])}}}]);
//# debugId=e9969e16-f44f-5db2-96a5-feca910c844f
