"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="599ee72a-0f11-51b9-b182-ccfa565a3eae")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[465],{67486:(e,t,n)=>{function r(e){return Object.keys(e).includes("tokens")}function a(e){return!r(e)&&"PVM"===e.vmType}n.d(t,{Z:()=>a,b:()=>r})},53855:(e,t,n)=>{n.d(t,{$:()=>s});var r=n(87462),a=n(86658),o=n(67294),i=n(2734),c=n(67294);const s=(0,o.forwardRef)((function(e,t){const n=(0,i.Z)();return c.createElement(a.$B,(0,r.Z)({renderThumbVertical:({style:e,...t})=>{const a={backgroundColor:n.palette.grey[800],borderRadius:9999};return c.createElement("div",(0,r.Z)({style:{...e,...a}},t))},ref:t},e))}))},19442:(e,t,n)=>{n.d(t,{Z:()=>s,t:()=>c});var r=n(52219),a=n(49530),o=n(64813),i=n(36609);const c=(e,t,n,c)=>{if("object"==typeof e){const n=t.find((t=>t.chainId===(0,o.Z)(e.chainId)));if(!n)throw new Error((0,i.t)("Blockchain not supported"));return n}switch(e){case r.$O.AVALANCHE:return t.find((e=>e.chainId===n.config?.critical.networks[r.$O.AVALANCHE]));case r.$O.ETHEREUM:return t.find((e=>e.chainId===n.config?.critical.networks[r.$O.ETHEREUM]));case r.$O.BITCOIN:return t.find((e=>void 0===c?e.chainId===a.a_.BITCOIN_TESTNET||e.chainId===a.a_.BITCOIN:c?e.chainId===a.a_.BITCOIN_TESTNET:e.chainId===a.a_.BITCOIN));default:throw new Error((0,i.t)("Blockchain not supported"))}},s=e=>{switch("string"==typeof e?.chainId?(0,o.Z)(e.chainId):e?.chainId){case a.a_.AVALANCHE_MAINNET_ID:case a.a_.AVALANCHE_LOCAL_ID:case a.a_.AVALANCHE_TESTNET_ID:return r.$O.AVALANCHE;case a.a_.ETHEREUM_HOMESTEAD:case a.a_.ETHEREUM_TEST_RINKEBY:case a.a_.ETHEREUM_TEST_GOERLY:case a.a_.ETHEREUM_TEST_SEPOLIA:return r.$O.ETHEREUM;case a.a_.BITCOIN:case a.a_.BITCOIN_TESTNET:return r.$O.BITCOIN;default:return r.$O.UNKNOWN}}},90027:(e,t,n)=>{n.d(t,{A:()=>r});const r=e=>void 0!==e&&"type"in e},90465:(e,t,n)=>{n.d(t,{h:()=>we});var r=n(64631),a=n(67294),o=n(53855),i=n(2734),c=n(68483),s=n(26793),l=n(67294);function E({loading:e=!1}){const{t}=(0,s.$)(),n=(0,i.Z)();return l.createElement(c.Kqy,{sx:{alignItems:"center",flexGrow:1,mt:9}},e?l.createElement(c.D8x,{size:32}):l.createElement(l.Fragment,null,l.createElement(c.ZT$,{variant:"h5"},t("No Activity")),l.createElement(c.ZT$,{variant:"body2",sx:{my:1,color:n.palette.primary.dark}},t("Add assets by Buying or Receiving"))))}var m=n(16770),T=n(85521),u=n(42799),d=n(65710),A=n(43023);let p=function(e){return e.BRIDGE="Bridge",e.SWAP="Swap",e.SEND="Send",e.RECEIVE="Receive",e.NFT_BUY="NFT Buy",e.APPROVE="Approve",e.TRANSFER="Transfer",e.BASE_TX="BaseTx",e.UNKNOWN="Unknown",e}({});p.BRIDGE,p.SEND,p.RECEIVE,p.TRANSFER;var _=n(9830),y=n(72295),f=n(71238),h=n(80718),I=n(45691);function x(e){return e===I.iv.ERC721||e===I.iv.ERC1155}var S=n(95280),O=n(27641),C=n(93302),g=n.n(C),N=n(67294);function R({historyItem:e}){const{accounts:{active:t}}=(0,_.a)();if(e.type===p.SWAP&&t?.addressC){const n=function(e){const n=t?.addressC;if(n)return e.tokens.find((e=>e.from?.address===n))}(e),r=function(e){const n=t?.addressC;if(n)return e.tokens.find((e=>e.to?.address===n))}(e);return N.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:.5}},N.createElement(c.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibold"}},n?.amount),N.createElement(c.ZT$,{variant:"body2",sx:e=>({color:e.palette.primary.dark})},n?.symbol," ->"),N.createElement(c.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibold"}},r?.amount),N.createElement(c.ZT$,{variant:"body2",sx:e=>({color:e.palette.primary.dark})},r?.symbol))}if(e.tokens[0]&&x(e.tokens[0]?.type))return N.createElement(c.ZT$,null,"#",e.tokens?.[0]?.collectableTokenId);const n=e.tokens?.[0]?.amount,r=e.tokens?.[0]?.symbol;return N.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:.5}},N.createElement(c.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibold"}},n),N.createElement(c.ZT$,{variant:"body2",sx:e=>({color:e.palette.primary.dark})},r))}var w=n(29199),D=n(32672),b=n(67294);function k({historyItem:e}){const t=(0,i.Z)(),{t:n}=(0,s.$)();return e.type===p.SWAP?b.createElement(c.Kqy,{sx:{mt:1,rowGap:1}},e.tokens.map(((e,n)=>b.createElement(c.Kqy,{key:n,sx:{flexDirection:"row",justifyContent:"space-between",rowGap:1}},b.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:1}},e.symbol===w.HN.symbol?b.createElement(c.zlI,{size:16}):b.createElement(D.T,{width:t.spacing(2),height:t.spacing(2),src:e.imageUri,name:e.name}),b.createElement(c.ZT$,{variant:"caption"},e.symbol)),b.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:1}},b.createElement(c.ZT$,{variant:"caption"}," ",e.amount),b.createElement(c.ZT$,{variant:"caption"},e.symbol)))))):e.type===p.TRANSFER&&e.tokens[0]?.type&&x(e.tokens[0].type)||e.type===p.NFT_BUY?b.createElement(c.Kqy,{sx:{flexDirection:"row",mt:1,justifyContent:"space-between"}},b.createElement(c.ZT$,null,n("Collection")),b.createElement(c.ZT$,null,e.tokens?.[0]?.name)):b.createElement(b.Fragment,null)}var v=n(28542),X=n(67294);function B({historyItem:e}){const[t,n]=(0,a.useState)(),r=(0,i.Z)(),{t:o}=(0,s.$)();return(0,a.useEffect)((()=>{const t=e=>X.createElement(v.V,{height:r.spacing(4),maxHeight:r.spacing(4),width:"auto",maxWidth:r.spacing(4),url:e.tokens?.[0]?.imageUri,hover:!1,margin:"8px 0",showPlayIcon:!1,borderRadius:"50%"}),a=r.spacing(2),o=e.isSender?X.createElement(c.Hf3,{size:a}):X.createElement(c.veu,{size:a});switch(e.type){case p.BRIDGE:n(X.createElement(c.Nj_,{size:a}));break;case p.SWAP:n(X.createElement(c.TdZ,{size:a}));break;case p.SEND:n(X.createElement(c.fC7,{size:a}));break;case p.RECEIVE:n(X.createElement(c.WfB,{size:a}));break;case p.NFT_BUY:n(t(e));break;case p.TRANSFER:e.tokens[0]&&x(e.tokens[0]?.type)?n(t(e)):n(o);break;default:if(e.isContractCall){n(X.createElement(c.uHY,{size:a}));break}n(o)}}),[o,r,e]),X.createElement(c.Kqy,{sx:{height:r.spacing(4),width:r.spacing(4),borderRadius:"50%",backgroundColor:r.palette.grey[800],justifyContent:"center",alignItems:"center",color:"secondary.main"}},t)}var L=n(56693),$=n(52219),Z=n(49530),M=n(2354),V=n(24653),G=n(85114),P=n(90027);const q="0x0000000000000000000000000000000000000000";var U=n(64813);function K(e){const{state:{addresses:t}}=(0,G.$)(),n=function(e){return"addressBTC"in e||"sourceChain"in e}(e);if(n)return{sourceBlockchain:W("object"==typeof e.sourceChain?e.sourceChain.chainName:e.sourceChain),targetBlockchain:W("object"==typeof e.targetChain?e.targetChain.chainName:e.targetChain)};const r=F(o=e)?(0,P.A)(o)?(0,U.Z)(o.targetChain.chainId)===Z.a_.ETHEREUM_HOMESTEAD||(0,U.Z)(o.targetChain.chainId)===Z.a_.ETHEREUM_TEST_GOERLY:o.targetChain===$.$O.AVALANCHE:o.from===q||(o.isOutgoing?o.chainId!==Z.a_.AVALANCHE_MAINNET_ID.toString()&&o.chainId!==Z.a_.AVALANCHE_TESTNET_ID.toString():!!o.isIncoming&&(o.chainId===Z.a_.AVALANCHE_MAINNET_ID.toString()||o.chainId===Z.a_.AVALANCHE_TESTNET_ID.toString())),a=function(e,t){const n=F(e)?e.symbol:e.tokens?.[0]?.symbol,r="Ethereum",a="Bitcoin";if(n===M.wu.networkToken.symbol)return a;if(!F(e)){if((0,V.H)(Number(e.chainId)))return r;if(t.includes(e.to.toLowerCase())||t.includes(e.from.toLowerCase()))return r}const o=n?.split(".")[1];switch(o){case"e":return r;case"b":return a;default:return"N/A"}}(e,t);var o;return{sourceBlockchain:r?a:"Avalanche",targetBlockchain:r?"Avalanche":a}}function W(e){return(e[0]||"").toUpperCase()+e.slice(1)}function F(e){return"targetChain"in e}var H=n(67294);function j({historyItem:e}){const{accounts:{active:t}}=(0,_.a)(),{sourceBlockchain:n,targetBlockchain:r}=K(e),{t:a}=(0,s.$)();if(e.type===p.BRIDGE)return H.createElement(c.ZT$,{variant:"caption",sx:e=>({color:e.palette.primary.dark})},n," -> ",r);if(e.type===p.SWAP){const n=e.tokens.find((e=>e.from?.address===t?.addressC)),r=e.tokens.find((e=>e.to?.address===t?.addressC));return H.createElement(c.ZT$,{variant:"caption",sx:e=>({color:e.palette.primary.dark})},n?.symbol," -> ",r?.symbol)}const o=e.isSender?a("To"):a("From"),i=e.isSender?e.to:e.from;return H.createElement(c.ZT$,{variant:"caption",sx:e=>({color:e.palette.primary.dark})},o,": ",(0,L.F)(i))}var z=n(67294);function Y({historyItem:e}){const{network:t}=(0,A.g)(),[n,r]=(0,a.useState)(!1),{t:o}=(0,s.$)(),l=(0,i.Z)(),{capture:E}=(0,O.O)(),m=(0,a.useMemo)((()=>!!(e.type===p.SWAP||e.type===p.NFT_BUY||e.type===p.TRANSFER&&e.tokens[0]&&x(e.tokens[0].type))),[e]),T=(0,a.useMemo)((()=>t&&(0,S.N)(t)?(0,f.O)(Number(e.gasUsed)).toFixed(6).toString():(0,h.r)(new(g())(Number(e.gasUsed)*Number(void 0===e.gasPrice?1:e.gasPrice))).toFixed(6).toString()),[t,e]),u=(0,a.useMemo)((()=>m?n?z.createElement(c.g8U,null):z.createElement(c.v4q,null):void 0),[m,n]),d=(0,a.useMemo)((()=>{if(t)switch(e.type){case p.BRIDGE:return o("Bridge");case p.SWAP:return o("Swap");case p.SEND:return o("Sent");case p.RECEIVE:return o("Received");case p.NFT_BUY:return o("NFT Buy");case p.TRANSFER:return e.tokens[0]&&x(e.tokens[0]?.type)?e.isSender?o("NFT Sent"):o("NFT Received"):o("Transfer");default:return e.isContractCall?o("Contract Call"):e.tokens[0]?.symbol}}),[t,o,e]);return z.createElement(c.Zbd,{"data-testid":e.isContractCall?"Contract-call-activity-card":e.type+"-activity-card",sx:{p:2,backgroundImage:"none"}},z.createElement(c.Kqy,{divider:z.createElement(c.izJ,{orientation:"vertical",flexItem:!0,style:{borderBottomWidth:1}}),sx:{rowGap:1.5,width:"100%"}},z.createElement(c.Kqy,{sx:{cursor:m?"pointer":"default"},onClick:()=>{const a=!n;m&&(a&&E("ActivityCardDetailShown",{chainId:t?.chainId,type:e.type}),r(a))}},z.createElement(c.Kqy,null,z.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:2,width:"100%",alignItems:"center"}},z.createElement(B,{historyItem:e}),z.createElement(c.Kqy,{sx:{rowGap:.5}},z.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:l.spacing(32)}},z.createElement(c.ZT$,{variant:"h6"},d),z.createElement(R,{historyItem:e})),z.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between"}},z.createElement(j,{historyItem:e}),u)))),n&&z.createElement(k,{historyItem:e})),z.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between",width:"100%"}},z.createElement(c.ZT$,null,o("Network Fee")),z.createElement(c.ua7,{title:o("View in Explorer"),arrow:!0},z.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:.5,cursor:"pointer"},onClick:async()=>{await E("ActivityCardLinkClicked",{chainId:t?.chainId,type:e.type}),window.open(e.explorerLink,"_blank","noreferrer")},"data-testid":"explorer-link"},z.createElement(c.ZT$,null,T),z.createElement(c.ZT$,null,t?.networkToken.symbol),z.createElement(c.h0n,{size:16,sx:{color:l.palette.primary.main,cursor:"pointer"}}))))))}var J=n(55813),Q=n(70582),ee=n(80179),te=n(19442),ne=n(47886),re=n(67294);function ae({value:e,hasError:t}){const n=(0,i.Z)();return re.createElement(c.Kqy,{sx:{position:"relative",display:"inline-flex",borderRadius:"50%",backgroundColor:n.palette.grey[800],height:32,width:32}},re.createElement(c.D8x,{variant:"determinate",size:32,thickness:2,value:t?100:e,disableShrink:!1,color:t?"error":"secondary"}),re.createElement(c.Kqy,{sx:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",height:32,width:32}},re.createElement(c.Nj_,{size:n.spacing(2),sx:{color:t?n.palette.error.main:n.palette.secondary.main}})))}var oe=n(84012),ie=n(67294);function ce({tx:e}){const{t}=(0,s.$)(),n=(0,i.Z)(),r=(0,ne.k6)(),{networks:o}=(0,A.g)(),{bridgeConfig:l}=(0,J.j)(),{sourceBlockchain:E,targetBlockchain:m}=K(e),[T,u]=(0,a.useState)(!1),{removeBridgeTransaction:d}=(0,ee.e)(),{getErrorMessage:p}=(0,G.$)(),_=(0,a.useMemo)((()=>{const t=(0,te.t)(e.sourceChain,o,l);if(t)return(0,y.tf)(t,e.sourceTxHash)}),[e.sourceChain,e.sourceTxHash,o,l]),f=(0,a.useMemo)((()=>{if(!e)return 0;if((0,P.A)(e)){const t=e.requiredSourceConfirmationCount+e.requiredTargetConfirmationCount,n=e.sourceConfirmationCount+e.targetConfirmationCount;return Math.min(100,n/t*100)}const t=e.requiredConfirmationCount+1;return(e.confirmationCount>e.requiredConfirmationCount?e.requiredConfirmationCount:e.confirmationCount)/t*100}),[e]),h=(0,a.useMemo)((()=>(0,P.A)(e)?(0,oe.j)(e.amount,e.amountDecimals):e.amount),[e]);(0,a.useEffect)((()=>{if(e.completedAt){if(!T){u(!0);const n=!(0,P.A)(e)||!e.errorCode,r=Q.ZP.custom(ie.createElement(c.JjM,{variant:n?"success":"error",title:t(n?"Bridge Successful":"Bridge Failed"),onDismiss:()=>{Q.ZP.remove(r)}},n?t("You transferred {{amount}} {{symbol}}",{amount:h,symbol:e.symbol}):e.errorCode?p(e.errorCode):""),{duration:1/0})}d(e.sourceTxHash)}}),[d,t,T,e,h,p]);const I=void 0!==((0,P.A)(e)?e.errorCode:void 0);return ie.createElement(c.Zbd,{sx:{p:2}},ie.createElement(c.Kqy,{divider:ie.createElement(c.izJ,{orientation:"vertical",flexItem:!0,style:{borderBottomWidth:1}}),sx:{rowGap:1.5,width:"100%"}},ie.createElement(c.Kqy,{sx:{cursor:"pointer"}},ie.createElement(c.Kqy,null,ie.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:2,width:"100%",alignItems:"center"}},ie.createElement(ae,{value:f,hasError:I}),ie.createElement(c.Kqy,null,ie.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between",width:n.spacing(32)}},ie.createElement(c.ZT$,{variant:"h6"},t("Bridge")),ie.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:.5}},ie.createElement(c.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibold"}},h.toString()),ie.createElement(c.ZT$,{variant:"body2",sx:{color:n.palette.primary.dark}},e.symbol))),ie.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between"}},ie.createElement(c.ZT$,{variant:"caption",sx:{color:n.palette.primary.dark}},E," -> ",m),ie.createElement(c.zxk,{variant:"text",disableRipple:!0,sx:{p:0},onClick:()=>{r.push(`/bridge/transaction-status/${e.sourceChain}/${e.sourceTxHash}/${e.sourceStartedAt}`)}},ie.createElement(c.ZT$,{variant:"caption",sx:{fontWeight:"fontWeightSemibold"}},t("View Status")))))))),!I&&ie.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between"}},ie.createElement(c.ZT$,null,t("Network Fee")),ie.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:1}},ie.createElement(c.ZT$,null,t("Pending")),_&&ie.createElement(c.h0n,{size:16,sx:{color:n.palette.primary.main,cursor:"pointer"},onClick:()=>{window.open(_,"_blank","noreferrer")}})))))}var se=n(60891),le=n(67486),Ee=n(67294);const me={ImportTx:c.WfB,ExportTx:c.fC7,BaseTx:c.LZ3,CreateAssetTx:c.JoQ,OperationTx:c.JoQ,AddPermissionlessDelegatorTx:c.e5z,AddValidatorTx:c.e5z,AddSubnetValidatorTx:c.e5z,TransferSubnetOwnershipTx:c.e5z,AddDelegatorTx:c.e5z,CreateSubnetTx:c.aAc,CreateChainTx:c.Ech,TransformSubnetTx:c.Ech,AddPermissionlessValidatorTx:c.e5z,RemoveSubnetValidatorTx:c.$_5,RewardValidatorTx:c.JoQ,AdvanceTimeTx:c.T39,UNKNOWN:c.BHU};function Te({methodName:e}){const t=(0,i.Z)(),n=(0,a.useMemo)((()=>e&&me[e]||me.UNKNOWN),[e]);return Ee.createElement(c.Kqy,{sx:{height:t.spacing(4),width:t.spacing(4),borderRadius:"50%",backgroundColor:t.palette.grey[800],justifyContent:"center",alignItems:"center",color:"secondary.main"}},Ee.createElement(n,null))}var ue=n(24870),de=n(45246),Ae=n(67294);function pe({historyItem:e}){const t=(0,i.Z)(),{network:n}=(0,A.g)(),{t:r}=(0,s.$)(),{capture:o}=(0,O.O)(),l=(0,a.useMemo)((()=>{if(n)switch(e.type){case ue.O.ADD_DELEGATOR_TX:return r("Add Delegator");case ue.O.ADD_SUBNET_VALIDATOR_TX:return r("Add Subnet Validator");case ue.O.ADD_PERMISSIONLESS_VALIDATOR_TX:return r("Add Permissionless Validator");case ue.O.ADD_PERMISSIONLESS_DELEGATOR_TX:return r("Add Permissionless Delegator");case ue.O.ADD_VALIDATOR_TX:return r("Add Validator");case ue.O.ADVANCE_TIME_TX:return r("Advance Time");case ue.O.BASE_TX:return r("BaseTx");case ue.O.CREATE_CHAIN_TX:return r("Create Chain");case ue.O.CREATE_SUBNET_TX:return r("Create Subnet");case ue.O.EXPORT_TX:return r("Export");case ue.O.IMPORT_TX:return r("Import");case ue.O.REWARD_VALIDATOR_TX:return r("Reward Validator");case ue.O.REMOVE_SUBNET_VALIDATOR_TX:return r("Remove Subnet Validator");case ue.O.TRANSFER_SUBNET_OWNERSHIP_TX:return r("Transfer Subnet Ownership");case ue.O.TRANSFORM_SUBNET_TX:return r("Transform Subnet");default:return r("Unknown")}}),[n,r,e]),E=e.isSender?r("To"):r("From"),m=e.isSender?e.to:e.from;return Ae.createElement(c.Zbd,{"data-testid":e.type+"-activity-card",sx:{p:2,backgroundImage:"none"}},Ae.createElement(c.Kqy,{divider:Ae.createElement(c.izJ,{orientation:"vertical",flexItem:!0,style:{borderBottomWidth:1}}),sx:{rowGap:1.5,width:"100%"}},Ae.createElement(c.Kqy,{sx:{cursor:"default"}},Ae.createElement(c.Kqy,null,Ae.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:2,width:"100%",alignItems:"center"}},Ae.createElement(Te,{methodName:e.type}),Ae.createElement(c.Kqy,{sx:{rowGap:.5}},Ae.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:t.spacing(32)}},Ae.createElement(c.ZT$,{variant:"h6"},l),Ae.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:.5}},Ae.createElement(c.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibold"}},e.token.amount),Ae.createElement(c.ZT$,{variant:"body2",sx:{color:t.palette.primary.dark}},e.token.symbol))),Ae.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:1}},Ae.createElement(c.ZT$,{variant:"caption",sx:{color:t.palette.primary.dark}},E,":"),Ae.createElement(c.Kqy,null,Array.from(m).map(((e,n)=>Ae.createElement(c.ZT$,{key:`${e}-${n}`,variant:"caption",sx:{color:t.palette.primary.dark}},(0,de.F)(e)))))))))),Ae.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between",width:"100%"}},Ae.createElement(c.ZT$,null,r("Network Fee")),Ae.createElement(c.ua7,{title:r("View in Explorer"),arrow:!0},Ae.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:.5,alignItems:"center",cursor:"pointer"},onClick:async()=>{o("PchainActivityCardLinkClicked",{chainId:n?.chainId,type:e.type}),window.open(e.explorerLink,"_blank","noreferrer")},"data-testid":"explorer-link"},Ae.createElement(c.ZT$,null,e.gasUsed),Ae.createElement(c.ZT$,null,n?.networkToken.symbol),Ae.createElement(c.h0n,{size:16,sx:{color:t.palette.primary.main,cursor:"pointer"}}))))))}var _e=n(62334),ye=n(2118);let fe=function(e){return e.ALL="All",e.INCOMING="Incoming",e.OUTGOING="Outgoing",e.ADD_DELEGATOR_TX="Add Delegator",e.ADD_SUBNET_VALIDATOR_TX="Add Subnet Validator",e.ADD_PERMISSIONLESS_VALIDATOR_TX="Add Permissionless Validator",e.ADD_PERMISSIONLESS_DELEGATOR_TX="Add Permissionless Delegator",e.ADD_VALIDATOR_TX="Add Validator",e.ADVANCE_TIME_TX="Advance Time",e.BASE_TX="BaseTx",e.CREATE_CHAIN_TX="Create Chain",e.CREATE_SUBNET_TX="Create Subnet",e.EXPORT_TX="Export",e.IMPORT_TX="Import",e.REWARD_VALIDATOR_TX="Reward Validator",e.REMOVE_SUBNET_VALIDATOR_TX="Remove Subnet Validator",e.TRANSFER_SUBNET_OWNERSHIP_TX="Transfer Subnet Ownership",e.TRANSFORM_SUBNET_TX="Transform Subnet",e}({});const he={[fe.ADD_DELEGATOR_TX]:ue.O.ADD_DELEGATOR_TX,[fe.ADD_SUBNET_VALIDATOR_TX]:ue.O.ADD_SUBNET_VALIDATOR_TX,[fe.ADD_PERMISSIONLESS_VALIDATOR_TX]:ue.O.ADD_PERMISSIONLESS_VALIDATOR_TX,[fe.ADD_PERMISSIONLESS_DELEGATOR_TX]:ue.O.ADD_PERMISSIONLESS_DELEGATOR_TX,[fe.ADD_VALIDATOR_TX]:ue.O.ADD_VALIDATOR_TX,[fe.ADVANCE_TIME_TX]:ue.O.ADVANCE_TIME_TX,[fe.BASE_TX]:ue.O.BASE_TX,[fe.CREATE_CHAIN_TX]:ue.O.CREATE_CHAIN_TX,[fe.CREATE_SUBNET_TX]:ue.O.CREATE_SUBNET_TX,[fe.EXPORT_TX]:ue.O.EXPORT_TX,[fe.IMPORT_TX]:ue.O.IMPORT_TX,[fe.REWARD_VALIDATOR_TX]:ue.O.REWARD_VALIDATOR_TX,[fe.REMOVE_SUBNET_VALIDATOR_TX]:ue.O.REMOVE_SUBNET_VALIDATOR_TX,[fe.TRANSFER_SUBNET_OWNERSHIP_TX]:ue.O.TRANSFER_SUBNET_OWNERSHIP_TX,[fe.TRANSFORM_SUBNET_TX]:ue.O.TRANSFORM_SUBNET_TX};let Ie=function(e){return e.ALL="All",e.INCOMING="Incoming",e.OUTGOING="Outgoing",e.BASE_TX="BaseTx",e.CREATE_ASSET_TX="Create Asset",e.OPERATION_TX="Operation",e.IMPORT_TX="Import",e.EXPORT_TX="Export",e}({});const xe={[Ie.BASE_TX]:ye.C.BASE_TX,[Ie.CREATE_ASSET_TX]:ye.C.CREATE_ASSET_TX,[Ie.OPERATION_TX]:ye.C.OPERATION_TX,[Ie.IMPORT_TX]:ye.C.IMPORT_TX,[Ie.EXPORT_TX]:ye.C.EXPORT_TX};var Se=n(23246),Oe=n(43562),Ce=n(67294);function ge({historyItem:e}){const t=(0,i.Z)(),{network:n}=(0,A.g)(),{t:r}=(0,s.$)(),{capture:o}=(0,O.O)(),l=(0,a.useMemo)((()=>{if(n)switch(e.type){case ye.C.BASE_TX:return r("BaseTx");case ye.C.CREATE_ASSET_TX:return r("Create Asset");case ye.C.OPERATION_TX:return r("Operation");case ye.C.IMPORT_TX:return r("Import");case ye.C.EXPORT_TX:return r("Export");default:return r("Unknown")}}),[n,r,e]),E=e.isSender?r("To"):r("From"),m=e.isSender?e.to:e.from;return Ce.createElement(c.Zbd,{"data-testid":e.type+"-activity-card",sx:{p:2,backgroundImage:"none"}},Ce.createElement(c.Kqy,{divider:Ce.createElement(c.izJ,{orientation:"vertical",flexItem:!0,style:{borderBottomWidth:1}}),sx:{rowGap:1.5,width:"100%"}},Ce.createElement(c.Kqy,{sx:{cursor:"default"}},Ce.createElement(c.Kqy,null,Ce.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:2,width:"100%",alignItems:"center"}},Ce.createElement(Te,{methodName:e.type}),Ce.createElement(c.Kqy,{sx:{rowGap:.5}},Ce.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:t.spacing(32)}},Ce.createElement(c.ZT$,{variant:"h6"},l),Ce.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:.5}},Ce.createElement(c.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibold"}},e.token.amount),Ce.createElement(c.ZT$,{variant:"body2",sx:{color:t.palette.primary.dark}},e.token.symbol))),Ce.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:1}},Ce.createElement(c.ZT$,{variant:"caption",sx:{color:t.palette.primary.dark}},E,":"),Ce.createElement(c.Kqy,null,Array.from(m).map(((e,n)=>Ce.createElement(c.ZT$,{key:`${e}-${n}`,variant:"caption",sx:{color:t.palette.primary.dark}},(0,de.F)(e)))))))))),Ce.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between",width:"100%"}},Ce.createElement(c.ZT$,null,r("Network Fee")),Ce.createElement(c.ua7,{title:r("View in Explorer"),arrow:!0},Ce.createElement(c.Kqy,{sx:{flexDirection:"row",columnGap:.5,alignItems:"center",cursor:"pointer"},onClick:async()=>{o("XchainActivityCardLinkClicked",{chainId:n?.chainId,type:e.type}),window.open(e.explorerLink,"_blank","noreferrer")},"data-testid":"explorer-link"},Ce.createElement(c.ZT$,null,e.gasUsed),Ce.createElement(c.ZT$,null,n?.networkToken.symbol),Ce.createElement(c.h0n,{size:16,sx:{color:t.palette.primary.main,cursor:"pointer"}}))))))}var Ne=n(67294);let Re=function(e){return e.ALL="All",e.BRIDGE="Bridge",e.INCOMING="Incoming",e.OUTGOING="Outgoing",e.CONTRACT_CALL="Contract Call",e.SWAP="Swap",e.NFTS="NFTs",e}({});function we({isEmbedded:e=!1,tokenSymbolFilter:t}){const{t:n,i18n:i}=(0,s.$)(),l={[Re.ALL]:n("All"),[Re.BRIDGE]:n("Bridge"),[Re.SWAP]:n("Swap"),[Re.NFTS]:n("NFTs"),[Re.CONTRACT_CALL]:n("Contract Call"),[Re.INCOMING]:n("Incoming"),[Re.OUTGOING]:n("Outgoing")},f={[fe.ALL]:n("All"),[fe.INCOMING]:n("Incoming"),[fe.OUTGOING]:n("Outgoing"),[fe.ADD_DELEGATOR_TX]:n("Add Delegator"),[fe.ADD_SUBNET_VALIDATOR_TX]:n("Add Subnet Validator"),[fe.ADD_PERMISSIONLESS_VALIDATOR_TX]:n("Add Permissionless Validator"),[fe.ADD_PERMISSIONLESS_DELEGATOR_TX]:n("Add Permissionless Delegator"),[fe.ADD_VALIDATOR_TX]:n("Add Validator"),[fe.ADVANCE_TIME_TX]:n("Advance Time"),[fe.BASE_TX]:n("BaseTx"),[fe.CREATE_CHAIN_TX]:n("Create Chain"),[fe.CREATE_SUBNET_TX]:n("Create Subnet"),[fe.EXPORT_TX]:n("Export"),[fe.IMPORT_TX]:n("Import"),[fe.REWARD_VALIDATOR_TX]:n("Reward Validator"),[fe.REMOVE_SUBNET_VALIDATOR_TX]:n("Remove Subnet Validator"),[fe.TRANSFER_SUBNET_OWNERSHIP_TX]:n("Transfer Subnet Ownership"),[fe.TRANSFORM_SUBNET_TX]:n("Transform Subnet")},h={[Ie.ALL]:n("All"),[Ie.INCOMING]:n("Incoming"),[Ie.OUTGOING]:n("Outgoing"),[Ie.BASE_TX]:n("BaseTx"),[Ie.CREATE_ASSET_TX]:n("Create Asset"),[Ie.OPERATION_TX]:n("Operation"),[Ie.IMPORT_TX]:n("Import"),[Ie.EXPORT_TX]:n("Export")},{getTransactionHistory:I}=(0,r.t)(),{accounts:{active:S}}=(0,_.a)(),[O,C]=(0,a.useState)(!1),[g,N]=(0,a.useState)(!1),R=(0,m.Z)(),w=(0,T.Z)(),[D,b]=(0,a.useState)([]),{network:k}=(0,A.g)(),[v,X]=(0,a.useState)((0,_e.B)(k)?fe.ALL:(0,Se.n)(k)?Ie.ALL:Re.ALL),B=(0,se.e)(),L=t?Object.values(B).filter((e=>e.symbol===t)):B;(0,a.useEffect)((()=>{C(!0),I().then((e=>{b(e)})).catch((()=>{b([])})).finally((()=>{C(!1)}))}),[k,S,I]);const $=(0,a.useMemo)((()=>{if(!k||!S)return;const e=(0,Oe.u)(k.chainId,S);return e?(0,y.tf)(k,e,"address"):void 0}),[k,S]),Z=(0,a.useMemo)((()=>D.filter((e=>!t||!(0,le.b)(e)||t===e.tokens?.[0]?.symbol)).filter((e=>function(e){return!((0,le.b)(e)&&e.isBridge&&function(e){return Object.values(B).some((t=>t.sourceTxHash===e.hash||!!t.targetTxHash&&t.targetTxHash===e.hash))}(e))}(e)))),[D,B,t]),M=(0,a.useMemo)((()=>Z.filter((e=>function(e,t){return(0,le.b)(e)?function(e,t){return t===Re.ALL||(t===Re.BRIDGE?e.isBridge:t===Re.SWAP?e.type===p.SWAP:t===Re.CONTRACT_CALL?e.isContractCall&&e.type!==p.SWAP:t===Re.INCOMING?e.isIncoming:t===Re.OUTGOING?e.isOutgoing:t===Re.NFTS&&(e.type===p.NFT_BUY||e.type===p.TRANSFER&&e.tokens[0]&&x(e.tokens[0].type)))}(e,t):(0,le.Z)(e)?function(e,t){if(t===fe.ALL)return!0;if(t===fe.INCOMING)return!e.isSender;if(t===fe.OUTGOING)return e.isSender;const n=he[t];return!!n&&e.type===n}(e,t):function(e,t){if(t===Ie.ALL)return!0;if(t===Ie.INCOMING)return!e.isSender;if(t===Ie.OUTGOING)return e.isSender;const n=xe[t];return!!n&&e.type===n}(e,t)}(e,v)))),[Z,v]),V=({keyName:e,onClick:t})=>{const n=(0,_e.B)(k)?f[e]:(0,Se.n)(k)?h[e]:l[e];return Ne.createElement(c.sNh,{disableRipple:!0,onClick:function(){t(e)},sx:{height:32,minHeight:32}},Ne.createElement(c.Kqy,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},Ne.createElement(c.ZT$,{variant:"body2",sx:{textOverflow:"ellipsis",overflow:"hidden"},title:n},n),v===e&&Ne.createElement(c.nQG,{size:12})))};function G(e){X(e),N(!1)}return Ne.createElement(o.$,{style:{flexGrow:1,maxHeight:"unset",height:"100%"}},Ne.createElement(c.Kqy,{sx:{flexGrow:1,p:e?"0":"4px 16px 68px",rowGap:1}},Z.length>0&&Ne.createElement(c.Kqy,{sx:e=>({position:"absolute",right:e.spacing(2),top:e.spacing(1)})},Ne.createElement(c.Kqy,{sx:{flexDirection:"row",alignItems:"center",cursor:"pointer",justifyContent:"flex-end"},onClick:()=>{N(!g)},"data-testid":"filter-activity-menu"},Ne.createElement(c.ZT$,{variant:"caption",sx:{m:"0 8px 0 5px",fontWeight:"fontWeightMedium"}},n("Display"),":"," ",(0,_e.B)(k)?f[v]:(0,Se.n)(k)?h[v]:l[v]),g?Ne.createElement(c.g8U,{size:20}):Ne.createElement(c.v4q,{size:20})),g&&Ne.createElement(c.qyq,{"data-testid":"filter-activity-options",sx:{width:240,justifyContent:"flex-start",zIndex:1,height:200}},Ne.createElement(o.$,{style:{flexGrow:1,maxHeight:"unset",height:"100%"}},Object.keys((0,_e.B)(k)?f:(0,Se.n)(k)?h:l).map((e=>Ne.createElement(V,{key:e,keyName:e,onClick:G})))))),0===M.length?Ne.createElement(E,{loading:O}):Ne.createElement(Ne.Fragment,null,B&&Object.values(L).length>0&&("All"===v||"Bridge"===v)&&Ne.createElement(Ne.Fragment,null,Ne.createElement(c.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibold",m:"8px 0 13px"}},n("Pending")),Object.values(L).map(((e,t)=>Ne.createElement(ce,{key:`${e.sourceTxHash}-${t}`,tx:e})))),M.map(((e,t)=>{const r=M[t-1],o=0===t||!r||!(0,u.Z)(new Date(e.timestamp),new Date(r.timestamp));return Ne.createElement(a.Fragment,{key:t},o&&Ne.createElement(c.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibold"},margin:0===t?"8px 0 13px":"8px 0"},(e=>{const t=new Date(e),r=(0,u.Z)(w,t),a=(0,u.Z)(R,t);return r?n("Today"):a?n("Yesterday"):"en"===i.language?(0,d.Z)(t,"MMMM do"):new Intl.DateTimeFormat(i.language,{month:"long",day:"2-digit"}).format(t)})(e.timestamp)),(0,le.b)(e)?Ne.createElement(Y,{historyItem:e}):(0,le.Z)(e)?Ne.createElement(pe,{historyItem:e}):Ne.createElement(ge,{historyItem:e}))}))),$&&!O&&!!M.length&&Ne.createElement(c.Kqy,{sx:{flexDirection:"row",width:"100%",px:2,my:2}},Ne.createElement(c.zxk,{"data-testid":"add-account-button",fullWidth:!0,width:"100%",onClick:()=>{window.open($,"_blank","noreferrer")}},n("View on explorer")))))}},84012:(e,t,n)=>{n.d(t,{j:()=>o});var r=n(739),a=n(13550);function o(e,t){return(0,r.N)(new a.BN(e.toString()),t)}},72295:(e,t,n)=>{n.d(t,{SL:()=>i,gE:()=>c,tf:()=>s});var r=n(52219),a=n(19442);function o(e=!0){return e?"https://subnets.avax.network/c-chain":"https://subnets-test.avax.network/c-chain"}function i(e,t,n){switch("object"==typeof e?(0,a.Z)(e):e){case r.$O.AVALANCHE:return function(e,t=!0){return`${o(t)}/tx/${e}`}(t,n);case r.$O.BITCOIN:return function(e,t){return`https://www.blockchain.com/${t?"btc":"btc-testnet"}/tx/${e}`}(t,n);default:return function(e,t){return`${t?"https://etherscan.io":"https://sepolia.etherscan.io"}/tx/${e}`}(t,n)}}function c(e,t=!0){return`${o(t)}/address/${e}`}function s(e,t,n="tx"){return`${e.explorerUrl}/${n}/${t}`}}}]);
//# debugId=599ee72a-0f11-51b9-b182-ccfa565a3eae
