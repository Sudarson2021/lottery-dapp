"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="40feecbe-4765-5de6-94cf-85b5438888b9")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[8254],{30825:(e,t,a)=>{a.d(t,{H:()=>o});var n=a(90948),r=a(68483);const o=(0,n.ZP)(r.Kqy)`
  width: 80px;
  height: 80px;
  background-color: ${({theme:e})=>e.palette.background.paper};
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  margin: ${({margin:e})=>e??"8px 0"};
`},32672:(e,t,a)=>{a.d(t,{T:()=>u});var n=a(87462),r=a(68483),o=a(57832),i=a(67294),s=a(67294);const l="50%",c="32px",d=e=>{const t=(e||"").split(" "),a=t[0],n=t[t.length-1];return a&&n?a.substring(0,1)+n.substring(0,1):a?a.substring(0,1):""};function u({src:e,children:t,width:a,height:u,name:m,...y}){const[E,p]=(0,i.useState)();if((0,i.useEffect)((()=>{let t=!1;return new Promise(((t,a)=>{if(!e)return void a("no source value");const n=document.createElement("img");n.onerror=e=>{a(e)},n.onload=()=>{t(n)},n.src=(0,o.w)(e)})).then((()=>{!t&&p({success:!0})})).catch((()=>{!t&&p({error:!0})})),()=>{t=!0}}),[m,e]),!E)return s.createElement(r.Kqy,(0,n.Z)({direction:"row",justifyContent:"center",alignItems:"center",sx:{borderRadius:l,backgroundColor:"grey.600",width:a||c,height:u||c,flexShrink:0}},y),s.createElement(r.D8x,{size:5}));if(E.success)return s.createElement(r.Kqy,(0,n.Z)({direction:"row",sx:{borderRadius:l,width:a||c,height:u||c,flexShrink:0}},y,{as:"img",src:(0,o.w)(e)}));if(E.error){const e=d(m);return t??s.createElement(r.Kqy,(0,n.Z)({direction:"row",justifyContent:"center",alignItems:"center",sx:{borderRadius:l,backgroundColor:"grey.600",width:a||c,height:u||c,flexShrink:0}},y),s.createElement(r.ZT$,{variant:"body2",sx:{fontWeight:"fontWeightSemibolds"}},e))}}},53855:(e,t,a)=>{a.d(t,{$:()=>l});var n=a(87462),r=a(86658),o=a(67294),i=a(2734),s=a(67294);const l=(0,o.forwardRef)((function(e,t){const a=(0,i.Z)();return s.createElement(r.$B,(0,n.Z)({renderThumbVertical:({style:e,...t})=>{const r={backgroundColor:a.palette.grey[800],borderRadius:9999};return s.createElement("div",(0,n.Z)({style:{...e,...r}},t))},ref:t},e))}))},24479:(e,t,a)=>{a.d(t,{v:()=>d});var n=a(46935),r=a(5453),o=a(69518),i=a(95034),s=a(67294),l=a(23900),c=a(2606);function d(e){const{request:t}=(0,o.K)(),a=(0,l.h)(l.A.CONFIRM),{approval:d}=(0,c.t$)(),[u,m]=(0,s.useState)(),[y]=(0,s.useState)(""),E=(0,s.useCallback)((async(e,o)=>{m((t=>{if(t)return{...t,status:e.status,displayData:{...t.displayData,...e.displayData}}}));const i=a&&e.status!==r.M4.PENDING;return t({method:n.a.ACTION_UPDATE,params:[e,o]}).finally((()=>{i&&globalThis.close()}))}),[t,a]),p=(0,s.useCallback)((async()=>E({status:r.M4.ERROR_USER_CANCELED,id:e})),[e,E]);return(0,s.useEffect)((()=>{a?t({method:n.a.ACTION_GET,params:[e]}).then(m):d?.action.actionId===e&&m(d.action)}),[e,t,d,a]),(0,i.W)(p),{action:u,updateAction:E,error:y,cancelHandler:p}}},70460:(e,t,a)=>{a.d(t,{$:()=>o});var n=a(67294),r=a(47886);function o(){const e=(0,r.TH)();return(0,n.useMemo)((()=>new URLSearchParams(e.search??"").get("actionId")??""),[e.search])}},1627:(e,t,a)=>{a.d(t,{a:()=>r});var n=a(67294);const r=e=>({onKeyDown:(0,n.useCallback)((async t=>{const a=e[t.key];"function"==typeof a&&(t.preventDefault(),await a())}),[e])})},18254:(e,t,a)=>{a.r(t),a.d(t,{AddCustomNetworkPopup:()=>b});var n=a(87462),r=a(70460),o=a(5453),i=a(32672),s=a(67294),l=a(24479),c=a(53855),d=a(26793),u=a(68483),m=a(30825);const y=e=>e?{"X-Glacier-Api-Key":e}:{};var E=a(1627),p=a(67294);function b(){const{t:e}=(0,d.$)(),t=(0,r.$)(),{action:a,updateAction:b,cancelHandler:h}=(0,l.v)(t),[x,w]=(0,s.useState)(""),[v,f]=(0,s.useState)(!1),[k,g]=(0,s.useState)(!1),T=(0,s.useCallback)((async()=>b({status:o.M4.SUBMITTING,id:t})),[t,b]),I=(0,s.useCallback)((async()=>{if(!k){if(!a||!a.displayData)throw new Error("Network config not available");if(!x)throw new Error("API Key was not provided");g(!0);try{await b({status:o.M4.PENDING,id:t,displayData:{...a.displayData,network:{...a.displayData.network,customRpcHeaders:y(x)}}})}finally{g(!1)}await T()}}),[x,a,t,b,T,k]),C=a?.displayData.options.requiresGlacierApiKey&&!x;(0,s.useEffect)((()=>(window.addEventListener("unload",h),()=>{window.removeEventListener("unload",h)})),[h]);const Z=(0,E.a)({Enter:I,Esc:()=>f(!1)});if(!a||!a.displayData)return p.createElement(u.Kqy,{sx:{width:1,height:1,justifyContent:"center",alignItems:"center"}},p.createElement(u.D8x,null));const $=a.displayData.network;return p.createElement(p.Fragment,null,p.createElement(u.Kqy,{sx:{flexGrow:1,width:1,px:2,py:1}},p.createElement(u.ZT$,{component:"h1",sx:{mt:1,mb:3,fontSize:24,fontWeight:"bold"}},e("Add New Network?")),p.createElement(u.Kqy,{sx:{alignItems:"center",justifyContent:"center",mb:2}},p.createElement(m.H,{sx:{mb:2}},p.createElement(i.T,{height:"48px",width:"48px",src:$?.logoUri},p.createElement(u.n9J,{size:48}))),p.createElement(u.ZT$,{variant:"h5"},$.chainName),p.createElement(u.ZT$,{sx:{textAlign:"center",maxWidth:1,wordWrap:"break-word",color:"text.secondary"},variant:"caption"},a?.site?.domain)),a.displayData.options.requiresGlacierApiKey&&p.createElement(u.bZj,{color:"info",sx:{mb:2}},p.createElement(u.CdC,null,e("Glacier API key is required")),p.createElement(u.BZi,null,e("In order for this network to be fully functional, you need to provide your Glacier API key. You will be prompted to do so upon approval."))),p.createElement(u.Zbd,{sx:{flexGrow:1}},p.createElement(c.$,null,p.createElement(u.Kqy,{sx:{p:2}},p.createElement(u.Kqy,{sx:{mb:2}},p.createElement(u.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Chain ID")),p.createElement(u.ZT$,{variant:"subtitle2"},$.chainId)),p.createElement(u.Kqy,{sx:{mb:2}},p.createElement(u.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Chain Name")),p.createElement(u.ZT$,{variant:"subtitle2"},$.chainName)),p.createElement(u.Kqy,{sx:{mb:2}},p.createElement(u.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("RPC URL")),p.createElement(u.ZT$,{variant:"subtitle2"},$.rpcUrl)),p.createElement(u.Kqy,{sx:{mb:2}},p.createElement(u.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Explorer URL")),p.createElement(u.ZT$,{variant:"subtitle2"},$.explorerUrl)),p.createElement(u.Kqy,{sx:{mb:2}},p.createElement(u.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Network Symbol")),p.createElement(u.ZT$,{variant:"subtitle2"},$.networkToken.symbol)),p.createElement(u.Kqy,{sx:{mb:2}},p.createElement(u.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Token Name")),p.createElement(u.ZT$,{variant:"subtitle2"},$.networkToken.name)),p.createElement(u.Kqy,{sx:{mb:2}},p.createElement(u.ZT$,{variant:"body2",sx:{color:"text.secondary"}},e("Token Decimals")),p.createElement(u.ZT$,{variant:"subtitle2"},$.networkToken.decimals))))),p.createElement(u.Kqy,{sx:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",pt:3,gap:1}},p.createElement(u.zxk,{color:"secondary","data-testid":"transaction-reject-btn",size:"large",fullWidth:!0,disabled:a.status===o.M4.SUBMITTING,onClick:()=>{h(),window.close()}},e("Reject")),p.createElement(u.zxk,{"data-testid":"transaction-approve-btn",size:"large",fullWidth:!0,disabled:a.status===o.M4.SUBMITTING||!!a.error,onClick:()=>{C?f(!0):T()}},e("Approve")))),p.createElement(u.VqE,{open:v,PaperProps:{sx:{mx:2}},onClose:()=>f(!1),showCloseIcon:!0},p.createElement(u.$N8,null,e("Provide API Key")),p.createElement(u.cZJ,null,p.createElement(u.ZT$,{variant:"body2"},e("This network requires additional authentication to be fully functional.")),p.createElement(u.ZT$,{variant:"body2",color:"text.secondary",sx:{mt:1}},e("The API key can also be configured in the network settings later on.")),p.createElement(u.nvn,(0,n.Z)({type:"password",placeholder:e("Glacier API Key"),sx:{mt:2},onChange:e=>w(e.target.value)},Z))),p.createElement(u.kXR,{sx:{gap:1}},p.createElement(u.zxk,{key:"save",size:"large","data-testid":"api-key-save",disabled:a.status===o.M4.SUBMITTING||!!a.error||!x||k,isLoading:k||a.status===o.M4.SUBMITTING,onClick:I},e("Save")),p.createElement(u.zxk,{key:"skip",variant:"text","data-testid":"api-key-skip",disabled:k||a.status===o.M4.SUBMITTING||!!a.error,onClick:()=>T()},e("I will configure it later")))))}},95034:(e,t,a)=>{a.d(t,{W:()=>l});var n=a(67294),r=a(83),o=a(45399),i=a(94975),s=a(73335);function l(e){(0,n.useEffect)((()=>{const t=(0,r.T)((0,o.R)((e=>{window.addEventListener("unload",e)}),(e=>{window.removeEventListener("unload",e)})),(0,o.R)((e=>{window.addEventListener("visibilitychange",e)}),(e=>{window.removeEventListener("visibilitychange",e)})).pipe((0,i.h)((()=>"hidden"===document.visibilityState)))).pipe((0,s.P)()).subscribe((()=>{e()}));return()=>{t.unsubscribe()}}),[e])}}}]);
//# debugId=40feecbe-4765-5de6-94cf-85b5438888b9
