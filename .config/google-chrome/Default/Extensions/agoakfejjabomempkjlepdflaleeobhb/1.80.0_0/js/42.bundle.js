"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a0cac38b-2639-5f3f-b969-9f9e3cbb1981")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[42],{32738:(e,t,c)=>{c.d(t,{Uc:()=>n,VI:()=>s,X0:()=>l});var a=c(93e3);const n=e=>e?.type===a.Qm.FIREBLOCKS,s=e=>e?.type===a.Qm.WALLET_CONNECT,l=e=>e?.type===a.Qm.PRIMARY},40042:(e,t,c)=>{c.r(t),c.d(t,{AccountManagerContext:()=>o,AccountManagerProvider:()=>i,useAccountManager:()=>d});var a=c(67294),n=c(9830),s=c(26821),l=c(4563),r=c(32738),u=c(67294);const o=(0,a.createContext)({exitManageMode(){},isManageMode:!1,isAccountSelectable:()=>!1,selectedAccounts:[],selectAccount(){},deselectAccount(){},toggleManageMode(){}}),i=({children:e})=>{const{accounts:t}=(0,n.a)(),{featureFlags:c}=(0,s.d)(),[i,d]=(0,a.useState)([]),[M,g]=(0,a.useState)(!1),A=(0,a.useCallback)((e=>{if(!c[l.yy.PRIMARY_ACCOUNT_REMOVAL]||!(0,r.X0)(e))return e.id in t.imported;const{id:a,walletId:n}=e;if(i.includes(a))return!0;const s=t.primary[n];return!!s&&(Object.values(t.primary).flat().length-1!==i.length&&s.slice(s.indexOf(e)+1).every((({id:e})=>i.includes(e))))}),[c,i,t.primary,t.imported]),C=(0,a.useCallback)((e=>{d((t=>[...t,e]))}),[]),f=(0,a.useCallback)(((e,t=!1)=>{d((c=>{const a=c.indexOf(e);return-1===a?c:(c.splice(a,t?c.length-a:1),Array.from(c))}))}),[]),p=(0,a.useCallback)((()=>{g((e=>!e))}),[]),b=(0,a.useCallback)((()=>{g(!1),d([])}),[]);return(0,a.useEffect)((()=>{d([])}),[M]),u.createElement(o.Provider,{value:{exitManageMode:b,isAccountSelectable:A,isManageMode:M,selectedAccounts:i,selectAccount:C,deselectAccount:f,toggleManageMode:p}},e)};function d(){return(0,a.useContext)(o)}}}]);
//# debugId=a0cac38b-2639-5f3f-b969-9f9e3cbb1981
