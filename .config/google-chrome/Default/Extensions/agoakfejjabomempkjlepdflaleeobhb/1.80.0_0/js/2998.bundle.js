"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="87e9a72b-9ab9-5e2b-a037-e35058ba5671")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[2998],{14005:(e,t,n)=>{n.d(t,{p:()=>l});var r=n(68483),a=n(67294);const l=({label:e,tooltip:t})=>a.createElement(r.Kqy,{sx:{flexDirection:"row",alignItems:"center",gap:1}},a.createElement(r.ZT$,{variant:"body2",sx:{fontWeight:"semibold"}},e),t&&a.createElement(r.ua7,{title:t},a.createElement(r.uMt,{size:16})))},72998:(e,t,n)=>{n.r(t),n.d(t,{NetworkDetails:()=>R});var r=n(87462),a=n(67294),l=n(47886),o=n(26793),i=n(70582),s=n(68483),c=n(1336),d=n(26993),m=n(27641),E=n(43023),u=n(68604),p=n(69980),h=n(67294);const R=()=>{const{t:e}=(0,o.$)(),t=(0,l.k6)(),{networkId:n}=(0,l.UO)(),R=parseInt(n,10),{networks:k,isFavoriteNetwork:g,addFavoriteNetwork:C,removeFavoriteNetwork:x,setNetwork:y,network:w,isCustomNetwork:I,removeCustomNetwork:N}=(0,E.g)(),[v,f]=(0,a.useState)(!1),O=(0,a.useRef)(null),[_,b]=(0,a.useState)(""),T=(0,a.useRef)(null),{capture:D}=(0,m.O)(),P=(0,a.useRef)(null),[U,L]=(0,a.useState)(),[A,S]=(0,a.useState)(!1),[z,H]=(0,a.useState)(!1);if((0,a.useEffect)((()=>{const e=k.find((e=>e.chainId===R));L(e)}),[k,L,R]),!U)return null;const q=U&&g(U.chainId),K=U&&I(U.chainId),$=U.chainId!==w?.chainId;return h.createElement(s.Kqy,{sx:{width:1}},h.createElement(s.Kqy,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center",pr:1}},h.createElement(c.V,{margin:"12px 0"},h.createElement(s.Kqy,{direction:"row",sx:{alignItems:"center",justifyContent:"flex-end",pr:1,gap:.5}},h.createElement(s.hU,{"data-testid":"favorite-button",size:"small",onClick:e=>{e.stopPropagation(),q?x(U.chainId):C(U.chainId)}},q?h.createElement(s.e0l,{size:24}):h.createElement(s.r7p,{size:24})),K?h.createElement(s.dyZ,{onClickAway:()=>f(!1)},h.createElement(s.hU,{onClick:()=>f(!v),ref:O,"data-testid":"network-options"},h.createElement(s.xhG,null),h.createElement(s.rDy,{open:v,anchorEl:O.current,placement:"bottom-end",transition:!0},(({TransitionProps:a})=>h.createElement(s.Q5I,(0,r.Z)({},a,{timeout:250}),h.createElement(s.qyq,{dense:!0,sx:{width:180,p:0,borderRadius:1,overflow:"hidden"}},h.createElement(s.sNh,{onClick:()=>{t.push(`/networks/edit/${n}`)},sx:{flexDirection:"row",gap:1}},h.createElement(s.dY8,{size:14}),e("Edit")),h.createElement(s.sNh,{onClick:()=>{S(!0),f(!1)},sx:{flexDirection:"row",gap:1,color:"error.main"}},h.createElement(s.XHJ,{size:14}),e("Delete")))))))):h.createElement(s.zxk,{variant:"text",size:"small",onClick:()=>t.push(`/networks/edit/${n}`)},e("Edit"))))),h.createElement(s.Kqy,{sx:{px:2,flexGrow:1}},h.createElement(s.$B7,{ref:T},h.createElement(s.Kqy,{sx:{width:1,gap:3,pt:1,alignItems:"center"}},h.createElement(d.A,{height:"80px",width:"80px",padding:"16px",src:U?.logoUri,defaultSize:80}),h.createElement(s.ZT$,{variant:"h4"},U?.chainName),_&&h.createElement(s.ZT$,{variant:"body2",color:"error.main"},_),U&&h.createElement(u.I,{readOnly:!0,customNetwork:U,action:u.p.Edit,isCustomNetwork:K,ref:P})))),$&&h.createElement(s.Kqy,{direction:"row",sx:{px:2,py:3,alignItems:"center",gap:1}},h.createElement(s.zxk,{fullWidth:!0,color:"primary",size:"large",onClick:()=>y(U)},e("Connect Network"))),h.createElement(p._,{isPrimaryButtonLoading:z,isDelete:A,handlePrimaryClick:n=>{if(n!==p.y.DELETE_DIALOG)return null;H(!0),N(R).then((()=>{t.length<=2?t.replace("/home"):t.goBack(),D("CustomNetworkDeleted"),i.ZP.success(e("Custom Network Deleted!"),{duration:2e3})})).catch((e=>{S(!1),(e=>{b(e),T?.current?.scrollToTop()})(e)})).finally((()=>{H(!1)}))},hideDialog:()=>S(!1)}))}},69980:(e,t,n)=>{n.d(t,{_:()=>s,y:()=>i});var r=n(68483),a=n(21376),l=n(26793),o=n(67294);let i=function(e){return e.DELETE_DIALOG="deleteDialog",e.RESET_RPC_URL_DIALOG="resetRpcUrlDialog",e.UPDATE_RPC_URL_DIALOG="updateRpcUrlDialog",e}({});const s=({isDelete:e,isResetRpcUrl:t,isUpdateRpcUrl:n,isPrimaryButtonLoading:s,handlePrimaryClick:c,hideDialog:d})=>{const{t:m}=(0,l.$)(),E=(e,t,n,a,l)=>o.createElement(r.Kqy,{sx:{justifyContent:"center",width:"100%"}},o.createElement(r.ZT$,{variant:"h5",sx:{textAlign:"center"}},e),o.createElement(r.ZT$,{variant:"body2",sx:{textAlign:"center",mt:1}},t),o.createElement(r.Kqy,{sx:{mt:3}},o.createElement(r.zxk,{sx:{mb:1},onClick:()=>{c(n)},disabled:s,isLoading:s},a),o.createElement(r.zxk,{variant:"text",onClick:()=>d()},l)));return o.createElement(o.Fragment,null,e&&o.createElement(a.Z,{open:e,onClose:d,content:E(m("Delete Network?"),m("Are you sure you want to delete this network?"),i.DELETE_DIALOG,m("Delete"),m("Cancel")),bgColorDefault:!0}),t&&o.createElement(a.Z,{open:t,onClose:d,content:E(m("Reset RPC?"),m("Resetting the RPC URL will put it back to it's default URL."),i.RESET_RPC_URL_DIALOG,m("Reset Url"),m("Back")),bgColorDefault:!0}),n&&o.createElement(a.Z,{open:n,onClose:d,content:E(m("Warning"),m("Core functionality may be unstable with custom RPC URLs."),i.UPDATE_RPC_URL_DIALOG,m("Confirm Save"),m("Back")),bgColorDefault:!0}))}},68604:(e,t,n)=>{n.d(t,{I:()=>x,p:()=>g});var r=n(67294),a=n(26793),l=n(90948),o=n(68483),i=n(43023),s=n(14005),c=n(30186),d=n(62440),m=n(96486);const E=(e,t)=>{try{return new Headers({[e]:t}),!0}catch{return!1}};var u=n(67294);const p=({isReadOnly:e,rpcHeaders:t,setRpcHeaders:n})=>{const{t:l}=(0,a.$)(),i=(0,r.useCallback)(((e,{newName:t,newValue:r})=>{n?.((n=>Object.fromEntries(Object.entries(n).map((([n,a],l)=>l===e?[t??n,r??a]:[n,a])))))}),[n]);return u.createElement(o.Kqy,{sx:{width:1}},Object.entries(t).map((([t,r],a)=>u.createElement(o.Q5I,{in:!0,key:`rpc-header-${a}`},u.createElement(o.Kqy,{direction:"row",sx:{gap:.5,mb:1}},u.createElement(o.nvn,{size:"small",value:t,InputProps:{readOnly:e},placeholder:l("Header Name"),onChange:e=>{e.target.value&&!E(e.target.value,r)||i(a,{newName:e.target.value})}}),u.createElement(o.nvn,{size:"small",value:r,InputProps:{readOnly:e},placeholder:l("Value"),onChange:e=>{E(t,e.target.value)&&i(a,{newValue:e.target.value})}}),!e&&u.createElement(o.hU,{disabled:""===t,onClick:()=>n?.((e=>1===Object.keys(e).length?c.F1:(0,m.omit)(e,t)))},u.createElement(o.XHJ,null)))))))};var h=n(67294);const R=({isReadOnly:e,network:t,onChange:n})=>{const{t:l}=(0,a.$)(),[i,s]=(0,r.useState)(t.customRpcHeaders??c.F1),[E,u]=(0,r.useState)(!1),R=Object.keys(t.customRpcHeaders??{}).length>0,k=""in i,g=JSON.stringify(t.customRpcHeaders??c.F1)!==JSON.stringify(i);return h.createElement(h.Fragment,null,R&&h.createElement(h.Fragment,null,h.createElement(p,{rpcHeaders:i,isReadOnly:!0}),!e&&h.createElement(o.zxk,{variant:"text",onClick:()=>u(!0)},l("Edit Custom RPC Headers"))),!R&&(e?h.createElement(o.ZT$,{variant:"body2",color:"text.secondary",sx:{display:"flex"}},l("No custom headers are configured.")):h.createElement(o.ZT$,{variant:"body2",color:"text.secondary",sx:{display:"flex"}},h.createElement(d.c,{i18nKey:"No custom headers are configured. <button>Edit</button>",components:{button:h.createElement(o.zxk,{variant:"text",onClick:()=>u(!0),sx:{p:0}})}}))),!e&&E&&h.createElement(o.VqE,{open:E,PaperProps:{sx:{mx:2}}},h.createElement(o.$N8,{sx:{px:2}},l("Custom RPC Headers")),h.createElement(o.cZJ,{sx:{pl:2,pr:1}},h.createElement(p,{isReadOnly:!1,rpcHeaders:i,setRpcHeaders:s}),h.createElement(o.Kqy,{sx:{pr:5,width:1}},h.createElement(o.zxk,{variant:"text",fullWidth:!0,size:"small",onClick:()=>s((e=>({...e,"":""}))),disabled:k},l("Add Next")))),h.createElement(o.Kqy,{direction:"row",sx:{flexDirection:"row",gap:1,px:2,pb:3,pt:4,alignItems:"center"}},h.createElement(o.zxk,{key:"cancel",color:"secondary",onClick:()=>{s(t.customRpcHeaders??c.F1),u(!1)},fullWidth:!0},l("Cancel")),h.createElement(o.zxk,{key:"save",disabled:!g,onClick:()=>{n?.((0,m.omit)(i,"")),u(!1)},fullWidth:!0},l("Save")))))};var k=n(67294);let g=function(e){return e.Add="add",e.Edit="edit",e}({});const C=(0,l.ZP)(o.Kqy)`
  position: relative;
  overflow: hidden;
  width: 100%;
  gap: 4px;
  min-height: 92px;
`,x=(0,r.forwardRef)((({customNetwork:e,handleChange:t,handleRpcHeadersChange:n,readOnly:l=!1,showErrors:c=!1,action:d,isCustomNetwork:m=!1,handleResetUrl:E},u)=>{const{t:p}=(0,a.$)(),{isChainIdExist:h}=(0,i.g)(),[x,y]=(0,r.useState)(),[w,I]=(0,r.useState)(),[N,v]=(0,r.useState)(),[f,O]=(0,r.useState)(),[_,b]=(0,r.useState)(),[T,D]=(0,r.useState)();(0,r.useImperativeHandle)(u,(()=>({resetFormErrors:L})),[]);const P={RPC_ERROR:p("RPC required"),CHAIN_NAME_ERROR:p("Network Name is required"),CHAIN_ID_ERROR:p("Chain ID is required"),TOKEN_SYMBOL_ERROR:p("Network Token Symbol is required"),CHAIN_ID_EXISTS:p("This Chain ID has been added already"),INVALID_URL:p("This URL is invalid"),TOKEN_NAME_ERROR:p("Network Token Name is required")},U=(0,r.useCallback)((e=>{let t=!0;return e.rpcUrl||(y(P.RPC_ERROR),t=!1),e.rpcUrl&&!(e=>{let t;try{t=new URL(e)}catch(e){return!1}if("https:"===t.protocol||"ipfs:"===t.protocol||"http:"===t.protocol)return!0})(e.rpcUrl)&&(y(P.INVALID_URL),t=!1),e.chainName||(I(P.CHAIN_NAME_ERROR),t=!1),e.chainId&&0!==e.chainId||(v(P.CHAIN_ID_ERROR),t=!1),d===g.Add&&h(e.chainId)&&(v(P.CHAIN_ID_EXISTS),t=!1),e.networkToken.symbol||(O(P.TOKEN_SYMBOL_ERROR),t=!1),e.networkToken.name||(D(P.TOKEN_NAME_ERROR),t=!1),t}),[P.CHAIN_ID_ERROR,P.CHAIN_ID_EXISTS,P.CHAIN_NAME_ERROR,P.INVALID_URL,P.RPC_ERROR,P.TOKEN_NAME_ERROR,P.TOKEN_SYMBOL_ERROR,d,h]);(0,r.useEffect)((()=>{c&&U(e)}),[c,e,U]);const L=()=>{y(""),I(""),v(""),O(""),b(""),D("")},A=e=>{L(),t?.(e,U(e))},S=E&&!m;return k.createElement(o.Kqy,{sx:{width:1}},k.createElement(C,null,k.createElement(s.p,{label:p("Network RPC URL")}),k.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),A({...e,rpcUrl:t.target.value})},"data-testid":"network-rpc-url",value:e.rpcUrl,placeholder:"http(s)://URL",InputProps:{readOnly:l,fullWidth:!0,endAdornment:S?k.createElement(o.oGm,{position:"end"},k.createElement(o.zxk,{variant:"text",size:"small",onClick:E},p("Reset"))):null},error:!!x,helperText:x})),k.createElement(C,null,k.createElement(s.p,{label:p("Network Name")}),k.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),A({...e,chainName:t.target.value})},"data-testid":"network-name",value:e.chainName,placeholder:p("Enter Name"),fullWidth:!0,InputProps:{readOnly:l||!m&&d===g.Edit},error:!!w,helperText:w})),k.createElement(C,null,k.createElement(s.p,{label:p("Chain ID")}),k.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),A({...e,chainId:parseInt(t.target.value)})},disabled:d===g.Edit,"data-testid":"chain-id",value:isNaN(e.chainId)?"":e.chainId,placeholder:p("Enter Chain ID"),fullWidth:!0,InputProps:{readOnly:l||!m&&d===g.Edit},type:"number",error:!!N,helperText:N})),k.createElement(C,null,k.createElement(s.p,{label:p("Network Token Symbol")}),k.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),A({...e,networkToken:{...e.networkToken,symbol:t.target.value}})},"data-testid":"network-token-symbol",value:e.networkToken.symbol,placeholder:p("Enter Token Symbol"),fullWidth:!0,InputProps:{readOnly:l||!m&&d===g.Edit},error:!!f,helperText:f})),k.createElement(C,null,k.createElement(s.p,{label:p("Network Token Name")}),k.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),A({...e,networkToken:{...e.networkToken,name:t.target.value}})},"data-testid":"network-token-name",value:e.networkToken.name,placeholder:p("Enter Token"),fullWidth:!0,InputProps:{readOnly:l||!m&&d===g.Edit},error:!!T,helperText:T})),k.createElement(C,null,k.createElement(s.p,{label:p("Explorer URL (Optional)")}),k.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),A({...e,explorerUrl:t.target.value})},"data-testid":"explorer-url",value:e.explorerUrl,placeholder:p("Enter URL"),fullWidth:!0,InputProps:{readOnly:l||!m&&d===g.Edit},error:!!_,helperText:_})),k.createElement(C,null,k.createElement(s.p,{label:p("Logo URL (Optional)")}),k.createElement(o.nvn,{size:"small",onChange:t=>{t.stopPropagation(),A({...e,logoUri:t.target.value})},"data-testid":"logo-url",value:e.logoUri,placeholder:p("Enter URL"),fullWidth:!0,InputProps:{readOnly:l||!m&&d===g.Edit}})),k.createElement(C,null,k.createElement(s.p,{label:p("Custom RPC Headers")}),k.createElement(R,{isReadOnly:l,network:e,onChange:n})))}));x.displayName="NetworkForm"}}]);
//# debugId=87e9a72b-9ab9-5e2b-a037-e35058ba5671
