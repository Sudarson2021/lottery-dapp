
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6084663c-abb6-532e-a780-042fdec59712")}catch(e){}}();
(self.webpackChunkavalanche_extension=self.webpackChunkavalanche_extension||[]).push([[3341],{19383:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(71205),a=n(21348);function o(e,t){const n=(0,a.r)(e,t);return(0,r.d)(`0x${n.toString("hex")}`)}},21348:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});var r=n(37786);function a(e,t){return(0,r.fromBase58)(e).derivePath(`0/${t}`).publicKey}},8280:(e,t,n)=>{"use strict";n.d(t,{Nj:()=>a,PD:()=>o,hB:()=>i});var r=n(81254);r.TransactionStatus.BLOCKED,r.TransactionStatus.CANCELLED,r.TransactionStatus.CANCELLING,r.TransactionStatus.TIMEOUT,r.TransactionStatus.FAILED,r.TransactionStatus.REJECTED;const a="FireblocksBtcAccessError:";let o=function(e){return e[e.VaultAccountNotFound=0]="VaultAccountNotFound",e[e.BTCAddressNotFound=1]="BTCAddressNotFound",e[e.InvalidSecretKey=2]="InvalidSecretKey",e[e.WrongAccountType=3]="WrongAccountType",e[e.SecretsNotConfigured=4]="SecretsNotConfigured",e}({});class s extends Error{constructor(e){super(`${a}${e}`),this.code=e}}let i=function(e){return e.Failed="fireblocks-tx-failed",e.Blocked="fireblocks-tx-blocked",e.Cancelled="fireblocks-tx-cancelled",e.Rejected="fireblocks-tx-rejected",e.Timeout="fireblocks-tx-timeout",e.Unknown="fireblocks-tx-unknown-error",e}({})},55045:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});let r=function(e){return e.ExistingSeedphrase="existing-seedphrase",e}({})},42019:(e,t,n)=>{"use strict";n.d(t,{f:()=>u});var r=n(67294),a=n(26793),o=n(79826),s=n(8280),i=n(66589),l=n(52721),c=n(32173),d=n(55045);const u=()=>{const{t:e}=(0,a.$)(),t=(0,r.useMemo)((()=>{const t=e("Please refer to Active Transfers list in your Fireblocks Console for a detailed explanation.");return{[s.hB.Blocked]:{title:e("Transaction has been blocked"),hint:t},[s.hB.Failed]:{title:e("Transaction has failed"),hint:t},[s.hB.Rejected]:{title:e("Transaction has been rejected"),hint:t},[s.hB.Cancelled]:{title:e("Transaction has been cancelled"),hint:t},[s.hB.Timeout]:{title:e("Transaction timed out"),hint:t},[s.hB.Unknown]:{title:e("Unknown transaction error"),hint:e("Please try again later or contact support.")}}}),[e]),n=(0,r.useMemo)((()=>({[o.errorCodes.rpc.internal]:{title:e("Internal error")},[o.errorCodes.rpc.transactionRejected]:{title:e("Transaction rejected")},[o.errorCodes.rpc.invalidRequest]:{title:e("Invalid request")},[o.errorCodes.rpc.invalidParams]:{title:e("Invalid params")},[o.errorCodes.rpc.limitExceeded]:{title:e("Limit exceeded")},[o.errorCodes.rpc.resourceUnavailable]:{title:e("Resource unavailable")},[o.errorCodes.provider.disconnected]:{title:e("Disconnected")},[o.errorCodes.provider.unauthorized]:{title:e("Unauthorized")},[o.errorCodes.provider.userRejectedRequest]:{title:e("User rejected the request")}})),[e]),u=(0,r.useMemo)((()=>({[l.fY.AmountLessThanFee]:{title:e("Amount is too low"),hint:e("The amount cannot be lower than the bridging fee")},[l.fY.InvalidFee]:{title:e("The bridging fee is unknown")},[l.fY.UnknownAsset]:{title:e("This asset cannot be bridged")},[l.fY.UnsupportedNetwork]:{title:e("Unsupported network")}})),[e]),p=(0,r.useMemo)((()=>({[i.w8.Unknown]:{title:e("Unknown error")},[i.w8.UserRejected]:{title:e("User declined the transaction")},[i.w8.NetworkError]:{title:e("Network error"),hint:e("Please try again")},[i.w8.NoActiveAccount]:{title:e("No account is active"),hint:e("Please try again")},[i.w8.NoActiveNetwork]:{title:e("No active network"),hint:e("Please try again")},[i.w8.UnknownNetwork]:{title:e("Unknown network")},[i.w8.UnknownNetworkFee]:{title:e("Unknown network fee")},[i.w8.RequestTimeout]:{title:e("Request timed out"),hint:e("This is taking longer than expected. Please try again later.")}})),[e]),m=(0,r.useMemo)((()=>({[i.v3.InsufficientFunds]:{title:e("Insufficient funds"),hint:e("You do not have enough funds to cover the network fees.")}})),[e]),h=(0,r.useMemo)((()=>({[c.z.InvalidPassword]:{title:e("Invalid password. Please try again.")},[c.z.InvalidVersion]:{title:e("Unsupported Version"),hint:e("Only keystore files exported from the Avalanche Wallet are supported.")},[c.z.NoNewWallets]:{title:e("No New Wallets Found"),hint:e("All keys contained in this file are already imported.")},[c.z.Unknown]:{title:e("File Upload Failed"),hint:e("Please contact our support team to resolve this issue.")}})),[e]),w=(0,r.useMemo)((()=>({[d.j.ExistingSeedphrase]:{title:e("This seed phrase is already imported.")}})),[e]),k=(0,r.useMemo)((()=>({...t,...u,...p,...n,...h,...w,...m})),[t,u,p,n,h,w,m]);return(0,r.useCallback)((e=>{if("string"==typeof e)return k[e]??{title:e};let t=k[i.w8.Unknown];return(0,i.$A)(e)?t=k[e.data.reason]??k[i.w8.Unknown]:"object"!=typeof e||null===e||!("code"in e)||"number"!=typeof e.code&&"string"!=typeof e.code||(t=k[e.code]),t??k[i.w8.Unknown]}),[k])}},1627:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(67294);const a=e=>({onKeyDown:(0,r.useCallback)((async t=>{const n=e[t.key];"function"==typeof n&&(t.preventDefault(),await n())}),[e])})},55054:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AddWalletWithSeedPhrase:()=>U});var r=n(87462),a=n(67294),o=n(90948),s=n(68483),i=n(2734),l=n(70582),c=n(47886),d=n(26793),u=n(37786),p=n(5122),m=n(2153),h=n(19383),w=n(1336),k=n(56693),f=n(99295),y=n(43101),v=n(48740),b=n(88828),g=n(13820),E=n(1627),x=n(75127),C=n(9830),S=n(27641),T=n(42019),N=n(94277);const I=Array(3).fill("");var A=function(e){return e[e.Import=0]="Import",e[e.Name=1]="Name",e}(A||{});const P=(0,o.ZP)(s.nvn)`
  textarea::-webkit-scrollbar {
    display: none;
  }
`;function U(){const e=(0,i.Z)(),t=(0,c.k6)(),{t:n}=(0,d.$)(),{allAccounts:o}=(0,C.a)(),{capture:U}=(0,S.O)(),F=(0,T.f)(),B=(0,y.N)(),{updateBalanceOnAllNetworks:j,getTotalBalance:z}=(0,f.j)(),{isImporting:W,importSeedphrase:L}=(0,g.N)(),[q,K]=(0,a.useState)(""),[M,R]=(0,a.useState)(A.Import),[D,Z]=(0,a.useState)(I),[$,O]=(0,a.useState)(!1),[V,_]=(0,a.useState)(!1),[Y,G]=(0,a.useState)(!1),H=(0,a.useCallback)((async e=>{const t=await async function(e){if(!(0,m._I)(e))throw new Error("Invalid mnemonic phrase.");const t=await(0,m.OI)(e);return(0,u.fromSeed)(t).derivePath(p.zQ).neutered().toBase58()}(e.trim().split(/\s+/g).join(" ").toLowerCase());G(!0);const n=[(0,h.E)(t,0),(0,h.E)(t,1),(0,h.E)(t,2)];o.some((({addressC:e})=>e.toLowerCase()===n[0]?.toLowerCase()))?_(!0):(_(!1),O(!0),await j(n.map((e=>({addressC:e})))),O(!1),Z(n))}),[o,j]),J=(0,a.useCallback)((()=>{Y&&!V&&R(A.Name)}),[Y,V]),Q=(0,a.useCallback)((async e=>{const t=e.target.value;if(K(t),!t||!(0,x.y)(t))return G(!1),Z(I),void _(!1);await H(t)}),[H]),X=(0,a.useCallback)((async e=>{try{U("SeedphraseImportStarted");const r=await L({mnemonic:q.trim().split(/\s+/g).join(" "),name:e});U("SeedphraseImportSuccess"),l.ZP.success(n("{{walletName}} Added",{walletName:r.name})),t.replace("/accounts")}catch(e){U("SeedphraseImportFailure"),(0,v.Z)(e,v.p.WALLET_IMPORT);const{title:t}=F(e);l.ZP.error(t)}}),[U,F,t,L,q,n]),ee=(0,E.a)({Enter:J});return a.createElement(a.Fragment,null,M===A.Name&&a.createElement(N.a,null,a.createElement(b.s,{isImporting:W,onSave:X,onBackClick:()=>R(A.Import)})),a.createElement(s.Kqy,{sx:{width:"100%",height:"100%",background:e.palette.background.paper}},a.createElement(s.Kqy,{direction:"row",sx:{mt:2.5,mb:.5,pr:1}},a.createElement(w.V,{onBackClick:()=>t.replace("/accounts")},n("Add Wallet with SeedÂ Phrase"))),a.createElement(s.Kqy,{sx:{px:2,pt:1,flexGrow:1,gap:3}},a.createElement(P,(0,r.Z)({autoFocus:!0,"data-testid":"add-seed-phrase-input",fullWidth:!0,label:n("Enter Seed Phrase"),inputLabelProps:{sx:{transform:"none",fontSize:"body2.fontSize",mb:1}},onChange:Q,InputProps:{autoComplete:"off",sx:{p:1}},helperText:n(V?"This seed phrase appears to have already been imported.":"Add account(s) by entering a valid seed phrase."),multiline:!0,rows:3,value:q,placeholder:n("Enter Seed Phrase"),error:V,type:"password"},ee)),a.createElement(s.Kqy,{sx:{gap:1}},a.createElement(s.ZT$,{variant:"body2",sx:{fontWeight:"semibold"}},n("Derived Addresses")),a.createElement(s.Kqy,{sx:{gap:1}},D.map(((e,t)=>{const n=e?z(e):null;return a.createElement(s.Zbd,{key:t,sx:{backgroundColor:"grey.800"}},a.createElement(s.aYP,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",px:2,py:1.5,":last-child":{pb:1.5}}},a.createElement(s.ua7,{placement:"top",title:e},a.createElement(s.ZT$,{variant:"body1",component:"span"},e?(0,k.F)(e):"-")),$?a.createElement(s.D8x,{size:24}):a.createElement(s.ZT$,{variant:"body1",color:"text.secondary"},"number"==typeof n?B(n):"")))}))))),a.createElement(s.Kqy,{direction:"row",sx:{py:3,px:2,justifyContent:"center",alignItems:"center"}},a.createElement(s.ua7,{sx:{width:"100%",cursor:"not-allowed"},title:Y?V?n("This seed phrase appears to have already been imported."):"":n("Provided seed phrase is not valid.")},a.createElement(s.zxk,{fullWidth:!0,disabled:!Y||V,size:"large","data-testid":"add-wallet-with-seed-phrase",onClick:J,startIcon:a.createElement(s.DE2,{size:16})},n("Add Seed Phrase"))))))}},88828:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(87462),a=n(67294),o=n(26793),s=n(2734),i=n(68483),l=n(1336),c=n(1627),d=n(67294);function u({isImporting:e,onSave:t,onBackClick:n,backgroundColor:u}){const p=(0,s.Z)(),{t:m}=(0,o.$)(),[h,w]=(0,a.useState)(""),k=(0,a.useCallback)((()=>{t(h)}),[h,t]),f=(0,c.a)({Enter:k,Esc:n});return d.createElement(i.Kqy,{sx:{width:"100%",height:"100%",background:u??p.palette.background.paper}},d.createElement(i.Kqy,{direction:"row",sx:{mt:2.5,mb:.5,pr:1}},d.createElement(l.V,{onBackClick:n},m("Name your Wallet"))),d.createElement(i.Kqy,{sx:{px:2,pt:1,flexGrow:1,gap:3}},d.createElement(i.nvn,(0,r.Z)({autoFocus:!0,"data-testid":"wallet-name-input",fullWidth:!0,label:m("Wallet Name"),inputLabelProps:{sx:{transform:"none",fontSize:"body2.fontSize",mb:1}},onChange:e=>w(e.target.value),value:h,placeholder:m("My New Wallet")},f))),d.createElement(i.Kqy,{sx:{py:3,px:2,gap:1,width:1}},d.createElement(i.zxk,{fullWidth:!0,disabled:!h||e,isLoading:e,size:"large","data-testid":"save-wallet-name",onClick:k},m("Save")),d.createElement(i.zxk,{variant:"text",fullWidth:!0,disabled:e,size:"large","data-testid":"skip-wallet-name",onClick:()=>t()},m("Skip"))))}},13820:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var r=n(67294),a=n(46935),o=n(69518);const s=()=>{const{request:e}=(0,o.K)(),[t,n]=(0,r.useState)(!1);return{isImporting:t,importSeedphrase:(0,r.useCallback)((async t=>{n(!0);try{return await e({method:a.a.WALLET_IMPORT_SEED_PHRASE,params:[t]})}finally{n(!1)}}),[e])}}},43101:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(67294),a=n(71526),o=n(96505),s=n(23170);const i=(e="USD")=>{const{convert:t,hasExchangeRate:n}=(0,a.T)(),{currency:i,currencyFormatter:l}=(0,o.K)(),c=(0,r.useMemo)((()=>(0,s.k)(e)),[e]),d=(0,r.useMemo)((()=>n(e,i)),[e,i,n])&&i!==e;return(0,r.useMemo)((()=>d?n=>{const r=t({amount:n,from:e,to:i});return l(r)}:c),[t,l,c,d,e,i])}},32173:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});let r=function(e){return e.InvalidPassword="keystore-invalid-password",e.InvalidVersion="keystore-invalid-version",e.NoNewWallets="keystore-no-new-wallets",e.Unknown="keystore-unknown-error",e}({})},75127:(e,t,n)=>{"use strict";n.d(t,{j:()=>a,y:()=>o});var r=n(85073);const a=[12,18,24],o=e=>{const t=e.trim().split(/\s+/g);return a.includes(t.length)&&r.t.isValidMnemonic(t.join(" ").toLowerCase())}},35883:()=>{}}]);
//# debugId=6084663c-abb6-532e-a780-042fdec59712
